(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const f of u.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&s(f)}).observe(document,{childList:!0,subtree:!0});function n(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function s(o){if(o.ep)return;o.ep=!0;const u=n(o);fetch(o.href,u)}})();var Zd={exports:{}},bl={};var cv;function y1(){if(cv)return bl;cv=1;var r=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function n(s,o,u){var f=null;if(u!==void 0&&(f=""+u),o.key!==void 0&&(f=""+o.key),"key"in o){u={};for(var m in o)m!=="key"&&(u[m]=o[m])}else u=o;return o=u.ref,{$$typeof:r,type:s,key:f,ref:o!==void 0?o:null,props:u}}return bl.Fragment=t,bl.jsx=n,bl.jsxs=n,bl}var hv;function _1(){return hv||(hv=1,Zd.exports=y1()),Zd.exports}var ht=_1(),Wd={exports:{}},At={};var fv;function v1(){if(fv)return At;fv=1;var r=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),f=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),g=Symbol.for("react.suspense"),y=Symbol.for("react.memo"),E=Symbol.for("react.lazy"),S=Symbol.for("react.activity"),w=Symbol.iterator;function U(M){return M===null||typeof M!="object"?null:(M=w&&M[w]||M["@@iterator"],typeof M=="function"?M:null)}var G={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},J=Object.assign,q={};function tt(M,$,st){this.props=M,this.context=$,this.refs=q,this.updater=st||G}tt.prototype.isReactComponent={},tt.prototype.setState=function(M,$){if(typeof M!="object"&&typeof M!="function"&&M!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,M,$,"setState")},tt.prototype.forceUpdate=function(M){this.updater.enqueueForceUpdate(this,M,"forceUpdate")};function et(){}et.prototype=tt.prototype;function it(M,$,st){this.props=M,this.context=$,this.refs=q,this.updater=st||G}var _t=it.prototype=new et;_t.constructor=it,J(_t,tt.prototype),_t.isPureReactComponent=!0;var ut=Array.isArray;function dt(){}var C={H:null,A:null,T:null,S:null},b=Object.prototype.hasOwnProperty;function R(M,$,st){var lt=st.ref;return{$$typeof:r,type:M,key:$,ref:lt!==void 0?lt:null,props:st}}function V(M,$){return R(M.type,$,M.props)}function N(M){return typeof M=="object"&&M!==null&&M.$$typeof===r}function L(M){var $={"=":"=0",":":"=2"};return"$"+M.replace(/[=:]/g,function(st){return $[st]})}var I=/\/+/g;function re(M,$){return typeof M=="object"&&M!==null&&M.key!=null?L(""+M.key):$.toString(36)}function De(M){switch(M.status){case"fulfilled":return M.value;case"rejected":throw M.reason;default:switch(typeof M.status=="string"?M.then(dt,dt):(M.status="pending",M.then(function($){M.status==="pending"&&(M.status="fulfilled",M.value=$)},function($){M.status==="pending"&&(M.status="rejected",M.reason=$)})),M.status){case"fulfilled":return M.value;case"rejected":throw M.reason}}throw M}function Q(M,$,st,lt,Tt){var Ct=typeof M;(Ct==="undefined"||Ct==="boolean")&&(M=null);var Ut=!1;if(M===null)Ut=!0;else switch(Ct){case"bigint":case"string":case"number":Ut=!0;break;case"object":switch(M.$$typeof){case r:case t:Ut=!0;break;case E:return Ut=M._init,Q(Ut(M._payload),$,st,lt,Tt)}}if(Ut)return Tt=Tt(M),Ut=lt===""?"."+re(M,0):lt,ut(Tt)?(st="",Ut!=null&&(st=Ut.replace(I,"$&/")+"/"),Q(Tt,$,st,"",function(us){return us})):Tt!=null&&(N(Tt)&&(Tt=V(Tt,st+(Tt.key==null||M&&M.key===Tt.key?"":(""+Tt.key).replace(I,"$&/")+"/")+Ut)),$.push(Tt)),1;Ut=0;var Ne=lt===""?".":lt+":";if(ut(M))for(var se=0;se<M.length;se++)lt=M[se],Ct=Ne+re(lt,se),Ut+=Q(lt,$,st,Ct,Tt);else if(se=U(M),typeof se=="function")for(M=se.call(M),se=0;!(lt=M.next()).done;)lt=lt.value,Ct=Ne+re(lt,se++),Ut+=Q(lt,$,st,Ct,Tt);else if(Ct==="object"){if(typeof M.then=="function")return Q(De(M),$,st,lt,Tt);throw $=String(M),Error("Objects are not valid as a React child (found: "+($==="[object Object]"?"object with keys {"+Object.keys(M).join(", ")+"}":$)+"). If you meant to render a collection of children, use an array instead.")}return Ut}function rt(M,$,st){if(M==null)return M;var lt=[],Tt=0;return Q(M,lt,"","",function(Ct){return $.call(st,Ct,Tt++)}),lt}function gt(M){if(M._status===-1){var $=M._result;$=$(),$.then(function(st){(M._status===0||M._status===-1)&&(M._status=1,M._result=st)},function(st){(M._status===0||M._status===-1)&&(M._status=2,M._result=st)}),M._status===-1&&(M._status=0,M._result=$)}if(M._status===1)return M._result.default;throw M._result}var zt=typeof reportError=="function"?reportError:function(M){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var $=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof M=="object"&&M!==null&&typeof M.message=="string"?String(M.message):String(M),error:M});if(!window.dispatchEvent($))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",M);return}console.error(M)},Gt={map:rt,forEach:function(M,$,st){rt(M,function(){$.apply(this,arguments)},st)},count:function(M){var $=0;return rt(M,function(){$++}),$},toArray:function(M){return rt(M,function($){return $})||[]},only:function(M){if(!N(M))throw Error("React.Children.only expected to receive a single React element child.");return M}};return At.Activity=S,At.Children=Gt,At.Component=tt,At.Fragment=n,At.Profiler=o,At.PureComponent=it,At.StrictMode=s,At.Suspense=g,At.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=C,At.__COMPILER_RUNTIME={__proto__:null,c:function(M){return C.H.useMemoCache(M)}},At.cache=function(M){return function(){return M.apply(null,arguments)}},At.cacheSignal=function(){return null},At.cloneElement=function(M,$,st){if(M==null)throw Error("The argument must be a React element, but you passed "+M+".");var lt=J({},M.props),Tt=M.key;if($!=null)for(Ct in $.key!==void 0&&(Tt=""+$.key),$)!b.call($,Ct)||Ct==="key"||Ct==="__self"||Ct==="__source"||Ct==="ref"&&$.ref===void 0||(lt[Ct]=$[Ct]);var Ct=arguments.length-2;if(Ct===1)lt.children=st;else if(1<Ct){for(var Ut=Array(Ct),Ne=0;Ne<Ct;Ne++)Ut[Ne]=arguments[Ne+2];lt.children=Ut}return R(M.type,Tt,lt)},At.createContext=function(M){return M={$$typeof:f,_currentValue:M,_currentValue2:M,_threadCount:0,Provider:null,Consumer:null},M.Provider=M,M.Consumer={$$typeof:u,_context:M},M},At.createElement=function(M,$,st){var lt,Tt={},Ct=null;if($!=null)for(lt in $.key!==void 0&&(Ct=""+$.key),$)b.call($,lt)&&lt!=="key"&&lt!=="__self"&&lt!=="__source"&&(Tt[lt]=$[lt]);var Ut=arguments.length-2;if(Ut===1)Tt.children=st;else if(1<Ut){for(var Ne=Array(Ut),se=0;se<Ut;se++)Ne[se]=arguments[se+2];Tt.children=Ne}if(M&&M.defaultProps)for(lt in Ut=M.defaultProps,Ut)Tt[lt]===void 0&&(Tt[lt]=Ut[lt]);return R(M,Ct,Tt)},At.createRef=function(){return{current:null}},At.forwardRef=function(M){return{$$typeof:m,render:M}},At.isValidElement=N,At.lazy=function(M){return{$$typeof:E,_payload:{_status:-1,_result:M},_init:gt}},At.memo=function(M,$){return{$$typeof:y,type:M,compare:$===void 0?null:$}},At.startTransition=function(M){var $=C.T,st={};C.T=st;try{var lt=M(),Tt=C.S;Tt!==null&&Tt(st,lt),typeof lt=="object"&&lt!==null&&typeof lt.then=="function"&&lt.then(dt,zt)}catch(Ct){zt(Ct)}finally{$!==null&&st.types!==null&&($.types=st.types),C.T=$}},At.unstable_useCacheRefresh=function(){return C.H.useCacheRefresh()},At.use=function(M){return C.H.use(M)},At.useActionState=function(M,$,st){return C.H.useActionState(M,$,st)},At.useCallback=function(M,$){return C.H.useCallback(M,$)},At.useContext=function(M){return C.H.useContext(M)},At.useDebugValue=function(){},At.useDeferredValue=function(M,$){return C.H.useDeferredValue(M,$)},At.useEffect=function(M,$){return C.H.useEffect(M,$)},At.useEffectEvent=function(M){return C.H.useEffectEvent(M)},At.useId=function(){return C.H.useId()},At.useImperativeHandle=function(M,$,st){return C.H.useImperativeHandle(M,$,st)},At.useInsertionEffect=function(M,$){return C.H.useInsertionEffect(M,$)},At.useLayoutEffect=function(M,$){return C.H.useLayoutEffect(M,$)},At.useMemo=function(M,$){return C.H.useMemo(M,$)},At.useOptimistic=function(M,$){return C.H.useOptimistic(M,$)},At.useReducer=function(M,$,st){return C.H.useReducer(M,$,st)},At.useRef=function(M){return C.H.useRef(M)},At.useState=function(M){return C.H.useState(M)},At.useSyncExternalStore=function(M,$,st){return C.H.useSyncExternalStore(M,$,st)},At.useTransition=function(){return C.H.useTransition()},At.version="19.2.0",At}var dv;function Km(){return dv||(dv=1,Wd.exports=v1()),Wd.exports}var F=Km(),tm={exports:{}},wl={},em={exports:{}},nm={};var mv;function E1(){return mv||(mv=1,(function(r){function t(Q,rt){var gt=Q.length;Q.push(rt);t:for(;0<gt;){var zt=gt-1>>>1,Gt=Q[zt];if(0<o(Gt,rt))Q[zt]=rt,Q[gt]=Gt,gt=zt;else break t}}function n(Q){return Q.length===0?null:Q[0]}function s(Q){if(Q.length===0)return null;var rt=Q[0],gt=Q.pop();if(gt!==rt){Q[0]=gt;t:for(var zt=0,Gt=Q.length,M=Gt>>>1;zt<M;){var $=2*(zt+1)-1,st=Q[$],lt=$+1,Tt=Q[lt];if(0>o(st,gt))lt<Gt&&0>o(Tt,st)?(Q[zt]=Tt,Q[lt]=gt,zt=lt):(Q[zt]=st,Q[$]=gt,zt=$);else if(lt<Gt&&0>o(Tt,gt))Q[zt]=Tt,Q[lt]=gt,zt=lt;else break t}}return rt}function o(Q,rt){var gt=Q.sortIndex-rt.sortIndex;return gt!==0?gt:Q.id-rt.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;r.unstable_now=function(){return u.now()}}else{var f=Date,m=f.now();r.unstable_now=function(){return f.now()-m}}var g=[],y=[],E=1,S=null,w=3,U=!1,G=!1,J=!1,q=!1,tt=typeof setTimeout=="function"?setTimeout:null,et=typeof clearTimeout=="function"?clearTimeout:null,it=typeof setImmediate<"u"?setImmediate:null;function _t(Q){for(var rt=n(y);rt!==null;){if(rt.callback===null)s(y);else if(rt.startTime<=Q)s(y),rt.sortIndex=rt.expirationTime,t(g,rt);else break;rt=n(y)}}function ut(Q){if(J=!1,_t(Q),!G)if(n(g)!==null)G=!0,dt||(dt=!0,L());else{var rt=n(y);rt!==null&&De(ut,rt.startTime-Q)}}var dt=!1,C=-1,b=5,R=-1;function V(){return q?!0:!(r.unstable_now()-R<b)}function N(){if(q=!1,dt){var Q=r.unstable_now();R=Q;var rt=!0;try{t:{G=!1,J&&(J=!1,et(C),C=-1),U=!0;var gt=w;try{e:{for(_t(Q),S=n(g);S!==null&&!(S.expirationTime>Q&&V());){var zt=S.callback;if(typeof zt=="function"){S.callback=null,w=S.priorityLevel;var Gt=zt(S.expirationTime<=Q);if(Q=r.unstable_now(),typeof Gt=="function"){S.callback=Gt,_t(Q),rt=!0;break e}S===n(g)&&s(g),_t(Q)}else s(g);S=n(g)}if(S!==null)rt=!0;else{var M=n(y);M!==null&&De(ut,M.startTime-Q),rt=!1}}break t}finally{S=null,w=gt,U=!1}rt=void 0}}finally{rt?L():dt=!1}}}var L;if(typeof it=="function")L=function(){it(N)};else if(typeof MessageChannel<"u"){var I=new MessageChannel,re=I.port2;I.port1.onmessage=N,L=function(){re.postMessage(null)}}else L=function(){tt(N,0)};function De(Q,rt){C=tt(function(){Q(r.unstable_now())},rt)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(Q){Q.callback=null},r.unstable_forceFrameRate=function(Q){0>Q||125<Q?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):b=0<Q?Math.floor(1e3/Q):5},r.unstable_getCurrentPriorityLevel=function(){return w},r.unstable_next=function(Q){switch(w){case 1:case 2:case 3:var rt=3;break;default:rt=w}var gt=w;w=rt;try{return Q()}finally{w=gt}},r.unstable_requestPaint=function(){q=!0},r.unstable_runWithPriority=function(Q,rt){switch(Q){case 1:case 2:case 3:case 4:case 5:break;default:Q=3}var gt=w;w=Q;try{return rt()}finally{w=gt}},r.unstable_scheduleCallback=function(Q,rt,gt){var zt=r.unstable_now();switch(typeof gt=="object"&&gt!==null?(gt=gt.delay,gt=typeof gt=="number"&&0<gt?zt+gt:zt):gt=zt,Q){case 1:var Gt=-1;break;case 2:Gt=250;break;case 5:Gt=1073741823;break;case 4:Gt=1e4;break;default:Gt=5e3}return Gt=gt+Gt,Q={id:E++,callback:rt,priorityLevel:Q,startTime:gt,expirationTime:Gt,sortIndex:-1},gt>zt?(Q.sortIndex=gt,t(y,Q),n(g)===null&&Q===n(y)&&(J?(et(C),C=-1):J=!0,De(ut,gt-zt))):(Q.sortIndex=Gt,t(g,Q),G||U||(G=!0,dt||(dt=!0,L()))),Q},r.unstable_shouldYield=V,r.unstable_wrapCallback=function(Q){var rt=w;return function(){var gt=w;w=rt;try{return Q.apply(this,arguments)}finally{w=gt}}}})(nm)),nm}var pv;function T1(){return pv||(pv=1,em.exports=E1()),em.exports}var im={exports:{}},Xe={};var gv;function S1(){if(gv)return Xe;gv=1;var r=Km();function t(g){var y="https://react.dev/errors/"+g;if(1<arguments.length){y+="?args[]="+encodeURIComponent(arguments[1]);for(var E=2;E<arguments.length;E++)y+="&args[]="+encodeURIComponent(arguments[E])}return"Minified React error #"+g+"; visit "+y+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var s={d:{f:n,r:function(){throw Error(t(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},o=Symbol.for("react.portal");function u(g,y,E){var S=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:S==null?null:""+S,children:g,containerInfo:y,implementation:E}}var f=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function m(g,y){if(g==="font")return"";if(typeof y=="string")return y==="use-credentials"?y:""}return Xe.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,Xe.createPortal=function(g,y){var E=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!y||y.nodeType!==1&&y.nodeType!==9&&y.nodeType!==11)throw Error(t(299));return u(g,y,null,E)},Xe.flushSync=function(g){var y=f.T,E=s.p;try{if(f.T=null,s.p=2,g)return g()}finally{f.T=y,s.p=E,s.d.f()}},Xe.preconnect=function(g,y){typeof g=="string"&&(y?(y=y.crossOrigin,y=typeof y=="string"?y==="use-credentials"?y:"":void 0):y=null,s.d.C(g,y))},Xe.prefetchDNS=function(g){typeof g=="string"&&s.d.D(g)},Xe.preinit=function(g,y){if(typeof g=="string"&&y&&typeof y.as=="string"){var E=y.as,S=m(E,y.crossOrigin),w=typeof y.integrity=="string"?y.integrity:void 0,U=typeof y.fetchPriority=="string"?y.fetchPriority:void 0;E==="style"?s.d.S(g,typeof y.precedence=="string"?y.precedence:void 0,{crossOrigin:S,integrity:w,fetchPriority:U}):E==="script"&&s.d.X(g,{crossOrigin:S,integrity:w,fetchPriority:U,nonce:typeof y.nonce=="string"?y.nonce:void 0})}},Xe.preinitModule=function(g,y){if(typeof g=="string")if(typeof y=="object"&&y!==null){if(y.as==null||y.as==="script"){var E=m(y.as,y.crossOrigin);s.d.M(g,{crossOrigin:E,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0})}}else y==null&&s.d.M(g)},Xe.preload=function(g,y){if(typeof g=="string"&&typeof y=="object"&&y!==null&&typeof y.as=="string"){var E=y.as,S=m(E,y.crossOrigin);s.d.L(g,E,{crossOrigin:S,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0,type:typeof y.type=="string"?y.type:void 0,fetchPriority:typeof y.fetchPriority=="string"?y.fetchPriority:void 0,referrerPolicy:typeof y.referrerPolicy=="string"?y.referrerPolicy:void 0,imageSrcSet:typeof y.imageSrcSet=="string"?y.imageSrcSet:void 0,imageSizes:typeof y.imageSizes=="string"?y.imageSizes:void 0,media:typeof y.media=="string"?y.media:void 0})}},Xe.preloadModule=function(g,y){if(typeof g=="string")if(y){var E=m(y.as,y.crossOrigin);s.d.m(g,{as:typeof y.as=="string"&&y.as!=="script"?y.as:void 0,crossOrigin:E,integrity:typeof y.integrity=="string"?y.integrity:void 0})}else s.d.m(g)},Xe.requestFormReset=function(g){s.d.r(g)},Xe.unstable_batchedUpdates=function(g,y){return g(y)},Xe.useFormState=function(g,y,E){return f.H.useFormState(g,y,E)},Xe.useFormStatus=function(){return f.H.useHostTransitionStatus()},Xe.version="19.2.0",Xe}var yv;function A1(){if(yv)return im.exports;yv=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(t){console.error(t)}}return r(),im.exports=S1(),im.exports}var _v;function b1(){if(_v)return wl;_v=1;var r=T1(),t=Km(),n=A1();function s(e){var i="https://react.dev/errors/"+e;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)i+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+e+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function u(e){var i=e,a=e;if(e.alternate)for(;i.return;)i=i.return;else{e=i;do i=e,(i.flags&4098)!==0&&(a=i.return),e=i.return;while(e)}return i.tag===3?a:null}function f(e){if(e.tag===13){var i=e.memoizedState;if(i===null&&(e=e.alternate,e!==null&&(i=e.memoizedState)),i!==null)return i.dehydrated}return null}function m(e){if(e.tag===31){var i=e.memoizedState;if(i===null&&(e=e.alternate,e!==null&&(i=e.memoizedState)),i!==null)return i.dehydrated}return null}function g(e){if(u(e)!==e)throw Error(s(188))}function y(e){var i=e.alternate;if(!i){if(i=u(e),i===null)throw Error(s(188));return i!==e?null:e}for(var a=e,l=i;;){var h=a.return;if(h===null)break;var d=h.alternate;if(d===null){if(l=h.return,l!==null){a=l;continue}break}if(h.child===d.child){for(d=h.child;d;){if(d===a)return g(h),e;if(d===l)return g(h),i;d=d.sibling}throw Error(s(188))}if(a.return!==l.return)a=h,l=d;else{for(var _=!1,T=h.child;T;){if(T===a){_=!0,a=h,l=d;break}if(T===l){_=!0,l=h,a=d;break}T=T.sibling}if(!_){for(T=d.child;T;){if(T===a){_=!0,a=d,l=h;break}if(T===l){_=!0,l=d,a=h;break}T=T.sibling}if(!_)throw Error(s(189))}}if(a.alternate!==l)throw Error(s(190))}if(a.tag!==3)throw Error(s(188));return a.stateNode.current===a?e:i}function E(e){var i=e.tag;if(i===5||i===26||i===27||i===6)return e;for(e=e.child;e!==null;){if(i=E(e),i!==null)return i;e=e.sibling}return null}var S=Object.assign,w=Symbol.for("react.element"),U=Symbol.for("react.transitional.element"),G=Symbol.for("react.portal"),J=Symbol.for("react.fragment"),q=Symbol.for("react.strict_mode"),tt=Symbol.for("react.profiler"),et=Symbol.for("react.consumer"),it=Symbol.for("react.context"),_t=Symbol.for("react.forward_ref"),ut=Symbol.for("react.suspense"),dt=Symbol.for("react.suspense_list"),C=Symbol.for("react.memo"),b=Symbol.for("react.lazy"),R=Symbol.for("react.activity"),V=Symbol.for("react.memo_cache_sentinel"),N=Symbol.iterator;function L(e){return e===null||typeof e!="object"?null:(e=N&&e[N]||e["@@iterator"],typeof e=="function"?e:null)}var I=Symbol.for("react.client.reference");function re(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===I?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case J:return"Fragment";case tt:return"Profiler";case q:return"StrictMode";case ut:return"Suspense";case dt:return"SuspenseList";case R:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case G:return"Portal";case it:return e.displayName||"Context";case et:return(e._context.displayName||"Context")+".Consumer";case _t:var i=e.render;return e=e.displayName,e||(e=i.displayName||i.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case C:return i=e.displayName||null,i!==null?i:re(e.type)||"Memo";case b:i=e._payload,e=e._init;try{return re(e(i))}catch{}}return null}var De=Array.isArray,Q=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,rt=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,gt={pending:!1,data:null,method:null,action:null},zt=[],Gt=-1;function M(e){return{current:e}}function $(e){0>Gt||(e.current=zt[Gt],zt[Gt]=null,Gt--)}function st(e,i){Gt++,zt[Gt]=e.current,e.current=i}var lt=M(null),Tt=M(null),Ct=M(null),Ut=M(null);function Ne(e,i){switch(st(Ct,i),st(Tt,e),st(lt,null),i.nodeType){case 9:case 11:e=(e=i.documentElement)&&(e=e.namespaceURI)?V_(e):0;break;default:if(e=i.tagName,i=i.namespaceURI)i=V_(i),e=x_(i,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}$(lt),st(lt,e)}function se(){$(lt),$(Tt),$(Ct)}function us(e){e.memoizedState!==null&&st(Ut,e);var i=lt.current,a=x_(i,e.type);i!==a&&(st(Tt,e),st(lt,a))}function $s(e){Tt.current===e&&($(lt),$(Tt)),Ut.current===e&&($(Ut),El._currentValue=gt)}var Js,Zs;function ei(e){if(Js===void 0)try{throw Error()}catch(a){var i=a.stack.trim().match(/\n( *(at )?)/);Js=i&&i[1]||"",Zs=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Js+e+Zs}var Eo=!1;function cs(e,i){if(!e||Eo)return"";Eo=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(i){var X=function(){throw Error()};if(Object.defineProperty(X.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(X,[])}catch(H){var B=H}Reflect.construct(e,[],X)}else{try{X.call()}catch(H){B=H}e.call(X.prototype)}}else{try{throw Error()}catch(H){B=H}(X=e())&&typeof X.catch=="function"&&X.catch(function(){})}}catch(H){if(H&&B&&typeof H.stack=="string")return[H.stack,B.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var d=l.DetermineComponentFrameRoot(),_=d[0],T=d[1];if(_&&T){var D=_.split(`
`),z=T.split(`
`);for(h=l=0;l<D.length&&!D[l].includes("DetermineComponentFrameRoot");)l++;for(;h<z.length&&!z[h].includes("DetermineComponentFrameRoot");)h++;if(l===D.length||h===z.length)for(l=D.length-1,h=z.length-1;1<=l&&0<=h&&D[l]!==z[h];)h--;for(;1<=l&&0<=h;l--,h--)if(D[l]!==z[h]){if(l!==1||h!==1)do if(l--,h--,0>h||D[l]!==z[h]){var K=`
`+D[l].replace(" at new "," at ");return e.displayName&&K.includes("<anonymous>")&&(K=K.replace("<anonymous>",e.displayName)),K}while(1<=l&&0<=h);break}}}finally{Eo=!1,Error.prepareStackTrace=a}return(a=e?e.displayName||e.name:"")?ei(a):""}function To(e,i){switch(e.tag){case 26:case 27:case 5:return ei(e.type);case 16:return ei("Lazy");case 13:return e.child!==i&&i!==null?ei("Suspense Fallback"):ei("Suspense");case 19:return ei("SuspenseList");case 0:case 15:return cs(e.type,!1);case 11:return cs(e.type.render,!1);case 1:return cs(e.type,!0);case 31:return ei("Activity");default:return""}}function So(e){try{var i="",a=null;do i+=To(e,a),a=e,e=e.return;while(e);return i}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}var ye=Object.prototype.hasOwnProperty,Oe=r.unstable_scheduleCallback,or=r.unstable_cancelCallback,Wh=r.unstable_shouldYield,cu=r.unstable_requestPaint,tn=r.unstable_now,hs=r.unstable_getCurrentPriorityLevel,Ao=r.unstable_ImmediatePriority,bo=r.unstable_UserBlockingPriority,lr=r.unstable_NormalPriority,tf=r.unstable_LowPriority,hu=r.unstable_IdlePriority,fu=r.log,du=r.unstable_setDisableYieldValue,zn=null,Be=null;function An(e){if(typeof fu=="function"&&du(e),Be&&typeof Be.setStrictMode=="function")try{Be.setStrictMode(zn,e)}catch{}}var fe=Math.clz32?Math.clz32:pu,mu=Math.log,Ws=Math.LN2;function pu(e){return e>>>=0,e===0?32:31-(mu(e)/Ws|0)|0}var ni=256,fs=262144,_e=4194304;function ii(e){var i=e&42;if(i!==0)return i;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function ri(e,i,a){var l=e.pendingLanes;if(l===0)return 0;var h=0,d=e.suspendedLanes,_=e.pingedLanes;e=e.warmLanes;var T=l&134217727;return T!==0?(l=T&~d,l!==0?h=ii(l):(_&=T,_!==0?h=ii(_):a||(a=T&~e,a!==0&&(h=ii(a))))):(T=l&~d,T!==0?h=ii(T):_!==0?h=ii(_):a||(a=l&~e,a!==0&&(h=ii(a)))),h===0?0:i!==0&&i!==h&&(i&d)===0&&(d=h&-h,a=i&-i,d>=a||d===32&&(a&4194048)!==0)?i:h}function Bn(e,i){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&i)===0}function ef(e,i){switch(e){case 1:case 2:case 4:case 8:case 64:return i+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function gu(){var e=_e;return _e<<=1,(_e&62914560)===0&&(_e=4194304),e}function si(e){for(var i=[],a=0;31>a;a++)i.push(e);return i}function ds(e,i){e.pendingLanes|=i,i!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function nf(e,i,a,l,h,d){var _=e.pendingLanes;e.pendingLanes=a,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=a,e.entangledLanes&=a,e.errorRecoveryDisabledLanes&=a,e.shellSuspendCounter=0;var T=e.entanglements,D=e.expirationTimes,z=e.hiddenUpdates;for(a=_&~a;0<a;){var K=31-fe(a),X=1<<K;T[K]=0,D[K]=-1;var B=z[K];if(B!==null)for(z[K]=null,K=0;K<B.length;K++){var H=B[K];H!==null&&(H.lane&=-536870913)}a&=~X}l!==0&&ms(e,l,0),d!==0&&h===0&&e.tag!==0&&(e.suspendedLanes|=d&~(_&~i))}function ms(e,i,a){e.pendingLanes|=i,e.suspendedLanes&=~i;var l=31-fe(i);e.entangledLanes|=i,e.entanglements[l]=e.entanglements[l]|1073741824|a&261930}function wo(e,i){var a=e.entangledLanes|=i;for(e=e.entanglements;a;){var l=31-fe(a),h=1<<l;h&i|e[l]&i&&(e[l]|=i),a&=~h}}function Ro(e,i){var a=i&-i;return a=(a&42)!==0?1:ps(a),(a&(e.suspendedLanes|i))!==0?0:a}function ps(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Vi(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function yu(){var e=rt.p;return e!==0?e:(e=window.event,e===void 0?32:iv(e.type))}function jn(e,i){var a=rt.p;try{return rt.p=e,i()}finally{rt.p=a}}var qn=Math.random().toString(36).slice(2),ve="__reactFiber$"+qn,Le="__reactProps$"+qn,ai="__reactContainer$"+qn,ta="__reactEvents$"+qn,rf="__reactListeners$"+qn,_u="__reactHandles$"+qn,vu="__reactResources$"+qn,oi="__reactMarker$"+qn;function ea(e){delete e[ve],delete e[Le],delete e[ta],delete e[rf],delete e[_u]}function li(e){var i=e[ve];if(i)return i;for(var a=e.parentNode;a;){if(i=a[ai]||a[ve]){if(a=i.alternate,i.child!==null||a!==null&&a.child!==null)for(e=j_(e);e!==null;){if(a=e[ve])return a;e=j_(e)}return i}e=a,a=e.parentNode}return null}function bn(e){if(e=e[ve]||e[ai]){var i=e.tag;if(i===5||i===6||i===13||i===31||i===26||i===27||i===3)return e}return null}function dn(e){var i=e.tag;if(i===5||i===26||i===27||i===6)return e.stateNode;throw Error(s(33))}function ui(e){var i=e[vu];return i||(i=e[vu]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function Ee(e){e[oi]=!0}var Co=new Set,Io={};function ci(e,i){hi(e,i),hi(e+"Capture",i)}function hi(e,i){for(Io[e]=i,e=0;e<i.length;e++)Co.add(i[e])}var Do=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),No={},Oo={};function Eu(e){return ye.call(Oo,e)?!0:ye.call(No,e)?!1:Do.test(e)?Oo[e]=!0:(No[e]=!0,!1)}function na(e,i,a){if(Eu(i))if(a===null)e.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":e.removeAttribute(i);return;case"boolean":var l=i.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){e.removeAttribute(i);return}}e.setAttribute(i,""+a)}}function mn(e,i,a){if(a===null)e.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(i);return}e.setAttribute(i,""+a)}}function Te(e,i,a,l){if(l===null)e.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(a);return}e.setAttributeNS(i,a,""+l)}}function Pe(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function ur(e){var i=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function Mo(e,i,a){var l=Object.getOwnPropertyDescriptor(e.constructor.prototype,i);if(!e.hasOwnProperty(i)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var h=l.get,d=l.set;return Object.defineProperty(e,i,{configurable:!0,get:function(){return h.call(this)},set:function(_){a=""+_,d.call(this,_)}}),Object.defineProperty(e,i,{enumerable:l.enumerable}),{getValue:function(){return a},setValue:function(_){a=""+_},stopTracking:function(){e._valueTracker=null,delete e[i]}}}}function Kt(e){if(!e._valueTracker){var i=ur(e)?"checked":"value";e._valueTracker=Mo(e,i,""+e[i])}}function gs(e){if(!e)return!1;var i=e._valueTracker;if(!i)return!0;var a=i.getValue(),l="";return e&&(l=ur(e)?e.checked?"true":"false":e.value),e=l,e!==a?(i.setValue(e),!0):!1}function fi(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var ys=/[\n"\\]/g;function rn(e){return e.replace(ys,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function ia(e,i,a,l,h,d,_,T){e.name="",_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"?e.type=_:e.removeAttribute("type"),i!=null?_==="number"?(i===0&&e.value===""||e.value!=i)&&(e.value=""+Pe(i)):e.value!==""+Pe(i)&&(e.value=""+Pe(i)):_!=="submit"&&_!=="reset"||e.removeAttribute("value"),i!=null?Vo(e,_,Pe(i)):a!=null?Vo(e,_,Pe(a)):l!=null&&e.removeAttribute("value"),h==null&&d!=null&&(e.defaultChecked=!!d),h!=null&&(e.checked=h&&typeof h!="function"&&typeof h!="symbol"),T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?e.name=""+Pe(T):e.removeAttribute("name")}function Tu(e,i,a,l,h,d,_,T){if(d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(e.type=d),i!=null||a!=null){if(!(d!=="submit"&&d!=="reset"||i!=null)){Kt(e);return}a=a!=null?""+Pe(a):"",i=i!=null?""+Pe(i):a,T||i===e.value||(e.value=i),e.defaultValue=i}l=l??h,l=typeof l!="function"&&typeof l!="symbol"&&!!l,e.checked=T?e.checked:!!l,e.defaultChecked=!!l,_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"&&(e.name=_),Kt(e)}function Vo(e,i,a){i==="number"&&fi(e.ownerDocument)===e||e.defaultValue===""+a||(e.defaultValue=""+a)}function cr(e,i,a,l){if(e=e.options,i){i={};for(var h=0;h<a.length;h++)i["$"+a[h]]=!0;for(a=0;a<e.length;a++)h=i.hasOwnProperty("$"+e[a].value),e[a].selected!==h&&(e[a].selected=h),h&&l&&(e[a].defaultSelected=!0)}else{for(a=""+Pe(a),i=null,h=0;h<e.length;h++){if(e[h].value===a){e[h].selected=!0,l&&(e[h].defaultSelected=!0);return}i!==null||e[h].disabled||(i=e[h])}i!==null&&(i.selected=!0)}}function Su(e,i,a){if(i!=null&&(i=""+Pe(i),i!==e.value&&(e.value=i),a==null)){e.defaultValue!==i&&(e.defaultValue=i);return}e.defaultValue=a!=null?""+Pe(a):""}function hr(e,i,a,l){if(i==null){if(l!=null){if(a!=null)throw Error(s(92));if(De(l)){if(1<l.length)throw Error(s(93));l=l[0]}a=l}a==null&&(a=""),i=a}a=Pe(i),e.defaultValue=a,l=e.textContent,l===a&&l!==""&&l!==null&&(e.value=l),Kt(e)}function sn(e,i){if(i){var a=e.firstChild;if(a&&a===e.lastChild&&a.nodeType===3){a.nodeValue=i;return}}e.textContent=i}var Au=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function xo(e,i,a){var l=i.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?e.setProperty(i,""):i==="float"?e.cssFloat="":e[i]="":l?e.setProperty(i,a):typeof a!="number"||a===0||Au.has(i)?i==="float"?e.cssFloat=a:e[i]=(""+a).trim():e[i]=a+"px"}function Lo(e,i,a){if(i!=null&&typeof i!="object")throw Error(s(62));if(e=e.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||i!=null&&i.hasOwnProperty(l)||(l.indexOf("--")===0?e.setProperty(l,""):l==="float"?e.cssFloat="":e[l]="");for(var h in i)l=i[h],i.hasOwnProperty(h)&&a[h]!==l&&xo(e,h,l)}else for(var d in i)i.hasOwnProperty(d)&&xo(e,d,i[d])}function ra(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var bu=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),fr=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function sa(e){return fr.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function Hn(){}var Po=null;function wn(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var dr=null,di=null;function _s(e){var i=bn(e);if(i&&(e=i.stateNode)){var a=e[Le]||null;t:switch(e=i.stateNode,i.type){case"input":if(ia(e,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),i=a.name,a.type==="radio"&&i!=null){for(a=e;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+rn(""+i)+'"][type="radio"]'),i=0;i<a.length;i++){var l=a[i];if(l!==e&&l.form===e.form){var h=l[Le]||null;if(!h)throw Error(s(90));ia(l,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(i=0;i<a.length;i++)l=a[i],l.form===e.form&&gs(l)}break t;case"textarea":Su(e,a.value,a.defaultValue);break t;case"select":i=a.value,i!=null&&cr(e,!!a.multiple,i,!1)}}}var aa=!1;function mr(e,i,a){if(aa)return e(i,a);aa=!0;try{var l=e(i);return l}finally{if(aa=!1,(dr!==null||di!==null)&&(yc(),dr&&(i=dr,e=di,di=dr=null,_s(i),e)))for(i=0;i<e.length;i++)_s(e[i])}}function Fn(e,i){var a=e.stateNode;if(a===null)return null;var l=a[Le]||null;if(l===null)return null;a=l[i];t:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(e=e.type,l=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!l;break t;default:e=!1}if(e)return null;if(a&&typeof a!="function")throw Error(s(231,i,typeof a));return a}var Rn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),vs=!1;if(Rn)try{var Xt={};Object.defineProperty(Xt,"passive",{get:function(){vs=!0}}),window.addEventListener("test",Xt,Xt),window.removeEventListener("test",Xt,Xt)}catch{vs=!1}var mi=null,Uo=null,Es=null;function ko(){if(Es)return Es;var e,i=Uo,a=i.length,l,h="value"in mi?mi.value:mi.textContent,d=h.length;for(e=0;e<a&&i[e]===h[e];e++);var _=a-e;for(l=1;l<=_&&i[a-l]===h[d-l];l++);return Es=h.slice(e,1<l?1-l:void 0)}function Ts(e){var i=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&i===13&&(e=13)):e=i,e===10&&(e=13),32<=e||e===13?e:0}function xi(){return!0}function Gn(){return!1}function je(e){function i(a,l,h,d,_){this._reactName=a,this._targetInst=h,this.type=l,this.nativeEvent=d,this.target=_,this.currentTarget=null;for(var T in e)e.hasOwnProperty(T)&&(a=e[T],this[T]=a?a(d):d[T]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?xi:Gn,this.isPropagationStopped=Gn,this}return S(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=xi)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=xi)},persist:function(){},isPersistent:xi}),i}var Li={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},pi=je(Li),pr=S({},Li,{view:0,detail:0}),zo=je(pr),gr,oa,gi,la=S({},pr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:yr,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==gi&&(gi&&e.type==="mousemove"?(gr=e.screenX-gi.screenX,oa=e.screenY-gi.screenY):oa=gr=0,gi=e),gr)},movementY:function(e){return"movementY"in e?e.movementY:oa}}),Bo=je(la),Ss=S({},la,{dataTransfer:0}),wu=je(Ss),Ru=S({},pr,{relatedTarget:0}),As=je(Ru),jo=S({},Li,{animationName:0,elapsedTime:0,pseudoElement:0}),Cu=je(jo),ua=S({},Li,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Iu=je(ua),Du=S({},Li,{data:0}),yi=je(Du),Nu={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Ou={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Mu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Vu(e){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(e):(e=Mu[e])?!!i[e]:!1}function yr(){return Vu}var en=S({},pr,{key:function(e){if(e.key){var i=Nu[e.key]||e.key;if(i!=="Unidentified")return i}return e.type==="keypress"?(e=Ts(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Ou[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:yr,charCode:function(e){return e.type==="keypress"?Ts(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Ts(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),xu=je(en),Lu=S({},la,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Pi=je(Lu),c=S({},pr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:yr}),p=je(c),v=S({},Li,{propertyName:0,elapsedTime:0,pseudoElement:0}),A=je(v),P=S({},la,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),j=je(P),nt=S({},Li,{newState:0,oldState:0}),wt=je(nt),de=[9,13,27,32],qt=Rn&&"CompositionEvent"in window,ae=null;Rn&&"documentMode"in document&&(ae=document.documentMode);var Cn=Rn&&"TextEvent"in window&&!ae,_i=Rn&&(!qt||ae&&8<ae&&11>=ae),Kn=" ",Qn=!1;function bs(e,i){switch(e){case"keyup":return de.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ca(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var ha=!1;function jS(e,i){switch(e){case"compositionend":return ca(i);case"keypress":return i.which!==32?null:(Qn=!0,Kn);case"textInput":return e=i.data,e===Kn&&Qn?null:e;default:return null}}function qS(e,i){if(ha)return e==="compositionend"||!qt&&bs(e,i)?(e=ko(),Es=Uo=mi=null,ha=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return _i&&i.locale!=="ko"?null:i.data;default:return null}}var HS={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Fp(e){var i=e&&e.nodeName&&e.nodeName.toLowerCase();return i==="input"?!!HS[e.type]:i==="textarea"}function Gp(e,i,a,l){dr?di?di.push(l):di=[l]:dr=l,i=bc(i,"onChange"),0<i.length&&(a=new pi("onChange","change",null,a,l),e.push({event:a,listeners:i}))}var qo=null,Ho=null;function FS(e){C_(e,0)}function Pu(e){var i=dn(e);if(gs(i))return e}function Kp(e,i){if(e==="change")return i}var Qp=!1;if(Rn){var sf;if(Rn){var af="oninput"in document;if(!af){var Yp=document.createElement("div");Yp.setAttribute("oninput","return;"),af=typeof Yp.oninput=="function"}sf=af}else sf=!1;Qp=sf&&(!document.documentMode||9<document.documentMode)}function Xp(){qo&&(qo.detachEvent("onpropertychange",$p),Ho=qo=null)}function $p(e){if(e.propertyName==="value"&&Pu(Ho)){var i=[];Gp(i,Ho,e,wn(e)),mr(FS,i)}}function GS(e,i,a){e==="focusin"?(Xp(),qo=i,Ho=a,qo.attachEvent("onpropertychange",$p)):e==="focusout"&&Xp()}function KS(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Pu(Ho)}function QS(e,i){if(e==="click")return Pu(i)}function YS(e,i){if(e==="input"||e==="change")return Pu(i)}function XS(e,i){return e===i&&(e!==0||1/e===1/i)||e!==e&&i!==i}var pn=typeof Object.is=="function"?Object.is:XS;function Fo(e,i){if(pn(e,i))return!0;if(typeof e!="object"||e===null||typeof i!="object"||i===null)return!1;var a=Object.keys(e),l=Object.keys(i);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var h=a[l];if(!ye.call(i,h)||!pn(e[h],i[h]))return!1}return!0}function Jp(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Zp(e,i){var a=Jp(e);e=0;for(var l;a;){if(a.nodeType===3){if(l=e+a.textContent.length,e<=i&&l>=i)return{node:a,offset:i-e};e=l}t:{for(;a;){if(a.nextSibling){a=a.nextSibling;break t}a=a.parentNode}a=void 0}a=Jp(a)}}function Wp(e,i){return e&&i?e===i?!0:e&&e.nodeType===3?!1:i&&i.nodeType===3?Wp(e,i.parentNode):"contains"in e?e.contains(i):e.compareDocumentPosition?!!(e.compareDocumentPosition(i)&16):!1:!1}function tg(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var i=fi(e.document);i instanceof e.HTMLIFrameElement;){try{var a=typeof i.contentWindow.location.href=="string"}catch{a=!1}if(a)e=i.contentWindow;else break;i=fi(e.document)}return i}function of(e){var i=e&&e.nodeName&&e.nodeName.toLowerCase();return i&&(i==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||i==="textarea"||e.contentEditable==="true")}var $S=Rn&&"documentMode"in document&&11>=document.documentMode,fa=null,lf=null,Go=null,uf=!1;function eg(e,i,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;uf||fa==null||fa!==fi(l)||(l=fa,"selectionStart"in l&&of(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),Go&&Fo(Go,l)||(Go=l,l=bc(lf,"onSelect"),0<l.length&&(i=new pi("onSelect","select",null,i,a),e.push({event:i,listeners:l}),i.target=fa)))}function ws(e,i){var a={};return a[e.toLowerCase()]=i.toLowerCase(),a["Webkit"+e]="webkit"+i,a["Moz"+e]="moz"+i,a}var da={animationend:ws("Animation","AnimationEnd"),animationiteration:ws("Animation","AnimationIteration"),animationstart:ws("Animation","AnimationStart"),transitionrun:ws("Transition","TransitionRun"),transitionstart:ws("Transition","TransitionStart"),transitioncancel:ws("Transition","TransitionCancel"),transitionend:ws("Transition","TransitionEnd")},cf={},ng={};Rn&&(ng=document.createElement("div").style,"AnimationEvent"in window||(delete da.animationend.animation,delete da.animationiteration.animation,delete da.animationstart.animation),"TransitionEvent"in window||delete da.transitionend.transition);function Rs(e){if(cf[e])return cf[e];if(!da[e])return e;var i=da[e],a;for(a in i)if(i.hasOwnProperty(a)&&a in ng)return cf[e]=i[a];return e}var ig=Rs("animationend"),rg=Rs("animationiteration"),sg=Rs("animationstart"),JS=Rs("transitionrun"),ZS=Rs("transitionstart"),WS=Rs("transitioncancel"),ag=Rs("transitionend"),og=new Map,hf="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");hf.push("scrollEnd");function Yn(e,i){og.set(e,i),ci(i,[e])}var Uu=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},In=[],ma=0,ff=0;function ku(){for(var e=ma,i=ff=ma=0;i<e;){var a=In[i];In[i++]=null;var l=In[i];In[i++]=null;var h=In[i];In[i++]=null;var d=In[i];if(In[i++]=null,l!==null&&h!==null){var _=l.pending;_===null?h.next=h:(h.next=_.next,_.next=h),l.pending=h}d!==0&&lg(a,h,d)}}function zu(e,i,a,l){In[ma++]=e,In[ma++]=i,In[ma++]=a,In[ma++]=l,ff|=l,e.lanes|=l,e=e.alternate,e!==null&&(e.lanes|=l)}function df(e,i,a,l){return zu(e,i,a,l),Bu(e)}function Cs(e,i){return zu(e,null,null,i),Bu(e)}function lg(e,i,a){e.lanes|=a;var l=e.alternate;l!==null&&(l.lanes|=a);for(var h=!1,d=e.return;d!==null;)d.childLanes|=a,l=d.alternate,l!==null&&(l.childLanes|=a),d.tag===22&&(e=d.stateNode,e===null||e._visibility&1||(h=!0)),e=d,d=d.return;return e.tag===3?(d=e.stateNode,h&&i!==null&&(h=31-fe(a),e=d.hiddenUpdates,l=e[h],l===null?e[h]=[i]:l.push(i),i.lane=a|536870912),d):null}function Bu(e){if(50<dl)throw dl=0,Sd=null,Error(s(185));for(var i=e.return;i!==null;)e=i,i=e.return;return e.tag===3?e.stateNode:null}var pa={};function tA(e,i,a,l){this.tag=e,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function gn(e,i,a,l){return new tA(e,i,a,l)}function mf(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Ui(e,i){var a=e.alternate;return a===null?(a=gn(e.tag,i,e.key,e.mode),a.elementType=e.elementType,a.type=e.type,a.stateNode=e.stateNode,a.alternate=e,e.alternate=a):(a.pendingProps=i,a.type=e.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=e.flags&65011712,a.childLanes=e.childLanes,a.lanes=e.lanes,a.child=e.child,a.memoizedProps=e.memoizedProps,a.memoizedState=e.memoizedState,a.updateQueue=e.updateQueue,i=e.dependencies,a.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},a.sibling=e.sibling,a.index=e.index,a.ref=e.ref,a.refCleanup=e.refCleanup,a}function ug(e,i){e.flags&=65011714;var a=e.alternate;return a===null?(e.childLanes=0,e.lanes=i,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=a.childLanes,e.lanes=a.lanes,e.child=a.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=a.memoizedProps,e.memoizedState=a.memoizedState,e.updateQueue=a.updateQueue,e.type=a.type,i=a.dependencies,e.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),e}function ju(e,i,a,l,h,d){var _=0;if(l=e,typeof e=="function")mf(e)&&(_=1);else if(typeof e=="string")_=s1(e,a,lt.current)?26:e==="html"||e==="head"||e==="body"?27:5;else t:switch(e){case R:return e=gn(31,a,i,h),e.elementType=R,e.lanes=d,e;case J:return Is(a.children,h,d,i);case q:_=8,h|=24;break;case tt:return e=gn(12,a,i,h|2),e.elementType=tt,e.lanes=d,e;case ut:return e=gn(13,a,i,h),e.elementType=ut,e.lanes=d,e;case dt:return e=gn(19,a,i,h),e.elementType=dt,e.lanes=d,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case it:_=10;break t;case et:_=9;break t;case _t:_=11;break t;case C:_=14;break t;case b:_=16,l=null;break t}_=29,a=Error(s(130,e===null?"null":typeof e,"")),l=null}return i=gn(_,a,i,h),i.elementType=e,i.type=l,i.lanes=d,i}function Is(e,i,a,l){return e=gn(7,e,l,i),e.lanes=a,e}function pf(e,i,a){return e=gn(6,e,null,i),e.lanes=a,e}function cg(e){var i=gn(18,null,null,0);return i.stateNode=e,i}function gf(e,i,a){return i=gn(4,e.children!==null?e.children:[],e.key,i),i.lanes=a,i.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},i}var hg=new WeakMap;function Dn(e,i){if(typeof e=="object"&&e!==null){var a=hg.get(e);return a!==void 0?a:(i={value:e,source:i,stack:So(i)},hg.set(e,i),i)}return{value:e,source:i,stack:So(i)}}var ga=[],ya=0,qu=null,Ko=0,Nn=[],On=0,_r=null,vi=1,Ei="";function ki(e,i){ga[ya++]=Ko,ga[ya++]=qu,qu=e,Ko=i}function fg(e,i,a){Nn[On++]=vi,Nn[On++]=Ei,Nn[On++]=_r,_r=e;var l=vi;e=Ei;var h=32-fe(l)-1;l&=~(1<<h),a+=1;var d=32-fe(i)+h;if(30<d){var _=h-h%5;d=(l&(1<<_)-1).toString(32),l>>=_,h-=_,vi=1<<32-fe(i)+h|a<<h|l,Ei=d+e}else vi=1<<d|a<<h|l,Ei=e}function yf(e){e.return!==null&&(ki(e,1),fg(e,1,0))}function _f(e){for(;e===qu;)qu=ga[--ya],ga[ya]=null,Ko=ga[--ya],ga[ya]=null;for(;e===_r;)_r=Nn[--On],Nn[On]=null,Ei=Nn[--On],Nn[On]=null,vi=Nn[--On],Nn[On]=null}function dg(e,i){Nn[On++]=vi,Nn[On++]=Ei,Nn[On++]=_r,vi=i.id,Ei=i.overflow,_r=e}var qe=null,ee=null,Pt=!1,vr=null,Mn=!1,vf=Error(s(519));function Er(e){var i=Error(s(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Qo(Dn(i,e)),vf}function mg(e){var i=e.stateNode,a=e.type,l=e.memoizedProps;switch(i[ve]=e,i[Le]=l,a){case"dialog":Nt("cancel",i),Nt("close",i);break;case"iframe":case"object":case"embed":Nt("load",i);break;case"video":case"audio":for(a=0;a<pl.length;a++)Nt(pl[a],i);break;case"source":Nt("error",i);break;case"img":case"image":case"link":Nt("error",i),Nt("load",i);break;case"details":Nt("toggle",i);break;case"input":Nt("invalid",i),Tu(i,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0);break;case"select":Nt("invalid",i);break;case"textarea":Nt("invalid",i),hr(i,l.value,l.defaultValue,l.children)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||i.textContent===""+a||l.suppressHydrationWarning===!0||O_(i.textContent,a)?(l.popover!=null&&(Nt("beforetoggle",i),Nt("toggle",i)),l.onScroll!=null&&Nt("scroll",i),l.onScrollEnd!=null&&Nt("scrollend",i),l.onClick!=null&&(i.onclick=Hn),i=!0):i=!1,i||Er(e,!0)}function pg(e){for(qe=e.return;qe;)switch(qe.tag){case 5:case 31:case 13:Mn=!1;return;case 27:case 3:Mn=!0;return;default:qe=qe.return}}function _a(e){if(e!==qe)return!1;if(!Pt)return pg(e),Pt=!0,!1;var i=e.tag,a;if((a=i!==3&&i!==27)&&((a=i===5)&&(a=e.type,a=!(a!=="form"&&a!=="button")||Ud(e.type,e.memoizedProps)),a=!a),a&&ee&&Er(e),pg(e),i===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(s(317));ee=B_(e)}else if(i===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(s(317));ee=B_(e)}else i===27?(i=ee,xr(e.type)?(e=qd,qd=null,ee=e):ee=i):ee=qe?xn(e.stateNode.nextSibling):null;return!0}function Ds(){ee=qe=null,Pt=!1}function Ef(){var e=vr;return e!==null&&(un===null?un=e:un.push.apply(un,e),vr=null),e}function Qo(e){vr===null?vr=[e]:vr.push(e)}var Tf=M(null),Ns=null,zi=null;function Tr(e,i,a){st(Tf,i._currentValue),i._currentValue=a}function Bi(e){e._currentValue=Tf.current,$(Tf)}function Sf(e,i,a){for(;e!==null;){var l=e.alternate;if((e.childLanes&i)!==i?(e.childLanes|=i,l!==null&&(l.childLanes|=i)):l!==null&&(l.childLanes&i)!==i&&(l.childLanes|=i),e===a)break;e=e.return}}function Af(e,i,a,l){var h=e.child;for(h!==null&&(h.return=e);h!==null;){var d=h.dependencies;if(d!==null){var _=h.child;d=d.firstContext;t:for(;d!==null;){var T=d;d=h;for(var D=0;D<i.length;D++)if(T.context===i[D]){d.lanes|=a,T=d.alternate,T!==null&&(T.lanes|=a),Sf(d.return,a,e),l||(_=null);break t}d=T.next}}else if(h.tag===18){if(_=h.return,_===null)throw Error(s(341));_.lanes|=a,d=_.alternate,d!==null&&(d.lanes|=a),Sf(_,a,e),_=null}else _=h.child;if(_!==null)_.return=h;else for(_=h;_!==null;){if(_===e){_=null;break}if(h=_.sibling,h!==null){h.return=_.return,_=h;break}_=_.return}h=_}}function va(e,i,a,l){e=null;for(var h=i,d=!1;h!==null;){if(!d){if((h.flags&524288)!==0)d=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var _=h.alternate;if(_===null)throw Error(s(387));if(_=_.memoizedProps,_!==null){var T=h.type;pn(h.pendingProps.value,_.value)||(e!==null?e.push(T):e=[T])}}else if(h===Ut.current){if(_=h.alternate,_===null)throw Error(s(387));_.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(e!==null?e.push(El):e=[El])}h=h.return}e!==null&&Af(i,e,a,l),i.flags|=262144}function Hu(e){for(e=e.firstContext;e!==null;){if(!pn(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Os(e){Ns=e,zi=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function He(e){return gg(Ns,e)}function Fu(e,i){return Ns===null&&Os(e),gg(e,i)}function gg(e,i){var a=i._currentValue;if(i={context:i,memoizedValue:a,next:null},zi===null){if(e===null)throw Error(s(308));zi=i,e.dependencies={lanes:0,firstContext:i},e.flags|=524288}else zi=zi.next=i;return a}var eA=typeof AbortController<"u"?AbortController:function(){var e=[],i=this.signal={aborted:!1,addEventListener:function(a,l){e.push(l)}};this.abort=function(){i.aborted=!0,e.forEach(function(a){return a()})}},nA=r.unstable_scheduleCallback,iA=r.unstable_NormalPriority,Se={$$typeof:it,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function bf(){return{controller:new eA,data:new Map,refCount:0}}function Yo(e){e.refCount--,e.refCount===0&&nA(iA,function(){e.controller.abort()})}var Xo=null,wf=0,Ea=0,Ta=null;function rA(e,i){if(Xo===null){var a=Xo=[];wf=0,Ea=Id(),Ta={status:"pending",value:void 0,then:function(l){a.push(l)}}}return wf++,i.then(yg,yg),i}function yg(){if(--wf===0&&Xo!==null){Ta!==null&&(Ta.status="fulfilled");var e=Xo;Xo=null,Ea=0,Ta=null;for(var i=0;i<e.length;i++)(0,e[i])()}}function sA(e,i){var a=[],l={status:"pending",value:null,reason:null,then:function(h){a.push(h)}};return e.then(function(){l.status="fulfilled",l.value=i;for(var h=0;h<a.length;h++)(0,a[h])(i)},function(h){for(l.status="rejected",l.reason=h,h=0;h<a.length;h++)(0,a[h])(void 0)}),l}var _g=Q.S;Q.S=function(e,i){e_=tn(),typeof i=="object"&&i!==null&&typeof i.then=="function"&&rA(e,i),_g!==null&&_g(e,i)};var Ms=M(null);function Rf(){var e=Ms.current;return e!==null?e:Wt.pooledCache}function Gu(e,i){i===null?st(Ms,Ms.current):st(Ms,i.pool)}function vg(){var e=Rf();return e===null?null:{parent:Se._currentValue,pool:e}}var Sa=Error(s(460)),Cf=Error(s(474)),Ku=Error(s(542)),Qu={then:function(){}};function Eg(e){return e=e.status,e==="fulfilled"||e==="rejected"}function Tg(e,i,a){switch(a=e[a],a===void 0?e.push(i):a!==i&&(i.then(Hn,Hn),i=a),i.status){case"fulfilled":return i.value;case"rejected":throw e=i.reason,Ag(e),e;default:if(typeof i.status=="string")i.then(Hn,Hn);else{if(e=Wt,e!==null&&100<e.shellSuspendCounter)throw Error(s(482));e=i,e.status="pending",e.then(function(l){if(i.status==="pending"){var h=i;h.status="fulfilled",h.value=l}},function(l){if(i.status==="pending"){var h=i;h.status="rejected",h.reason=l}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw e=i.reason,Ag(e),e}throw xs=i,Sa}}function Vs(e){try{var i=e._init;return i(e._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(xs=a,Sa):a}}var xs=null;function Sg(){if(xs===null)throw Error(s(459));var e=xs;return xs=null,e}function Ag(e){if(e===Sa||e===Ku)throw Error(s(483))}var Aa=null,$o=0;function Yu(e){var i=$o;return $o+=1,Aa===null&&(Aa=[]),Tg(Aa,e,i)}function Jo(e,i){i=i.props.ref,e.ref=i!==void 0?i:null}function Xu(e,i){throw i.$$typeof===w?Error(s(525)):(e=Object.prototype.toString.call(i),Error(s(31,e==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":e)))}function bg(e){function i(x,O){if(e){var k=x.deletions;k===null?(x.deletions=[O],x.flags|=16):k.push(O)}}function a(x,O){if(!e)return null;for(;O!==null;)i(x,O),O=O.sibling;return null}function l(x){for(var O=new Map;x!==null;)x.key!==null?O.set(x.key,x):O.set(x.index,x),x=x.sibling;return O}function h(x,O){return x=Ui(x,O),x.index=0,x.sibling=null,x}function d(x,O,k){return x.index=k,e?(k=x.alternate,k!==null?(k=k.index,k<O?(x.flags|=67108866,O):k):(x.flags|=67108866,O)):(x.flags|=1048576,O)}function _(x){return e&&x.alternate===null&&(x.flags|=67108866),x}function T(x,O,k,Y){return O===null||O.tag!==6?(O=pf(k,x.mode,Y),O.return=x,O):(O=h(O,k),O.return=x,O)}function D(x,O,k,Y){var mt=k.type;return mt===J?K(x,O,k.props.children,Y,k.key):O!==null&&(O.elementType===mt||typeof mt=="object"&&mt!==null&&mt.$$typeof===b&&Vs(mt)===O.type)?(O=h(O,k.props),Jo(O,k),O.return=x,O):(O=ju(k.type,k.key,k.props,null,x.mode,Y),Jo(O,k),O.return=x,O)}function z(x,O,k,Y){return O===null||O.tag!==4||O.stateNode.containerInfo!==k.containerInfo||O.stateNode.implementation!==k.implementation?(O=gf(k,x.mode,Y),O.return=x,O):(O=h(O,k.children||[]),O.return=x,O)}function K(x,O,k,Y,mt){return O===null||O.tag!==7?(O=Is(k,x.mode,Y,mt),O.return=x,O):(O=h(O,k),O.return=x,O)}function X(x,O,k){if(typeof O=="string"&&O!==""||typeof O=="number"||typeof O=="bigint")return O=pf(""+O,x.mode,k),O.return=x,O;if(typeof O=="object"&&O!==null){switch(O.$$typeof){case U:return k=ju(O.type,O.key,O.props,null,x.mode,k),Jo(k,O),k.return=x,k;case G:return O=gf(O,x.mode,k),O.return=x,O;case b:return O=Vs(O),X(x,O,k)}if(De(O)||L(O))return O=Is(O,x.mode,k,null),O.return=x,O;if(typeof O.then=="function")return X(x,Yu(O),k);if(O.$$typeof===it)return X(x,Fu(x,O),k);Xu(x,O)}return null}function B(x,O,k,Y){var mt=O!==null?O.key:null;if(typeof k=="string"&&k!==""||typeof k=="number"||typeof k=="bigint")return mt!==null?null:T(x,O,""+k,Y);if(typeof k=="object"&&k!==null){switch(k.$$typeof){case U:return k.key===mt?D(x,O,k,Y):null;case G:return k.key===mt?z(x,O,k,Y):null;case b:return k=Vs(k),B(x,O,k,Y)}if(De(k)||L(k))return mt!==null?null:K(x,O,k,Y,null);if(typeof k.then=="function")return B(x,O,Yu(k),Y);if(k.$$typeof===it)return B(x,O,Fu(x,k),Y);Xu(x,k)}return null}function H(x,O,k,Y,mt){if(typeof Y=="string"&&Y!==""||typeof Y=="number"||typeof Y=="bigint")return x=x.get(k)||null,T(O,x,""+Y,mt);if(typeof Y=="object"&&Y!==null){switch(Y.$$typeof){case U:return x=x.get(Y.key===null?k:Y.key)||null,D(O,x,Y,mt);case G:return x=x.get(Y.key===null?k:Y.key)||null,z(O,x,Y,mt);case b:return Y=Vs(Y),H(x,O,k,Y,mt)}if(De(Y)||L(Y))return x=x.get(k)||null,K(O,x,Y,mt,null);if(typeof Y.then=="function")return H(x,O,k,Yu(Y),mt);if(Y.$$typeof===it)return H(x,O,k,Fu(O,Y),mt);Xu(O,Y)}return null}function ct(x,O,k,Y){for(var mt=null,Bt=null,ft=O,It=O=0,Mt=null;ft!==null&&It<k.length;It++){ft.index>It?(Mt=ft,ft=null):Mt=ft.sibling;var jt=B(x,ft,k[It],Y);if(jt===null){ft===null&&(ft=Mt);break}e&&ft&&jt.alternate===null&&i(x,ft),O=d(jt,O,It),Bt===null?mt=jt:Bt.sibling=jt,Bt=jt,ft=Mt}if(It===k.length)return a(x,ft),Pt&&ki(x,It),mt;if(ft===null){for(;It<k.length;It++)ft=X(x,k[It],Y),ft!==null&&(O=d(ft,O,It),Bt===null?mt=ft:Bt.sibling=ft,Bt=ft);return Pt&&ki(x,It),mt}for(ft=l(ft);It<k.length;It++)Mt=H(ft,x,It,k[It],Y),Mt!==null&&(e&&Mt.alternate!==null&&ft.delete(Mt.key===null?It:Mt.key),O=d(Mt,O,It),Bt===null?mt=Mt:Bt.sibling=Mt,Bt=Mt);return e&&ft.forEach(function(zr){return i(x,zr)}),Pt&&ki(x,It),mt}function yt(x,O,k,Y){if(k==null)throw Error(s(151));for(var mt=null,Bt=null,ft=O,It=O=0,Mt=null,jt=k.next();ft!==null&&!jt.done;It++,jt=k.next()){ft.index>It?(Mt=ft,ft=null):Mt=ft.sibling;var zr=B(x,ft,jt.value,Y);if(zr===null){ft===null&&(ft=Mt);break}e&&ft&&zr.alternate===null&&i(x,ft),O=d(zr,O,It),Bt===null?mt=zr:Bt.sibling=zr,Bt=zr,ft=Mt}if(jt.done)return a(x,ft),Pt&&ki(x,It),mt;if(ft===null){for(;!jt.done;It++,jt=k.next())jt=X(x,jt.value,Y),jt!==null&&(O=d(jt,O,It),Bt===null?mt=jt:Bt.sibling=jt,Bt=jt);return Pt&&ki(x,It),mt}for(ft=l(ft);!jt.done;It++,jt=k.next())jt=H(ft,x,It,jt.value,Y),jt!==null&&(e&&jt.alternate!==null&&ft.delete(jt.key===null?It:jt.key),O=d(jt,O,It),Bt===null?mt=jt:Bt.sibling=jt,Bt=jt);return e&&ft.forEach(function(g1){return i(x,g1)}),Pt&&ki(x,It),mt}function Zt(x,O,k,Y){if(typeof k=="object"&&k!==null&&k.type===J&&k.key===null&&(k=k.props.children),typeof k=="object"&&k!==null){switch(k.$$typeof){case U:t:{for(var mt=k.key;O!==null;){if(O.key===mt){if(mt=k.type,mt===J){if(O.tag===7){a(x,O.sibling),Y=h(O,k.props.children),Y.return=x,x=Y;break t}}else if(O.elementType===mt||typeof mt=="object"&&mt!==null&&mt.$$typeof===b&&Vs(mt)===O.type){a(x,O.sibling),Y=h(O,k.props),Jo(Y,k),Y.return=x,x=Y;break t}a(x,O);break}else i(x,O);O=O.sibling}k.type===J?(Y=Is(k.props.children,x.mode,Y,k.key),Y.return=x,x=Y):(Y=ju(k.type,k.key,k.props,null,x.mode,Y),Jo(Y,k),Y.return=x,x=Y)}return _(x);case G:t:{for(mt=k.key;O!==null;){if(O.key===mt)if(O.tag===4&&O.stateNode.containerInfo===k.containerInfo&&O.stateNode.implementation===k.implementation){a(x,O.sibling),Y=h(O,k.children||[]),Y.return=x,x=Y;break t}else{a(x,O);break}else i(x,O);O=O.sibling}Y=gf(k,x.mode,Y),Y.return=x,x=Y}return _(x);case b:return k=Vs(k),Zt(x,O,k,Y)}if(De(k))return ct(x,O,k,Y);if(L(k)){if(mt=L(k),typeof mt!="function")throw Error(s(150));return k=mt.call(k),yt(x,O,k,Y)}if(typeof k.then=="function")return Zt(x,O,Yu(k),Y);if(k.$$typeof===it)return Zt(x,O,Fu(x,k),Y);Xu(x,k)}return typeof k=="string"&&k!==""||typeof k=="number"||typeof k=="bigint"?(k=""+k,O!==null&&O.tag===6?(a(x,O.sibling),Y=h(O,k),Y.return=x,x=Y):(a(x,O),Y=pf(k,x.mode,Y),Y.return=x,x=Y),_(x)):a(x,O)}return function(x,O,k,Y){try{$o=0;var mt=Zt(x,O,k,Y);return Aa=null,mt}catch(ft){if(ft===Sa||ft===Ku)throw ft;var Bt=gn(29,ft,null,x.mode);return Bt.lanes=Y,Bt.return=x,Bt}finally{}}}var Ls=bg(!0),wg=bg(!1),Sr=!1;function If(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Df(e,i){e=e.updateQueue,i.updateQueue===e&&(i.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Ar(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function br(e,i,a){var l=e.updateQueue;if(l===null)return null;if(l=l.shared,(Ht&2)!==0){var h=l.pending;return h===null?i.next=i:(i.next=h.next,h.next=i),l.pending=i,i=Bu(e),lg(e,null,a),i}return zu(e,l,i,a),Bu(e)}function Zo(e,i,a){if(i=i.updateQueue,i!==null&&(i=i.shared,(a&4194048)!==0)){var l=i.lanes;l&=e.pendingLanes,a|=l,i.lanes=a,wo(e,a)}}function Nf(e,i){var a=e.updateQueue,l=e.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var h=null,d=null;if(a=a.firstBaseUpdate,a!==null){do{var _={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};d===null?h=d=_:d=d.next=_,a=a.next}while(a!==null);d===null?h=d=i:d=d.next=i}else h=d=i;a={baseState:l.baseState,firstBaseUpdate:h,lastBaseUpdate:d,shared:l.shared,callbacks:l.callbacks},e.updateQueue=a;return}e=a.lastBaseUpdate,e===null?a.firstBaseUpdate=i:e.next=i,a.lastBaseUpdate=i}var Of=!1;function Wo(){if(Of){var e=Ta;if(e!==null)throw e}}function tl(e,i,a,l){Of=!1;var h=e.updateQueue;Sr=!1;var d=h.firstBaseUpdate,_=h.lastBaseUpdate,T=h.shared.pending;if(T!==null){h.shared.pending=null;var D=T,z=D.next;D.next=null,_===null?d=z:_.next=z,_=D;var K=e.alternate;K!==null&&(K=K.updateQueue,T=K.lastBaseUpdate,T!==_&&(T===null?K.firstBaseUpdate=z:T.next=z,K.lastBaseUpdate=D))}if(d!==null){var X=h.baseState;_=0,K=z=D=null,T=d;do{var B=T.lane&-536870913,H=B!==T.lane;if(H?(Ot&B)===B:(l&B)===B){B!==0&&B===Ea&&(Of=!0),K!==null&&(K=K.next={lane:0,tag:T.tag,payload:T.payload,callback:null,next:null});t:{var ct=e,yt=T;B=i;var Zt=a;switch(yt.tag){case 1:if(ct=yt.payload,typeof ct=="function"){X=ct.call(Zt,X,B);break t}X=ct;break t;case 3:ct.flags=ct.flags&-65537|128;case 0:if(ct=yt.payload,B=typeof ct=="function"?ct.call(Zt,X,B):ct,B==null)break t;X=S({},X,B);break t;case 2:Sr=!0}}B=T.callback,B!==null&&(e.flags|=64,H&&(e.flags|=8192),H=h.callbacks,H===null?h.callbacks=[B]:H.push(B))}else H={lane:B,tag:T.tag,payload:T.payload,callback:T.callback,next:null},K===null?(z=K=H,D=X):K=K.next=H,_|=B;if(T=T.next,T===null){if(T=h.shared.pending,T===null)break;H=T,T=H.next,H.next=null,h.lastBaseUpdate=H,h.shared.pending=null}}while(!0);K===null&&(D=X),h.baseState=D,h.firstBaseUpdate=z,h.lastBaseUpdate=K,d===null&&(h.shared.lanes=0),Dr|=_,e.lanes=_,e.memoizedState=X}}function Rg(e,i){if(typeof e!="function")throw Error(s(191,e));e.call(i)}function Cg(e,i){var a=e.callbacks;if(a!==null)for(e.callbacks=null,e=0;e<a.length;e++)Rg(a[e],i)}var ba=M(null),$u=M(0);function Ig(e,i){e=Xi,st($u,e),st(ba,i),Xi=e|i.baseLanes}function Mf(){st($u,Xi),st(ba,ba.current)}function Vf(){Xi=$u.current,$(ba),$($u)}var yn=M(null),Vn=null;function wr(e){var i=e.alternate;st(me,me.current&1),st(yn,e),Vn===null&&(i===null||ba.current!==null||i.memoizedState!==null)&&(Vn=e)}function xf(e){st(me,me.current),st(yn,e),Vn===null&&(Vn=e)}function Dg(e){e.tag===22?(st(me,me.current),st(yn,e),Vn===null&&(Vn=e)):Rr()}function Rr(){st(me,me.current),st(yn,yn.current)}function _n(e){$(yn),Vn===e&&(Vn=null),$(me)}var me=M(0);function Ju(e){for(var i=e;i!==null;){if(i.tag===13){var a=i.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||Bd(a)||jd(a)))return i}else if(i.tag===19&&(i.memoizedProps.revealOrder==="forwards"||i.memoizedProps.revealOrder==="backwards"||i.memoizedProps.revealOrder==="unstable_legacy-backwards"||i.memoizedProps.revealOrder==="together")){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===e)break;for(;i.sibling===null;){if(i.return===null||i.return===e)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}var ji=0,Rt=null,$t=null,Ae=null,Zu=!1,wa=!1,Ps=!1,Wu=0,el=0,Ra=null,aA=0;function ce(){throw Error(s(321))}function Lf(e,i){if(i===null)return!1;for(var a=0;a<i.length&&a<e.length;a++)if(!pn(e[a],i[a]))return!1;return!0}function Pf(e,i,a,l,h,d){return ji=d,Rt=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,Q.H=e===null||e.memoizedState===null?fy:Jf,Ps=!1,d=a(l,h),Ps=!1,wa&&(d=Og(i,a,l,h)),Ng(e),d}function Ng(e){Q.H=rl;var i=$t!==null&&$t.next!==null;if(ji=0,Ae=$t=Rt=null,Zu=!1,el=0,Ra=null,i)throw Error(s(300));e===null||be||(e=e.dependencies,e!==null&&Hu(e)&&(be=!0))}function Og(e,i,a,l){Rt=e;var h=0;do{if(wa&&(Ra=null),el=0,wa=!1,25<=h)throw Error(s(301));if(h+=1,Ae=$t=null,e.updateQueue!=null){var d=e.updateQueue;d.lastEffect=null,d.events=null,d.stores=null,d.memoCache!=null&&(d.memoCache.index=0)}Q.H=dy,d=i(a,l)}while(wa);return d}function oA(){var e=Q.H,i=e.useState()[0];return i=typeof i.then=="function"?nl(i):i,e=e.useState()[0],($t!==null?$t.memoizedState:null)!==e&&(Rt.flags|=1024),i}function Uf(){var e=Wu!==0;return Wu=0,e}function kf(e,i,a){i.updateQueue=e.updateQueue,i.flags&=-2053,e.lanes&=~a}function zf(e){if(Zu){for(e=e.memoizedState;e!==null;){var i=e.queue;i!==null&&(i.pending=null),e=e.next}Zu=!1}ji=0,Ae=$t=Rt=null,wa=!1,el=Wu=0,Ra=null}function nn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ae===null?Rt.memoizedState=Ae=e:Ae=Ae.next=e,Ae}function pe(){if($t===null){var e=Rt.alternate;e=e!==null?e.memoizedState:null}else e=$t.next;var i=Ae===null?Rt.memoizedState:Ae.next;if(i!==null)Ae=i,$t=e;else{if(e===null)throw Rt.alternate===null?Error(s(467)):Error(s(310));$t=e,e={memoizedState:$t.memoizedState,baseState:$t.baseState,baseQueue:$t.baseQueue,queue:$t.queue,next:null},Ae===null?Rt.memoizedState=Ae=e:Ae=Ae.next=e}return Ae}function tc(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function nl(e){var i=el;return el+=1,Ra===null&&(Ra=[]),e=Tg(Ra,e,i),i=Rt,(Ae===null?i.memoizedState:Ae.next)===null&&(i=i.alternate,Q.H=i===null||i.memoizedState===null?fy:Jf),e}function ec(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return nl(e);if(e.$$typeof===it)return He(e)}throw Error(s(438,String(e)))}function Bf(e){var i=null,a=Rt.updateQueue;if(a!==null&&(i=a.memoCache),i==null){var l=Rt.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(i={data:l.data.map(function(h){return h.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),a===null&&(a=tc(),Rt.updateQueue=a),a.memoCache=i,a=i.data[i.index],a===void 0)for(a=i.data[i.index]=Array(e),l=0;l<e;l++)a[l]=V;return i.index++,a}function qi(e,i){return typeof i=="function"?i(e):i}function nc(e){var i=pe();return jf(i,$t,e)}function jf(e,i,a){var l=e.queue;if(l===null)throw Error(s(311));l.lastRenderedReducer=a;var h=e.baseQueue,d=l.pending;if(d!==null){if(h!==null){var _=h.next;h.next=d.next,d.next=_}i.baseQueue=h=d,l.pending=null}if(d=e.baseState,h===null)e.memoizedState=d;else{i=h.next;var T=_=null,D=null,z=i,K=!1;do{var X=z.lane&-536870913;if(X!==z.lane?(Ot&X)===X:(ji&X)===X){var B=z.revertLane;if(B===0)D!==null&&(D=D.next={lane:0,revertLane:0,gesture:null,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null}),X===Ea&&(K=!0);else if((ji&B)===B){z=z.next,B===Ea&&(K=!0);continue}else X={lane:0,revertLane:z.revertLane,gesture:null,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null},D===null?(T=D=X,_=d):D=D.next=X,Rt.lanes|=B,Dr|=B;X=z.action,Ps&&a(d,X),d=z.hasEagerState?z.eagerState:a(d,X)}else B={lane:X,revertLane:z.revertLane,gesture:z.gesture,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null},D===null?(T=D=B,_=d):D=D.next=B,Rt.lanes|=X,Dr|=X;z=z.next}while(z!==null&&z!==i);if(D===null?_=d:D.next=T,!pn(d,e.memoizedState)&&(be=!0,K&&(a=Ta,a!==null)))throw a;e.memoizedState=d,e.baseState=_,e.baseQueue=D,l.lastRenderedState=d}return h===null&&(l.lanes=0),[e.memoizedState,l.dispatch]}function qf(e){var i=pe(),a=i.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=e;var l=a.dispatch,h=a.pending,d=i.memoizedState;if(h!==null){a.pending=null;var _=h=h.next;do d=e(d,_.action),_=_.next;while(_!==h);pn(d,i.memoizedState)||(be=!0),i.memoizedState=d,i.baseQueue===null&&(i.baseState=d),a.lastRenderedState=d}return[d,l]}function Mg(e,i,a){var l=Rt,h=pe(),d=Pt;if(d){if(a===void 0)throw Error(s(407));a=a()}else a=i();var _=!pn(($t||h).memoizedState,a);if(_&&(h.memoizedState=a,be=!0),h=h.queue,Gf(Lg.bind(null,l,h,e),[e]),h.getSnapshot!==i||_||Ae!==null&&Ae.memoizedState.tag&1){if(l.flags|=2048,Ca(9,{destroy:void 0},xg.bind(null,l,h,a,i),null),Wt===null)throw Error(s(349));d||(ji&127)!==0||Vg(l,i,a)}return a}function Vg(e,i,a){e.flags|=16384,e={getSnapshot:i,value:a},i=Rt.updateQueue,i===null?(i=tc(),Rt.updateQueue=i,i.stores=[e]):(a=i.stores,a===null?i.stores=[e]:a.push(e))}function xg(e,i,a,l){i.value=a,i.getSnapshot=l,Pg(i)&&Ug(e)}function Lg(e,i,a){return a(function(){Pg(i)&&Ug(e)})}function Pg(e){var i=e.getSnapshot;e=e.value;try{var a=i();return!pn(e,a)}catch{return!0}}function Ug(e){var i=Cs(e,2);i!==null&&cn(i,e,2)}function Hf(e){var i=nn();if(typeof e=="function"){var a=e;if(e=a(),Ps){An(!0);try{a()}finally{An(!1)}}}return i.memoizedState=i.baseState=e,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:qi,lastRenderedState:e},i}function kg(e,i,a,l){return e.baseState=a,jf(e,$t,typeof l=="function"?l:qi)}function lA(e,i,a,l,h){if(sc(e))throw Error(s(485));if(e=i.action,e!==null){var d={payload:h,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(_){d.listeners.push(_)}};Q.T!==null?a(!0):d.isTransition=!1,l(d),a=i.pending,a===null?(d.next=i.pending=d,zg(i,d)):(d.next=a.next,i.pending=a.next=d)}}function zg(e,i){var a=i.action,l=i.payload,h=e.state;if(i.isTransition){var d=Q.T,_={};Q.T=_;try{var T=a(h,l),D=Q.S;D!==null&&D(_,T),Bg(e,i,T)}catch(z){Ff(e,i,z)}finally{d!==null&&_.types!==null&&(d.types=_.types),Q.T=d}}else try{d=a(h,l),Bg(e,i,d)}catch(z){Ff(e,i,z)}}function Bg(e,i,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){jg(e,i,l)},function(l){return Ff(e,i,l)}):jg(e,i,a)}function jg(e,i,a){i.status="fulfilled",i.value=a,qg(i),e.state=a,i=e.pending,i!==null&&(a=i.next,a===i?e.pending=null:(a=a.next,i.next=a,zg(e,a)))}function Ff(e,i,a){var l=e.pending;if(e.pending=null,l!==null){l=l.next;do i.status="rejected",i.reason=a,qg(i),i=i.next;while(i!==l)}e.action=null}function qg(e){e=e.listeners;for(var i=0;i<e.length;i++)(0,e[i])()}function Hg(e,i){return i}function Fg(e,i){if(Pt){var a=Wt.formState;if(a!==null){t:{var l=Rt;if(Pt){if(ee){e:{for(var h=ee,d=Mn;h.nodeType!==8;){if(!d){h=null;break e}if(h=xn(h.nextSibling),h===null){h=null;break e}}d=h.data,h=d==="F!"||d==="F"?h:null}if(h){ee=xn(h.nextSibling),l=h.data==="F!";break t}}Er(l)}l=!1}l&&(i=a[0])}}return a=nn(),a.memoizedState=a.baseState=i,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Hg,lastRenderedState:i},a.queue=l,a=uy.bind(null,Rt,l),l.dispatch=a,l=Hf(!1),d=$f.bind(null,Rt,!1,l.queue),l=nn(),h={state:i,dispatch:null,action:e,pending:null},l.queue=h,a=lA.bind(null,Rt,h,d,a),h.dispatch=a,l.memoizedState=e,[i,a,!1]}function Gg(e){var i=pe();return Kg(i,$t,e)}function Kg(e,i,a){if(i=jf(e,i,Hg)[0],e=nc(qi)[0],typeof i=="object"&&i!==null&&typeof i.then=="function")try{var l=nl(i)}catch(_){throw _===Sa?Ku:_}else l=i;i=pe();var h=i.queue,d=h.dispatch;return a!==i.memoizedState&&(Rt.flags|=2048,Ca(9,{destroy:void 0},uA.bind(null,h,a),null)),[l,d,e]}function uA(e,i){e.action=i}function Qg(e){var i=pe(),a=$t;if(a!==null)return Kg(i,a,e);pe(),i=i.memoizedState,a=pe();var l=a.queue.dispatch;return a.memoizedState=e,[i,l,!1]}function Ca(e,i,a,l){return e={tag:e,create:a,deps:l,inst:i,next:null},i=Rt.updateQueue,i===null&&(i=tc(),Rt.updateQueue=i),a=i.lastEffect,a===null?i.lastEffect=e.next=e:(l=a.next,a.next=e,e.next=l,i.lastEffect=e),e}function Yg(){return pe().memoizedState}function ic(e,i,a,l){var h=nn();Rt.flags|=e,h.memoizedState=Ca(1|i,{destroy:void 0},a,l===void 0?null:l)}function rc(e,i,a,l){var h=pe();l=l===void 0?null:l;var d=h.memoizedState.inst;$t!==null&&l!==null&&Lf(l,$t.memoizedState.deps)?h.memoizedState=Ca(i,d,a,l):(Rt.flags|=e,h.memoizedState=Ca(1|i,d,a,l))}function Xg(e,i){ic(8390656,8,e,i)}function Gf(e,i){rc(2048,8,e,i)}function cA(e){Rt.flags|=4;var i=Rt.updateQueue;if(i===null)i=tc(),Rt.updateQueue=i,i.events=[e];else{var a=i.events;a===null?i.events=[e]:a.push(e)}}function $g(e){var i=pe().memoizedState;return cA({ref:i,nextImpl:e}),function(){if((Ht&2)!==0)throw Error(s(440));return i.impl.apply(void 0,arguments)}}function Jg(e,i){return rc(4,2,e,i)}function Zg(e,i){return rc(4,4,e,i)}function Wg(e,i){if(typeof i=="function"){e=e();var a=i(e);return function(){typeof a=="function"?a():i(null)}}if(i!=null)return e=e(),i.current=e,function(){i.current=null}}function ty(e,i,a){a=a!=null?a.concat([e]):null,rc(4,4,Wg.bind(null,i,e),a)}function Kf(){}function ey(e,i){var a=pe();i=i===void 0?null:i;var l=a.memoizedState;return i!==null&&Lf(i,l[1])?l[0]:(a.memoizedState=[e,i],e)}function ny(e,i){var a=pe();i=i===void 0?null:i;var l=a.memoizedState;if(i!==null&&Lf(i,l[1]))return l[0];if(l=e(),Ps){An(!0);try{e()}finally{An(!1)}}return a.memoizedState=[l,i],l}function Qf(e,i,a){return a===void 0||(ji&1073741824)!==0&&(Ot&261930)===0?e.memoizedState=i:(e.memoizedState=a,e=i_(),Rt.lanes|=e,Dr|=e,a)}function iy(e,i,a,l){return pn(a,i)?a:ba.current!==null?(e=Qf(e,a,l),pn(e,i)||(be=!0),e):(ji&42)===0||(ji&1073741824)!==0&&(Ot&261930)===0?(be=!0,e.memoizedState=a):(e=i_(),Rt.lanes|=e,Dr|=e,i)}function ry(e,i,a,l,h){var d=rt.p;rt.p=d!==0&&8>d?d:8;var _=Q.T,T={};Q.T=T,$f(e,!1,i,a);try{var D=h(),z=Q.S;if(z!==null&&z(T,D),D!==null&&typeof D=="object"&&typeof D.then=="function"){var K=sA(D,l);il(e,i,K,Tn(e))}else il(e,i,l,Tn(e))}catch(X){il(e,i,{then:function(){},status:"rejected",reason:X},Tn())}finally{rt.p=d,_!==null&&T.types!==null&&(_.types=T.types),Q.T=_}}function hA(){}function Yf(e,i,a,l){if(e.tag!==5)throw Error(s(476));var h=sy(e).queue;ry(e,h,i,gt,a===null?hA:function(){return ay(e),a(l)})}function sy(e){var i=e.memoizedState;if(i!==null)return i;i={memoizedState:gt,baseState:gt,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:qi,lastRenderedState:gt},next:null};var a={};return i.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:qi,lastRenderedState:a},next:null},e.memoizedState=i,e=e.alternate,e!==null&&(e.memoizedState=i),i}function ay(e){var i=sy(e);i.next===null&&(i=e.alternate.memoizedState),il(e,i.next.queue,{},Tn())}function Xf(){return He(El)}function oy(){return pe().memoizedState}function ly(){return pe().memoizedState}function fA(e){for(var i=e.return;i!==null;){switch(i.tag){case 24:case 3:var a=Tn();e=Ar(a);var l=br(i,e,a);l!==null&&(cn(l,i,a),Zo(l,i,a)),i={cache:bf()},e.payload=i;return}i=i.return}}function dA(e,i,a){var l=Tn();a={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},sc(e)?cy(i,a):(a=df(e,i,a,l),a!==null&&(cn(a,e,l),hy(a,i,l)))}function uy(e,i,a){var l=Tn();il(e,i,a,l)}function il(e,i,a,l){var h={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(sc(e))cy(i,h);else{var d=e.alternate;if(e.lanes===0&&(d===null||d.lanes===0)&&(d=i.lastRenderedReducer,d!==null))try{var _=i.lastRenderedState,T=d(_,a);if(h.hasEagerState=!0,h.eagerState=T,pn(T,_))return zu(e,i,h,0),Wt===null&&ku(),!1}catch{}finally{}if(a=df(e,i,h,l),a!==null)return cn(a,e,l),hy(a,i,l),!0}return!1}function $f(e,i,a,l){if(l={lane:2,revertLane:Id(),gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},sc(e)){if(i)throw Error(s(479))}else i=df(e,a,l,2),i!==null&&cn(i,e,2)}function sc(e){var i=e.alternate;return e===Rt||i!==null&&i===Rt}function cy(e,i){wa=Zu=!0;var a=e.pending;a===null?i.next=i:(i.next=a.next,a.next=i),e.pending=i}function hy(e,i,a){if((a&4194048)!==0){var l=i.lanes;l&=e.pendingLanes,a|=l,i.lanes=a,wo(e,a)}}var rl={readContext:He,use:ec,useCallback:ce,useContext:ce,useEffect:ce,useImperativeHandle:ce,useLayoutEffect:ce,useInsertionEffect:ce,useMemo:ce,useReducer:ce,useRef:ce,useState:ce,useDebugValue:ce,useDeferredValue:ce,useTransition:ce,useSyncExternalStore:ce,useId:ce,useHostTransitionStatus:ce,useFormState:ce,useActionState:ce,useOptimistic:ce,useMemoCache:ce,useCacheRefresh:ce};rl.useEffectEvent=ce;var fy={readContext:He,use:ec,useCallback:function(e,i){return nn().memoizedState=[e,i===void 0?null:i],e},useContext:He,useEffect:Xg,useImperativeHandle:function(e,i,a){a=a!=null?a.concat([e]):null,ic(4194308,4,Wg.bind(null,i,e),a)},useLayoutEffect:function(e,i){return ic(4194308,4,e,i)},useInsertionEffect:function(e,i){ic(4,2,e,i)},useMemo:function(e,i){var a=nn();i=i===void 0?null:i;var l=e();if(Ps){An(!0);try{e()}finally{An(!1)}}return a.memoizedState=[l,i],l},useReducer:function(e,i,a){var l=nn();if(a!==void 0){var h=a(i);if(Ps){An(!0);try{a(i)}finally{An(!1)}}}else h=i;return l.memoizedState=l.baseState=h,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:h},l.queue=e,e=e.dispatch=dA.bind(null,Rt,e),[l.memoizedState,e]},useRef:function(e){var i=nn();return e={current:e},i.memoizedState=e},useState:function(e){e=Hf(e);var i=e.queue,a=uy.bind(null,Rt,i);return i.dispatch=a,[e.memoizedState,a]},useDebugValue:Kf,useDeferredValue:function(e,i){var a=nn();return Qf(a,e,i)},useTransition:function(){var e=Hf(!1);return e=ry.bind(null,Rt,e.queue,!0,!1),nn().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,i,a){var l=Rt,h=nn();if(Pt){if(a===void 0)throw Error(s(407));a=a()}else{if(a=i(),Wt===null)throw Error(s(349));(Ot&127)!==0||Vg(l,i,a)}h.memoizedState=a;var d={value:a,getSnapshot:i};return h.queue=d,Xg(Lg.bind(null,l,d,e),[e]),l.flags|=2048,Ca(9,{destroy:void 0},xg.bind(null,l,d,a,i),null),a},useId:function(){var e=nn(),i=Wt.identifierPrefix;if(Pt){var a=Ei,l=vi;a=(l&~(1<<32-fe(l)-1)).toString(32)+a,i="_"+i+"R_"+a,a=Wu++,0<a&&(i+="H"+a.toString(32)),i+="_"}else a=aA++,i="_"+i+"r_"+a.toString(32)+"_";return e.memoizedState=i},useHostTransitionStatus:Xf,useFormState:Fg,useActionState:Fg,useOptimistic:function(e){var i=nn();i.memoizedState=i.baseState=e;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=a,i=$f.bind(null,Rt,!0,a),a.dispatch=i,[e,i]},useMemoCache:Bf,useCacheRefresh:function(){return nn().memoizedState=fA.bind(null,Rt)},useEffectEvent:function(e){var i=nn(),a={impl:e};return i.memoizedState=a,function(){if((Ht&2)!==0)throw Error(s(440));return a.impl.apply(void 0,arguments)}}},Jf={readContext:He,use:ec,useCallback:ey,useContext:He,useEffect:Gf,useImperativeHandle:ty,useInsertionEffect:Jg,useLayoutEffect:Zg,useMemo:ny,useReducer:nc,useRef:Yg,useState:function(){return nc(qi)},useDebugValue:Kf,useDeferredValue:function(e,i){var a=pe();return iy(a,$t.memoizedState,e,i)},useTransition:function(){var e=nc(qi)[0],i=pe().memoizedState;return[typeof e=="boolean"?e:nl(e),i]},useSyncExternalStore:Mg,useId:oy,useHostTransitionStatus:Xf,useFormState:Gg,useActionState:Gg,useOptimistic:function(e,i){var a=pe();return kg(a,$t,e,i)},useMemoCache:Bf,useCacheRefresh:ly};Jf.useEffectEvent=$g;var dy={readContext:He,use:ec,useCallback:ey,useContext:He,useEffect:Gf,useImperativeHandle:ty,useInsertionEffect:Jg,useLayoutEffect:Zg,useMemo:ny,useReducer:qf,useRef:Yg,useState:function(){return qf(qi)},useDebugValue:Kf,useDeferredValue:function(e,i){var a=pe();return $t===null?Qf(a,e,i):iy(a,$t.memoizedState,e,i)},useTransition:function(){var e=qf(qi)[0],i=pe().memoizedState;return[typeof e=="boolean"?e:nl(e),i]},useSyncExternalStore:Mg,useId:oy,useHostTransitionStatus:Xf,useFormState:Qg,useActionState:Qg,useOptimistic:function(e,i){var a=pe();return $t!==null?kg(a,$t,e,i):(a.baseState=e,[e,a.queue.dispatch])},useMemoCache:Bf,useCacheRefresh:ly};dy.useEffectEvent=$g;function Zf(e,i,a,l){i=e.memoizedState,a=a(l,i),a=a==null?i:S({},i,a),e.memoizedState=a,e.lanes===0&&(e.updateQueue.baseState=a)}var Wf={enqueueSetState:function(e,i,a){e=e._reactInternals;var l=Tn(),h=Ar(l);h.payload=i,a!=null&&(h.callback=a),i=br(e,h,l),i!==null&&(cn(i,e,l),Zo(i,e,l))},enqueueReplaceState:function(e,i,a){e=e._reactInternals;var l=Tn(),h=Ar(l);h.tag=1,h.payload=i,a!=null&&(h.callback=a),i=br(e,h,l),i!==null&&(cn(i,e,l),Zo(i,e,l))},enqueueForceUpdate:function(e,i){e=e._reactInternals;var a=Tn(),l=Ar(a);l.tag=2,i!=null&&(l.callback=i),i=br(e,l,a),i!==null&&(cn(i,e,a),Zo(i,e,a))}};function my(e,i,a,l,h,d,_){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(l,d,_):i.prototype&&i.prototype.isPureReactComponent?!Fo(a,l)||!Fo(h,d):!0}function py(e,i,a,l){e=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(a,l),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(a,l),i.state!==e&&Wf.enqueueReplaceState(i,i.state,null)}function Us(e,i){var a=i;if("ref"in i){a={};for(var l in i)l!=="ref"&&(a[l]=i[l])}if(e=e.defaultProps){a===i&&(a=S({},a));for(var h in e)a[h]===void 0&&(a[h]=e[h])}return a}function gy(e){Uu(e)}function yy(e){console.error(e)}function _y(e){Uu(e)}function ac(e,i){try{var a=e.onUncaughtError;a(i.value,{componentStack:i.stack})}catch(l){setTimeout(function(){throw l})}}function vy(e,i,a){try{var l=e.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function td(e,i,a){return a=Ar(a),a.tag=3,a.payload={element:null},a.callback=function(){ac(e,i)},a}function Ey(e){return e=Ar(e),e.tag=3,e}function Ty(e,i,a,l){var h=a.type.getDerivedStateFromError;if(typeof h=="function"){var d=l.value;e.payload=function(){return h(d)},e.callback=function(){vy(i,a,l)}}var _=a.stateNode;_!==null&&typeof _.componentDidCatch=="function"&&(e.callback=function(){vy(i,a,l),typeof h!="function"&&(Nr===null?Nr=new Set([this]):Nr.add(this));var T=l.stack;this.componentDidCatch(l.value,{componentStack:T!==null?T:""})})}function mA(e,i,a,l,h){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(i=a.alternate,i!==null&&va(i,a,h,!0),a=yn.current,a!==null){switch(a.tag){case 31:case 13:return Vn===null?_c():a.alternate===null&&he===0&&(he=3),a.flags&=-257,a.flags|=65536,a.lanes=h,l===Qu?a.flags|=16384:(i=a.updateQueue,i===null?a.updateQueue=new Set([l]):i.add(l),wd(e,l,h)),!1;case 22:return a.flags|=65536,l===Qu?a.flags|=16384:(i=a.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=i):(a=i.retryQueue,a===null?i.retryQueue=new Set([l]):a.add(l)),wd(e,l,h)),!1}throw Error(s(435,a.tag))}return wd(e,l,h),_c(),!1}if(Pt)return i=yn.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=h,l!==vf&&(e=Error(s(422),{cause:l}),Qo(Dn(e,a)))):(l!==vf&&(i=Error(s(423),{cause:l}),Qo(Dn(i,a))),e=e.current.alternate,e.flags|=65536,h&=-h,e.lanes|=h,l=Dn(l,a),h=td(e.stateNode,l,h),Nf(e,h),he!==4&&(he=2)),!1;var d=Error(s(520),{cause:l});if(d=Dn(d,a),fl===null?fl=[d]:fl.push(d),he!==4&&(he=2),i===null)return!0;l=Dn(l,a),a=i;do{switch(a.tag){case 3:return a.flags|=65536,e=h&-h,a.lanes|=e,e=td(a.stateNode,l,e),Nf(a,e),!1;case 1:if(i=a.type,d=a.stateNode,(a.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||d!==null&&typeof d.componentDidCatch=="function"&&(Nr===null||!Nr.has(d))))return a.flags|=65536,h&=-h,a.lanes|=h,h=Ey(h),Ty(h,e,a,l),Nf(a,h),!1}a=a.return}while(a!==null);return!1}var ed=Error(s(461)),be=!1;function Fe(e,i,a,l){i.child=e===null?wg(i,null,a,l):Ls(i,e.child,a,l)}function Sy(e,i,a,l,h){a=a.render;var d=i.ref;if("ref"in l){var _={};for(var T in l)T!=="ref"&&(_[T]=l[T])}else _=l;return Os(i),l=Pf(e,i,a,_,d,h),T=Uf(),e!==null&&!be?(kf(e,i,h),Hi(e,i,h)):(Pt&&T&&yf(i),i.flags|=1,Fe(e,i,l,h),i.child)}function Ay(e,i,a,l,h){if(e===null){var d=a.type;return typeof d=="function"&&!mf(d)&&d.defaultProps===void 0&&a.compare===null?(i.tag=15,i.type=d,by(e,i,d,l,h)):(e=ju(a.type,null,l,i,i.mode,h),e.ref=i.ref,e.return=i,i.child=e)}if(d=e.child,!ud(e,h)){var _=d.memoizedProps;if(a=a.compare,a=a!==null?a:Fo,a(_,l)&&e.ref===i.ref)return Hi(e,i,h)}return i.flags|=1,e=Ui(d,l),e.ref=i.ref,e.return=i,i.child=e}function by(e,i,a,l,h){if(e!==null){var d=e.memoizedProps;if(Fo(d,l)&&e.ref===i.ref)if(be=!1,i.pendingProps=l=d,ud(e,h))(e.flags&131072)!==0&&(be=!0);else return i.lanes=e.lanes,Hi(e,i,h)}return nd(e,i,a,l,h)}function wy(e,i,a,l){var h=l.children,d=e!==null?e.memoizedState:null;if(e===null&&i.stateNode===null&&(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.mode==="hidden"){if((i.flags&128)!==0){if(d=d!==null?d.baseLanes|a:a,e!==null){for(l=i.child=e.child,h=0;l!==null;)h=h|l.lanes|l.childLanes,l=l.sibling;l=h&~d}else l=0,i.child=null;return Ry(e,i,d,a,l)}if((a&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},e!==null&&Gu(i,d!==null?d.cachePool:null),d!==null?Ig(i,d):Mf(),Dg(i);else return l=i.lanes=536870912,Ry(e,i,d!==null?d.baseLanes|a:a,a,l)}else d!==null?(Gu(i,d.cachePool),Ig(i,d),Rr(),i.memoizedState=null):(e!==null&&Gu(i,null),Mf(),Rr());return Fe(e,i,h,a),i.child}function sl(e,i){return e!==null&&e.tag===22||i.stateNode!==null||(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),i.sibling}function Ry(e,i,a,l,h){var d=Rf();return d=d===null?null:{parent:Se._currentValue,pool:d},i.memoizedState={baseLanes:a,cachePool:d},e!==null&&Gu(i,null),Mf(),Dg(i),e!==null&&va(e,i,l,!0),i.childLanes=h,null}function oc(e,i){return i=uc({mode:i.mode,children:i.children},e.mode),i.ref=e.ref,e.child=i,i.return=e,i}function Cy(e,i,a){return Ls(i,e.child,null,a),e=oc(i,i.pendingProps),e.flags|=2,_n(i),i.memoizedState=null,e}function pA(e,i,a){var l=i.pendingProps,h=(i.flags&128)!==0;if(i.flags&=-129,e===null){if(Pt){if(l.mode==="hidden")return e=oc(i,l),i.lanes=536870912,sl(null,e);if(xf(i),(e=ee)?(e=z_(e,Mn),e=e!==null&&e.data==="&"?e:null,e!==null&&(i.memoizedState={dehydrated:e,treeContext:_r!==null?{id:vi,overflow:Ei}:null,retryLane:536870912,hydrationErrors:null},a=cg(e),a.return=i,i.child=a,qe=i,ee=null)):e=null,e===null)throw Er(i);return i.lanes=536870912,null}return oc(i,l)}var d=e.memoizedState;if(d!==null){var _=d.dehydrated;if(xf(i),h)if(i.flags&256)i.flags&=-257,i=Cy(e,i,a);else if(i.memoizedState!==null)i.child=e.child,i.flags|=128,i=null;else throw Error(s(558));else if(be||va(e,i,a,!1),h=(a&e.childLanes)!==0,be||h){if(l=Wt,l!==null&&(_=Ro(l,a),_!==0&&_!==d.retryLane))throw d.retryLane=_,Cs(e,_),cn(l,e,_),ed;_c(),i=Cy(e,i,a)}else e=d.treeContext,ee=xn(_.nextSibling),qe=i,Pt=!0,vr=null,Mn=!1,e!==null&&dg(i,e),i=oc(i,l),i.flags|=4096;return i}return e=Ui(e.child,{mode:l.mode,children:l.children}),e.ref=i.ref,i.child=e,e.return=i,e}function lc(e,i){var a=i.ref;if(a===null)e!==null&&e.ref!==null&&(i.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(s(284));(e===null||e.ref!==a)&&(i.flags|=4194816)}}function nd(e,i,a,l,h){return Os(i),a=Pf(e,i,a,l,void 0,h),l=Uf(),e!==null&&!be?(kf(e,i,h),Hi(e,i,h)):(Pt&&l&&yf(i),i.flags|=1,Fe(e,i,a,h),i.child)}function Iy(e,i,a,l,h,d){return Os(i),i.updateQueue=null,a=Og(i,l,a,h),Ng(e),l=Uf(),e!==null&&!be?(kf(e,i,d),Hi(e,i,d)):(Pt&&l&&yf(i),i.flags|=1,Fe(e,i,a,d),i.child)}function Dy(e,i,a,l,h){if(Os(i),i.stateNode===null){var d=pa,_=a.contextType;typeof _=="object"&&_!==null&&(d=He(_)),d=new a(l,d),i.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=Wf,i.stateNode=d,d._reactInternals=i,d=i.stateNode,d.props=l,d.state=i.memoizedState,d.refs={},If(i),_=a.contextType,d.context=typeof _=="object"&&_!==null?He(_):pa,d.state=i.memoizedState,_=a.getDerivedStateFromProps,typeof _=="function"&&(Zf(i,a,_,l),d.state=i.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(_=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),_!==d.state&&Wf.enqueueReplaceState(d,d.state,null),tl(i,l,d,h),Wo(),d.state=i.memoizedState),typeof d.componentDidMount=="function"&&(i.flags|=4194308),l=!0}else if(e===null){d=i.stateNode;var T=i.memoizedProps,D=Us(a,T);d.props=D;var z=d.context,K=a.contextType;_=pa,typeof K=="object"&&K!==null&&(_=He(K));var X=a.getDerivedStateFromProps;K=typeof X=="function"||typeof d.getSnapshotBeforeUpdate=="function",T=i.pendingProps!==T,K||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(T||z!==_)&&py(i,d,l,_),Sr=!1;var B=i.memoizedState;d.state=B,tl(i,l,d,h),Wo(),z=i.memoizedState,T||B!==z||Sr?(typeof X=="function"&&(Zf(i,a,X,l),z=i.memoizedState),(D=Sr||my(i,a,D,l,B,z,_))?(K||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(i.flags|=4194308)):(typeof d.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=l,i.memoizedState=z),d.props=l,d.state=z,d.context=_,l=D):(typeof d.componentDidMount=="function"&&(i.flags|=4194308),l=!1)}else{d=i.stateNode,Df(e,i),_=i.memoizedProps,K=Us(a,_),d.props=K,X=i.pendingProps,B=d.context,z=a.contextType,D=pa,typeof z=="object"&&z!==null&&(D=He(z)),T=a.getDerivedStateFromProps,(z=typeof T=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(_!==X||B!==D)&&py(i,d,l,D),Sr=!1,B=i.memoizedState,d.state=B,tl(i,l,d,h),Wo();var H=i.memoizedState;_!==X||B!==H||Sr||e!==null&&e.dependencies!==null&&Hu(e.dependencies)?(typeof T=="function"&&(Zf(i,a,T,l),H=i.memoizedState),(K=Sr||my(i,a,K,l,B,H,D)||e!==null&&e.dependencies!==null&&Hu(e.dependencies))?(z||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(l,H,D),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(l,H,D)),typeof d.componentDidUpdate=="function"&&(i.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof d.componentDidUpdate!="function"||_===e.memoizedProps&&B===e.memoizedState||(i.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||_===e.memoizedProps&&B===e.memoizedState||(i.flags|=1024),i.memoizedProps=l,i.memoizedState=H),d.props=l,d.state=H,d.context=D,l=K):(typeof d.componentDidUpdate!="function"||_===e.memoizedProps&&B===e.memoizedState||(i.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||_===e.memoizedProps&&B===e.memoizedState||(i.flags|=1024),l=!1)}return d=l,lc(e,i),l=(i.flags&128)!==0,d||l?(d=i.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:d.render(),i.flags|=1,e!==null&&l?(i.child=Ls(i,e.child,null,h),i.child=Ls(i,null,a,h)):Fe(e,i,a,h),i.memoizedState=d.state,e=i.child):e=Hi(e,i,h),e}function Ny(e,i,a,l){return Ds(),i.flags|=256,Fe(e,i,a,l),i.child}var id={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function rd(e){return{baseLanes:e,cachePool:vg()}}function sd(e,i,a){return e=e!==null?e.childLanes&~a:0,i&&(e|=En),e}function Oy(e,i,a){var l=i.pendingProps,h=!1,d=(i.flags&128)!==0,_;if((_=d)||(_=e!==null&&e.memoizedState===null?!1:(me.current&2)!==0),_&&(h=!0,i.flags&=-129),_=(i.flags&32)!==0,i.flags&=-33,e===null){if(Pt){if(h?wr(i):Rr(),(e=ee)?(e=z_(e,Mn),e=e!==null&&e.data!=="&"?e:null,e!==null&&(i.memoizedState={dehydrated:e,treeContext:_r!==null?{id:vi,overflow:Ei}:null,retryLane:536870912,hydrationErrors:null},a=cg(e),a.return=i,i.child=a,qe=i,ee=null)):e=null,e===null)throw Er(i);return jd(e)?i.lanes=32:i.lanes=536870912,null}var T=l.children;return l=l.fallback,h?(Rr(),h=i.mode,T=uc({mode:"hidden",children:T},h),l=Is(l,h,a,null),T.return=i,l.return=i,T.sibling=l,i.child=T,l=i.child,l.memoizedState=rd(a),l.childLanes=sd(e,_,a),i.memoizedState=id,sl(null,l)):(wr(i),ad(i,T))}var D=e.memoizedState;if(D!==null&&(T=D.dehydrated,T!==null)){if(d)i.flags&256?(wr(i),i.flags&=-257,i=od(e,i,a)):i.memoizedState!==null?(Rr(),i.child=e.child,i.flags|=128,i=null):(Rr(),T=l.fallback,h=i.mode,l=uc({mode:"visible",children:l.children},h),T=Is(T,h,a,null),T.flags|=2,l.return=i,T.return=i,l.sibling=T,i.child=l,Ls(i,e.child,null,a),l=i.child,l.memoizedState=rd(a),l.childLanes=sd(e,_,a),i.memoizedState=id,i=sl(null,l));else if(wr(i),jd(T)){if(_=T.nextSibling&&T.nextSibling.dataset,_)var z=_.dgst;_=z,l=Error(s(419)),l.stack="",l.digest=_,Qo({value:l,source:null,stack:null}),i=od(e,i,a)}else if(be||va(e,i,a,!1),_=(a&e.childLanes)!==0,be||_){if(_=Wt,_!==null&&(l=Ro(_,a),l!==0&&l!==D.retryLane))throw D.retryLane=l,Cs(e,l),cn(_,e,l),ed;Bd(T)||_c(),i=od(e,i,a)}else Bd(T)?(i.flags|=192,i.child=e.child,i=null):(e=D.treeContext,ee=xn(T.nextSibling),qe=i,Pt=!0,vr=null,Mn=!1,e!==null&&dg(i,e),i=ad(i,l.children),i.flags|=4096);return i}return h?(Rr(),T=l.fallback,h=i.mode,D=e.child,z=D.sibling,l=Ui(D,{mode:"hidden",children:l.children}),l.subtreeFlags=D.subtreeFlags&65011712,z!==null?T=Ui(z,T):(T=Is(T,h,a,null),T.flags|=2),T.return=i,l.return=i,l.sibling=T,i.child=l,sl(null,l),l=i.child,T=e.child.memoizedState,T===null?T=rd(a):(h=T.cachePool,h!==null?(D=Se._currentValue,h=h.parent!==D?{parent:D,pool:D}:h):h=vg(),T={baseLanes:T.baseLanes|a,cachePool:h}),l.memoizedState=T,l.childLanes=sd(e,_,a),i.memoizedState=id,sl(e.child,l)):(wr(i),a=e.child,e=a.sibling,a=Ui(a,{mode:"visible",children:l.children}),a.return=i,a.sibling=null,e!==null&&(_=i.deletions,_===null?(i.deletions=[e],i.flags|=16):_.push(e)),i.child=a,i.memoizedState=null,a)}function ad(e,i){return i=uc({mode:"visible",children:i},e.mode),i.return=e,e.child=i}function uc(e,i){return e=gn(22,e,null,i),e.lanes=0,e}function od(e,i,a){return Ls(i,e.child,null,a),e=ad(i,i.pendingProps.children),e.flags|=2,i.memoizedState=null,e}function My(e,i,a){e.lanes|=i;var l=e.alternate;l!==null&&(l.lanes|=i),Sf(e.return,i,a)}function ld(e,i,a,l,h,d){var _=e.memoizedState;_===null?e.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:h,treeForkCount:d}:(_.isBackwards=i,_.rendering=null,_.renderingStartTime=0,_.last=l,_.tail=a,_.tailMode=h,_.treeForkCount=d)}function Vy(e,i,a){var l=i.pendingProps,h=l.revealOrder,d=l.tail;l=l.children;var _=me.current,T=(_&2)!==0;if(T?(_=_&1|2,i.flags|=128):_&=1,st(me,_),Fe(e,i,l,a),l=Pt?Ko:0,!T&&e!==null&&(e.flags&128)!==0)t:for(e=i.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&My(e,a,i);else if(e.tag===19)My(e,a,i);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===i)break t;for(;e.sibling===null;){if(e.return===null||e.return===i)break t;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(h){case"forwards":for(a=i.child,h=null;a!==null;)e=a.alternate,e!==null&&Ju(e)===null&&(h=a),a=a.sibling;a=h,a===null?(h=i.child,i.child=null):(h=a.sibling,a.sibling=null),ld(i,!1,h,a,d,l);break;case"backwards":case"unstable_legacy-backwards":for(a=null,h=i.child,i.child=null;h!==null;){if(e=h.alternate,e!==null&&Ju(e)===null){i.child=h;break}e=h.sibling,h.sibling=a,a=h,h=e}ld(i,!0,a,null,d,l);break;case"together":ld(i,!1,null,null,void 0,l);break;default:i.memoizedState=null}return i.child}function Hi(e,i,a){if(e!==null&&(i.dependencies=e.dependencies),Dr|=i.lanes,(a&i.childLanes)===0)if(e!==null){if(va(e,i,a,!1),(a&i.childLanes)===0)return null}else return null;if(e!==null&&i.child!==e.child)throw Error(s(153));if(i.child!==null){for(e=i.child,a=Ui(e,e.pendingProps),i.child=a,a.return=i;e.sibling!==null;)e=e.sibling,a=a.sibling=Ui(e,e.pendingProps),a.return=i;a.sibling=null}return i.child}function ud(e,i){return(e.lanes&i)!==0?!0:(e=e.dependencies,!!(e!==null&&Hu(e)))}function gA(e,i,a){switch(i.tag){case 3:Ne(i,i.stateNode.containerInfo),Tr(i,Se,e.memoizedState.cache),Ds();break;case 27:case 5:us(i);break;case 4:Ne(i,i.stateNode.containerInfo);break;case 10:Tr(i,i.type,i.memoizedProps.value);break;case 31:if(i.memoizedState!==null)return i.flags|=128,xf(i),null;break;case 13:var l=i.memoizedState;if(l!==null)return l.dehydrated!==null?(wr(i),i.flags|=128,null):(a&i.child.childLanes)!==0?Oy(e,i,a):(wr(i),e=Hi(e,i,a),e!==null?e.sibling:null);wr(i);break;case 19:var h=(e.flags&128)!==0;if(l=(a&i.childLanes)!==0,l||(va(e,i,a,!1),l=(a&i.childLanes)!==0),h){if(l)return Vy(e,i,a);i.flags|=128}if(h=i.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),st(me,me.current),l)break;return null;case 22:return i.lanes=0,wy(e,i,a,i.pendingProps);case 24:Tr(i,Se,e.memoizedState.cache)}return Hi(e,i,a)}function xy(e,i,a){if(e!==null)if(e.memoizedProps!==i.pendingProps)be=!0;else{if(!ud(e,a)&&(i.flags&128)===0)return be=!1,gA(e,i,a);be=(e.flags&131072)!==0}else be=!1,Pt&&(i.flags&1048576)!==0&&fg(i,Ko,i.index);switch(i.lanes=0,i.tag){case 16:t:{var l=i.pendingProps;if(e=Vs(i.elementType),i.type=e,typeof e=="function")mf(e)?(l=Us(e,l),i.tag=1,i=Dy(null,i,e,l,a)):(i.tag=0,i=nd(null,i,e,l,a));else{if(e!=null){var h=e.$$typeof;if(h===_t){i.tag=11,i=Sy(null,i,e,l,a);break t}else if(h===C){i.tag=14,i=Ay(null,i,e,l,a);break t}}throw i=re(e)||e,Error(s(306,i,""))}}return i;case 0:return nd(e,i,i.type,i.pendingProps,a);case 1:return l=i.type,h=Us(l,i.pendingProps),Dy(e,i,l,h,a);case 3:t:{if(Ne(i,i.stateNode.containerInfo),e===null)throw Error(s(387));l=i.pendingProps;var d=i.memoizedState;h=d.element,Df(e,i),tl(i,l,null,a);var _=i.memoizedState;if(l=_.cache,Tr(i,Se,l),l!==d.cache&&Af(i,[Se],a,!0),Wo(),l=_.element,d.isDehydrated)if(d={element:l,isDehydrated:!1,cache:_.cache},i.updateQueue.baseState=d,i.memoizedState=d,i.flags&256){i=Ny(e,i,l,a);break t}else if(l!==h){h=Dn(Error(s(424)),i),Qo(h),i=Ny(e,i,l,a);break t}else{switch(e=i.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(ee=xn(e.firstChild),qe=i,Pt=!0,vr=null,Mn=!0,a=wg(i,null,l,a),i.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(Ds(),l===h){i=Hi(e,i,a);break t}Fe(e,i,l,a)}i=i.child}return i;case 26:return lc(e,i),e===null?(a=G_(i.type,null,i.pendingProps,null))?i.memoizedState=a:Pt||(a=i.type,e=i.pendingProps,l=wc(Ct.current).createElement(a),l[ve]=i,l[Le]=e,Ge(l,a,e),Ee(l),i.stateNode=l):i.memoizedState=G_(i.type,e.memoizedProps,i.pendingProps,e.memoizedState),null;case 27:return us(i),e===null&&Pt&&(l=i.stateNode=q_(i.type,i.pendingProps,Ct.current),qe=i,Mn=!0,h=ee,xr(i.type)?(qd=h,ee=xn(l.firstChild)):ee=h),Fe(e,i,i.pendingProps.children,a),lc(e,i),e===null&&(i.flags|=4194304),i.child;case 5:return e===null&&Pt&&((h=l=ee)&&(l=KA(l,i.type,i.pendingProps,Mn),l!==null?(i.stateNode=l,qe=i,ee=xn(l.firstChild),Mn=!1,h=!0):h=!1),h||Er(i)),us(i),h=i.type,d=i.pendingProps,_=e!==null?e.memoizedProps:null,l=d.children,Ud(h,d)?l=null:_!==null&&Ud(h,_)&&(i.flags|=32),i.memoizedState!==null&&(h=Pf(e,i,oA,null,null,a),El._currentValue=h),lc(e,i),Fe(e,i,l,a),i.child;case 6:return e===null&&Pt&&((e=a=ee)&&(a=QA(a,i.pendingProps,Mn),a!==null?(i.stateNode=a,qe=i,ee=null,e=!0):e=!1),e||Er(i)),null;case 13:return Oy(e,i,a);case 4:return Ne(i,i.stateNode.containerInfo),l=i.pendingProps,e===null?i.child=Ls(i,null,l,a):Fe(e,i,l,a),i.child;case 11:return Sy(e,i,i.type,i.pendingProps,a);case 7:return Fe(e,i,i.pendingProps,a),i.child;case 8:return Fe(e,i,i.pendingProps.children,a),i.child;case 12:return Fe(e,i,i.pendingProps.children,a),i.child;case 10:return l=i.pendingProps,Tr(i,i.type,l.value),Fe(e,i,l.children,a),i.child;case 9:return h=i.type._context,l=i.pendingProps.children,Os(i),h=He(h),l=l(h),i.flags|=1,Fe(e,i,l,a),i.child;case 14:return Ay(e,i,i.type,i.pendingProps,a);case 15:return by(e,i,i.type,i.pendingProps,a);case 19:return Vy(e,i,a);case 31:return pA(e,i,a);case 22:return wy(e,i,a,i.pendingProps);case 24:return Os(i),l=He(Se),e===null?(h=Rf(),h===null&&(h=Wt,d=bf(),h.pooledCache=d,d.refCount++,d!==null&&(h.pooledCacheLanes|=a),h=d),i.memoizedState={parent:l,cache:h},If(i),Tr(i,Se,h)):((e.lanes&a)!==0&&(Df(e,i),tl(i,null,null,a),Wo()),h=e.memoizedState,d=i.memoizedState,h.parent!==l?(h={parent:l,cache:l},i.memoizedState=h,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=h),Tr(i,Se,l)):(l=d.cache,Tr(i,Se,l),l!==h.cache&&Af(i,[Se],a,!0))),Fe(e,i,i.pendingProps.children,a),i.child;case 29:throw i.pendingProps}throw Error(s(156,i.tag))}function Fi(e){e.flags|=4}function cd(e,i,a,l,h){if((i=(e.mode&32)!==0)&&(i=!1),i){if(e.flags|=16777216,(h&335544128)===h)if(e.stateNode.complete)e.flags|=8192;else if(o_())e.flags|=8192;else throw xs=Qu,Cf}else e.flags&=-16777217}function Ly(e,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!$_(i))if(o_())e.flags|=8192;else throw xs=Qu,Cf}function cc(e,i){i!==null&&(e.flags|=4),e.flags&16384&&(i=e.tag!==22?gu():536870912,e.lanes|=i,Oa|=i)}function al(e,i){if(!Pt)switch(e.tailMode){case"hidden":i=e.tail;for(var a=null;i!==null;)i.alternate!==null&&(a=i),i=i.sibling;a===null?e.tail=null:a.sibling=null;break;case"collapsed":a=e.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?i||e.tail===null?e.tail=null:e.tail.sibling=null:l.sibling=null}}function ne(e){var i=e.alternate!==null&&e.alternate.child===e.child,a=0,l=0;if(i)for(var h=e.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags&65011712,l|=h.flags&65011712,h.return=e,h=h.sibling;else for(h=e.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags,l|=h.flags,h.return=e,h=h.sibling;return e.subtreeFlags|=l,e.childLanes=a,i}function yA(e,i,a){var l=i.pendingProps;switch(_f(i),i.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ne(i),null;case 1:return ne(i),null;case 3:return a=i.stateNode,l=null,e!==null&&(l=e.memoizedState.cache),i.memoizedState.cache!==l&&(i.flags|=2048),Bi(Se),se(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(e===null||e.child===null)&&(_a(i)?Fi(i):e===null||e.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,Ef())),ne(i),null;case 26:var h=i.type,d=i.memoizedState;return e===null?(Fi(i),d!==null?(ne(i),Ly(i,d)):(ne(i),cd(i,h,null,l,a))):d?d!==e.memoizedState?(Fi(i),ne(i),Ly(i,d)):(ne(i),i.flags&=-16777217):(e=e.memoizedProps,e!==l&&Fi(i),ne(i),cd(i,h,e,l,a)),null;case 27:if($s(i),a=Ct.current,h=i.type,e!==null&&i.stateNode!=null)e.memoizedProps!==l&&Fi(i);else{if(!l){if(i.stateNode===null)throw Error(s(166));return ne(i),null}e=lt.current,_a(i)?mg(i):(e=q_(h,l,a),i.stateNode=e,Fi(i))}return ne(i),null;case 5:if($s(i),h=i.type,e!==null&&i.stateNode!=null)e.memoizedProps!==l&&Fi(i);else{if(!l){if(i.stateNode===null)throw Error(s(166));return ne(i),null}if(d=lt.current,_a(i))mg(i);else{var _=wc(Ct.current);switch(d){case 1:d=_.createElementNS("http://www.w3.org/2000/svg",h);break;case 2:d=_.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;default:switch(h){case"svg":d=_.createElementNS("http://www.w3.org/2000/svg",h);break;case"math":d=_.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;case"script":d=_.createElement("div"),d.innerHTML="<script><\/script>",d=d.removeChild(d.firstChild);break;case"select":d=typeof l.is=="string"?_.createElement("select",{is:l.is}):_.createElement("select"),l.multiple?d.multiple=!0:l.size&&(d.size=l.size);break;default:d=typeof l.is=="string"?_.createElement(h,{is:l.is}):_.createElement(h)}}d[ve]=i,d[Le]=l;t:for(_=i.child;_!==null;){if(_.tag===5||_.tag===6)d.appendChild(_.stateNode);else if(_.tag!==4&&_.tag!==27&&_.child!==null){_.child.return=_,_=_.child;continue}if(_===i)break t;for(;_.sibling===null;){if(_.return===null||_.return===i)break t;_=_.return}_.sibling.return=_.return,_=_.sibling}i.stateNode=d;t:switch(Ge(d,h,l),h){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break t;case"img":l=!0;break t;default:l=!1}l&&Fi(i)}}return ne(i),cd(i,i.type,e===null?null:e.memoizedProps,i.pendingProps,a),null;case 6:if(e&&i.stateNode!=null)e.memoizedProps!==l&&Fi(i);else{if(typeof l!="string"&&i.stateNode===null)throw Error(s(166));if(e=Ct.current,_a(i)){if(e=i.stateNode,a=i.memoizedProps,l=null,h=qe,h!==null)switch(h.tag){case 27:case 5:l=h.memoizedProps}e[ve]=i,e=!!(e.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||O_(e.nodeValue,a)),e||Er(i,!0)}else e=wc(e).createTextNode(l),e[ve]=i,i.stateNode=e}return ne(i),null;case 31:if(a=i.memoizedState,e===null||e.memoizedState!==null){if(l=_a(i),a!==null){if(e===null){if(!l)throw Error(s(318));if(e=i.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(s(557));e[ve]=i}else Ds(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;ne(i),e=!1}else a=Ef(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=a),e=!0;if(!e)return i.flags&256?(_n(i),i):(_n(i),null);if((i.flags&128)!==0)throw Error(s(558))}return ne(i),null;case 13:if(l=i.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(h=_a(i),l!==null&&l.dehydrated!==null){if(e===null){if(!h)throw Error(s(318));if(h=i.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(s(317));h[ve]=i}else Ds(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;ne(i),h=!1}else h=Ef(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=h),h=!0;if(!h)return i.flags&256?(_n(i),i):(_n(i),null)}return _n(i),(i.flags&128)!==0?(i.lanes=a,i):(a=l!==null,e=e!==null&&e.memoizedState!==null,a&&(l=i.child,h=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(h=l.alternate.memoizedState.cachePool.pool),d=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(d=l.memoizedState.cachePool.pool),d!==h&&(l.flags|=2048)),a!==e&&a&&(i.child.flags|=8192),cc(i,i.updateQueue),ne(i),null);case 4:return se(),e===null&&Md(i.stateNode.containerInfo),ne(i),null;case 10:return Bi(i.type),ne(i),null;case 19:if($(me),l=i.memoizedState,l===null)return ne(i),null;if(h=(i.flags&128)!==0,d=l.rendering,d===null)if(h)al(l,!1);else{if(he!==0||e!==null&&(e.flags&128)!==0)for(e=i.child;e!==null;){if(d=Ju(e),d!==null){for(i.flags|=128,al(l,!1),e=d.updateQueue,i.updateQueue=e,cc(i,e),i.subtreeFlags=0,e=a,a=i.child;a!==null;)ug(a,e),a=a.sibling;return st(me,me.current&1|2),Pt&&ki(i,l.treeForkCount),i.child}e=e.sibling}l.tail!==null&&tn()>pc&&(i.flags|=128,h=!0,al(l,!1),i.lanes=4194304)}else{if(!h)if(e=Ju(d),e!==null){if(i.flags|=128,h=!0,e=e.updateQueue,i.updateQueue=e,cc(i,e),al(l,!0),l.tail===null&&l.tailMode==="hidden"&&!d.alternate&&!Pt)return ne(i),null}else 2*tn()-l.renderingStartTime>pc&&a!==536870912&&(i.flags|=128,h=!0,al(l,!1),i.lanes=4194304);l.isBackwards?(d.sibling=i.child,i.child=d):(e=l.last,e!==null?e.sibling=d:i.child=d,l.last=d)}return l.tail!==null?(e=l.tail,l.rendering=e,l.tail=e.sibling,l.renderingStartTime=tn(),e.sibling=null,a=me.current,st(me,h?a&1|2:a&1),Pt&&ki(i,l.treeForkCount),e):(ne(i),null);case 22:case 23:return _n(i),Vf(),l=i.memoizedState!==null,e!==null?e.memoizedState!==null!==l&&(i.flags|=8192):l&&(i.flags|=8192),l?(a&536870912)!==0&&(i.flags&128)===0&&(ne(i),i.subtreeFlags&6&&(i.flags|=8192)):ne(i),a=i.updateQueue,a!==null&&cc(i,a.retryQueue),a=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),l=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(l=i.memoizedState.cachePool.pool),l!==a&&(i.flags|=2048),e!==null&&$(Ms),null;case 24:return a=null,e!==null&&(a=e.memoizedState.cache),i.memoizedState.cache!==a&&(i.flags|=2048),Bi(Se),ne(i),null;case 25:return null;case 30:return null}throw Error(s(156,i.tag))}function _A(e,i){switch(_f(i),i.tag){case 1:return e=i.flags,e&65536?(i.flags=e&-65537|128,i):null;case 3:return Bi(Se),se(),e=i.flags,(e&65536)!==0&&(e&128)===0?(i.flags=e&-65537|128,i):null;case 26:case 27:case 5:return $s(i),null;case 31:if(i.memoizedState!==null){if(_n(i),i.alternate===null)throw Error(s(340));Ds()}return e=i.flags,e&65536?(i.flags=e&-65537|128,i):null;case 13:if(_n(i),e=i.memoizedState,e!==null&&e.dehydrated!==null){if(i.alternate===null)throw Error(s(340));Ds()}return e=i.flags,e&65536?(i.flags=e&-65537|128,i):null;case 19:return $(me),null;case 4:return se(),null;case 10:return Bi(i.type),null;case 22:case 23:return _n(i),Vf(),e!==null&&$(Ms),e=i.flags,e&65536?(i.flags=e&-65537|128,i):null;case 24:return Bi(Se),null;case 25:return null;default:return null}}function Py(e,i){switch(_f(i),i.tag){case 3:Bi(Se),se();break;case 26:case 27:case 5:$s(i);break;case 4:se();break;case 31:i.memoizedState!==null&&_n(i);break;case 13:_n(i);break;case 19:$(me);break;case 10:Bi(i.type);break;case 22:case 23:_n(i),Vf(),e!==null&&$(Ms);break;case 24:Bi(Se)}}function ol(e,i){try{var a=i.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var h=l.next;a=h;do{if((a.tag&e)===e){l=void 0;var d=a.create,_=a.inst;l=d(),_.destroy=l}a=a.next}while(a!==h)}}catch(T){Yt(i,i.return,T)}}function Cr(e,i,a){try{var l=i.updateQueue,h=l!==null?l.lastEffect:null;if(h!==null){var d=h.next;l=d;do{if((l.tag&e)===e){var _=l.inst,T=_.destroy;if(T!==void 0){_.destroy=void 0,h=i;var D=a,z=T;try{z()}catch(K){Yt(h,D,K)}}}l=l.next}while(l!==d)}}catch(K){Yt(i,i.return,K)}}function Uy(e){var i=e.updateQueue;if(i!==null){var a=e.stateNode;try{Cg(i,a)}catch(l){Yt(e,e.return,l)}}}function ky(e,i,a){a.props=Us(e.type,e.memoizedProps),a.state=e.memoizedState;try{a.componentWillUnmount()}catch(l){Yt(e,i,l)}}function ll(e,i){try{var a=e.ref;if(a!==null){switch(e.tag){case 26:case 27:case 5:var l=e.stateNode;break;case 30:l=e.stateNode;break;default:l=e.stateNode}typeof a=="function"?e.refCleanup=a(l):a.current=l}}catch(h){Yt(e,i,h)}}function Ti(e,i){var a=e.ref,l=e.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(h){Yt(e,i,h)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(h){Yt(e,i,h)}else a.current=null}function zy(e){var i=e.type,a=e.memoizedProps,l=e.stateNode;try{t:switch(i){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break t;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(h){Yt(e,e.return,h)}}function hd(e,i,a){try{var l=e.stateNode;BA(l,e.type,a,i),l[Le]=i}catch(h){Yt(e,e.return,h)}}function By(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&xr(e.type)||e.tag===4}function fd(e){t:for(;;){for(;e.sibling===null;){if(e.return===null||By(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&xr(e.type)||e.flags&2||e.child===null||e.tag===4)continue t;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function dd(e,i,a){var l=e.tag;if(l===5||l===6)e=e.stateNode,i?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(e,i):(i=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,i.appendChild(e),a=a._reactRootContainer,a!=null||i.onclick!==null||(i.onclick=Hn));else if(l!==4&&(l===27&&xr(e.type)&&(a=e.stateNode,i=null),e=e.child,e!==null))for(dd(e,i,a),e=e.sibling;e!==null;)dd(e,i,a),e=e.sibling}function hc(e,i,a){var l=e.tag;if(l===5||l===6)e=e.stateNode,i?a.insertBefore(e,i):a.appendChild(e);else if(l!==4&&(l===27&&xr(e.type)&&(a=e.stateNode),e=e.child,e!==null))for(hc(e,i,a),e=e.sibling;e!==null;)hc(e,i,a),e=e.sibling}function jy(e){var i=e.stateNode,a=e.memoizedProps;try{for(var l=e.type,h=i.attributes;h.length;)i.removeAttributeNode(h[0]);Ge(i,l,a),i[ve]=e,i[Le]=a}catch(d){Yt(e,e.return,d)}}var Gi=!1,we=!1,md=!1,qy=typeof WeakSet=="function"?WeakSet:Set,Ue=null;function vA(e,i){if(e=e.containerInfo,Ld=Mc,e=tg(e),of(e)){if("selectionStart"in e)var a={start:e.selectionStart,end:e.selectionEnd};else t:{a=(a=e.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var h=l.anchorOffset,d=l.focusNode;l=l.focusOffset;try{a.nodeType,d.nodeType}catch{a=null;break t}var _=0,T=-1,D=-1,z=0,K=0,X=e,B=null;e:for(;;){for(var H;X!==a||h!==0&&X.nodeType!==3||(T=_+h),X!==d||l!==0&&X.nodeType!==3||(D=_+l),X.nodeType===3&&(_+=X.nodeValue.length),(H=X.firstChild)!==null;)B=X,X=H;for(;;){if(X===e)break e;if(B===a&&++z===h&&(T=_),B===d&&++K===l&&(D=_),(H=X.nextSibling)!==null)break;X=B,B=X.parentNode}X=H}a=T===-1||D===-1?null:{start:T,end:D}}else a=null}a=a||{start:0,end:0}}else a=null;for(Pd={focusedElem:e,selectionRange:a},Mc=!1,Ue=i;Ue!==null;)if(i=Ue,e=i.child,(i.subtreeFlags&1028)!==0&&e!==null)e.return=i,Ue=e;else for(;Ue!==null;){switch(i=Ue,d=i.alternate,e=i.flags,i.tag){case 0:if((e&4)!==0&&(e=i.updateQueue,e=e!==null?e.events:null,e!==null))for(a=0;a<e.length;a++)h=e[a],h.ref.impl=h.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&d!==null){e=void 0,a=i,h=d.memoizedProps,d=d.memoizedState,l=a.stateNode;try{var ct=Us(a.type,h);e=l.getSnapshotBeforeUpdate(ct,d),l.__reactInternalSnapshotBeforeUpdate=e}catch(yt){Yt(a,a.return,yt)}}break;case 3:if((e&1024)!==0){if(e=i.stateNode.containerInfo,a=e.nodeType,a===9)zd(e);else if(a===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":zd(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(s(163))}if(e=i.sibling,e!==null){e.return=i.return,Ue=e;break}Ue=i.return}}function Hy(e,i,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:Qi(e,a),l&4&&ol(5,a);break;case 1:if(Qi(e,a),l&4)if(e=a.stateNode,i===null)try{e.componentDidMount()}catch(_){Yt(a,a.return,_)}else{var h=Us(a.type,i.memoizedProps);i=i.memoizedState;try{e.componentDidUpdate(h,i,e.__reactInternalSnapshotBeforeUpdate)}catch(_){Yt(a,a.return,_)}}l&64&&Uy(a),l&512&&ll(a,a.return);break;case 3:if(Qi(e,a),l&64&&(e=a.updateQueue,e!==null)){if(i=null,a.child!==null)switch(a.child.tag){case 27:case 5:i=a.child.stateNode;break;case 1:i=a.child.stateNode}try{Cg(e,i)}catch(_){Yt(a,a.return,_)}}break;case 27:i===null&&l&4&&jy(a);case 26:case 5:Qi(e,a),i===null&&l&4&&zy(a),l&512&&ll(a,a.return);break;case 12:Qi(e,a);break;case 31:Qi(e,a),l&4&&Ky(e,a);break;case 13:Qi(e,a),l&4&&Qy(e,a),l&64&&(e=a.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(a=IA.bind(null,a),YA(e,a))));break;case 22:if(l=a.memoizedState!==null||Gi,!l){i=i!==null&&i.memoizedState!==null||we,h=Gi;var d=we;Gi=l,(we=i)&&!d?Yi(e,a,(a.subtreeFlags&8772)!==0):Qi(e,a),Gi=h,we=d}break;case 30:break;default:Qi(e,a)}}function Fy(e){var i=e.alternate;i!==null&&(e.alternate=null,Fy(i)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(i=e.stateNode,i!==null&&ea(i)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var oe=null,an=!1;function Ki(e,i,a){for(a=a.child;a!==null;)Gy(e,i,a),a=a.sibling}function Gy(e,i,a){if(Be&&typeof Be.onCommitFiberUnmount=="function")try{Be.onCommitFiberUnmount(zn,a)}catch{}switch(a.tag){case 26:we||Ti(a,i),Ki(e,i,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:we||Ti(a,i);var l=oe,h=an;xr(a.type)&&(oe=a.stateNode,an=!1),Ki(e,i,a),yl(a.stateNode),oe=l,an=h;break;case 5:we||Ti(a,i);case 6:if(l=oe,h=an,oe=null,Ki(e,i,a),oe=l,an=h,oe!==null)if(an)try{(oe.nodeType===9?oe.body:oe.nodeName==="HTML"?oe.ownerDocument.body:oe).removeChild(a.stateNode)}catch(d){Yt(a,i,d)}else try{oe.removeChild(a.stateNode)}catch(d){Yt(a,i,d)}break;case 18:oe!==null&&(an?(e=oe,U_(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,a.stateNode),za(e)):U_(oe,a.stateNode));break;case 4:l=oe,h=an,oe=a.stateNode.containerInfo,an=!0,Ki(e,i,a),oe=l,an=h;break;case 0:case 11:case 14:case 15:Cr(2,a,i),we||Cr(4,a,i),Ki(e,i,a);break;case 1:we||(Ti(a,i),l=a.stateNode,typeof l.componentWillUnmount=="function"&&ky(a,i,l)),Ki(e,i,a);break;case 21:Ki(e,i,a);break;case 22:we=(l=we)||a.memoizedState!==null,Ki(e,i,a),we=l;break;default:Ki(e,i,a)}}function Ky(e,i){if(i.memoizedState===null&&(e=i.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{za(e)}catch(a){Yt(i,i.return,a)}}}function Qy(e,i){if(i.memoizedState===null&&(e=i.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{za(e)}catch(a){Yt(i,i.return,a)}}function EA(e){switch(e.tag){case 31:case 13:case 19:var i=e.stateNode;return i===null&&(i=e.stateNode=new qy),i;case 22:return e=e.stateNode,i=e._retryCache,i===null&&(i=e._retryCache=new qy),i;default:throw Error(s(435,e.tag))}}function fc(e,i){var a=EA(e);i.forEach(function(l){if(!a.has(l)){a.add(l);var h=DA.bind(null,e,l);l.then(h,h)}})}function on(e,i){var a=i.deletions;if(a!==null)for(var l=0;l<a.length;l++){var h=a[l],d=e,_=i,T=_;t:for(;T!==null;){switch(T.tag){case 27:if(xr(T.type)){oe=T.stateNode,an=!1;break t}break;case 5:oe=T.stateNode,an=!1;break t;case 3:case 4:oe=T.stateNode.containerInfo,an=!0;break t}T=T.return}if(oe===null)throw Error(s(160));Gy(d,_,h),oe=null,an=!1,d=h.alternate,d!==null&&(d.return=null),h.return=null}if(i.subtreeFlags&13886)for(i=i.child;i!==null;)Yy(i,e),i=i.sibling}var Xn=null;function Yy(e,i){var a=e.alternate,l=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:on(i,e),ln(e),l&4&&(Cr(3,e,e.return),ol(3,e),Cr(5,e,e.return));break;case 1:on(i,e),ln(e),l&512&&(we||a===null||Ti(a,a.return)),l&64&&Gi&&(e=e.updateQueue,e!==null&&(l=e.callbacks,l!==null&&(a=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var h=Xn;if(on(i,e),ln(e),l&512&&(we||a===null||Ti(a,a.return)),l&4){var d=a!==null?a.memoizedState:null;if(l=e.memoizedState,a===null)if(l===null)if(e.stateNode===null){t:{l=e.type,a=e.memoizedProps,h=h.ownerDocument||h;e:switch(l){case"title":d=h.getElementsByTagName("title")[0],(!d||d[oi]||d[ve]||d.namespaceURI==="http://www.w3.org/2000/svg"||d.hasAttribute("itemprop"))&&(d=h.createElement(l),h.head.insertBefore(d,h.querySelector("head > title"))),Ge(d,l,a),d[ve]=e,Ee(d),l=d;break t;case"link":var _=Y_("link","href",h).get(l+(a.href||""));if(_){for(var T=0;T<_.length;T++)if(d=_[T],d.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&d.getAttribute("rel")===(a.rel==null?null:a.rel)&&d.getAttribute("title")===(a.title==null?null:a.title)&&d.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){_.splice(T,1);break e}}d=h.createElement(l),Ge(d,l,a),h.head.appendChild(d);break;case"meta":if(_=Y_("meta","content",h).get(l+(a.content||""))){for(T=0;T<_.length;T++)if(d=_[T],d.getAttribute("content")===(a.content==null?null:""+a.content)&&d.getAttribute("name")===(a.name==null?null:a.name)&&d.getAttribute("property")===(a.property==null?null:a.property)&&d.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&d.getAttribute("charset")===(a.charSet==null?null:a.charSet)){_.splice(T,1);break e}}d=h.createElement(l),Ge(d,l,a),h.head.appendChild(d);break;default:throw Error(s(468,l))}d[ve]=e,Ee(d),l=d}e.stateNode=l}else X_(h,e.type,e.stateNode);else e.stateNode=Q_(h,l,e.memoizedProps);else d!==l?(d===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):d.count--,l===null?X_(h,e.type,e.stateNode):Q_(h,l,e.memoizedProps)):l===null&&e.stateNode!==null&&hd(e,e.memoizedProps,a.memoizedProps)}break;case 27:on(i,e),ln(e),l&512&&(we||a===null||Ti(a,a.return)),a!==null&&l&4&&hd(e,e.memoizedProps,a.memoizedProps);break;case 5:if(on(i,e),ln(e),l&512&&(we||a===null||Ti(a,a.return)),e.flags&32){h=e.stateNode;try{sn(h,"")}catch(ct){Yt(e,e.return,ct)}}l&4&&e.stateNode!=null&&(h=e.memoizedProps,hd(e,h,a!==null?a.memoizedProps:h)),l&1024&&(md=!0);break;case 6:if(on(i,e),ln(e),l&4){if(e.stateNode===null)throw Error(s(162));l=e.memoizedProps,a=e.stateNode;try{a.nodeValue=l}catch(ct){Yt(e,e.return,ct)}}break;case 3:if(Ic=null,h=Xn,Xn=Rc(i.containerInfo),on(i,e),Xn=h,ln(e),l&4&&a!==null&&a.memoizedState.isDehydrated)try{za(i.containerInfo)}catch(ct){Yt(e,e.return,ct)}md&&(md=!1,Xy(e));break;case 4:l=Xn,Xn=Rc(e.stateNode.containerInfo),on(i,e),ln(e),Xn=l;break;case 12:on(i,e),ln(e);break;case 31:on(i,e),ln(e),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,fc(e,l)));break;case 13:on(i,e),ln(e),e.child.flags&8192&&e.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(mc=tn()),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,fc(e,l)));break;case 22:h=e.memoizedState!==null;var D=a!==null&&a.memoizedState!==null,z=Gi,K=we;if(Gi=z||h,we=K||D,on(i,e),we=K,Gi=z,ln(e),l&8192)t:for(i=e.stateNode,i._visibility=h?i._visibility&-2:i._visibility|1,h&&(a===null||D||Gi||we||ks(e)),a=null,i=e;;){if(i.tag===5||i.tag===26){if(a===null){D=a=i;try{if(d=D.stateNode,h)_=d.style,typeof _.setProperty=="function"?_.setProperty("display","none","important"):_.display="none";else{T=D.stateNode;var X=D.memoizedProps.style,B=X!=null&&X.hasOwnProperty("display")?X.display:null;T.style.display=B==null||typeof B=="boolean"?"":(""+B).trim()}}catch(ct){Yt(D,D.return,ct)}}}else if(i.tag===6){if(a===null){D=i;try{D.stateNode.nodeValue=h?"":D.memoizedProps}catch(ct){Yt(D,D.return,ct)}}}else if(i.tag===18){if(a===null){D=i;try{var H=D.stateNode;h?k_(H,!0):k_(D.stateNode,!1)}catch(ct){Yt(D,D.return,ct)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===e)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===e)break t;for(;i.sibling===null;){if(i.return===null||i.return===e)break t;a===i&&(a=null),i=i.return}a===i&&(a=null),i.sibling.return=i.return,i=i.sibling}l&4&&(l=e.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,fc(e,a))));break;case 19:on(i,e),ln(e),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,fc(e,l)));break;case 30:break;case 21:break;default:on(i,e),ln(e)}}function ln(e){var i=e.flags;if(i&2){try{for(var a,l=e.return;l!==null;){if(By(l)){a=l;break}l=l.return}if(a==null)throw Error(s(160));switch(a.tag){case 27:var h=a.stateNode,d=fd(e);hc(e,d,h);break;case 5:var _=a.stateNode;a.flags&32&&(sn(_,""),a.flags&=-33);var T=fd(e);hc(e,T,_);break;case 3:case 4:var D=a.stateNode.containerInfo,z=fd(e);dd(e,z,D);break;default:throw Error(s(161))}}catch(K){Yt(e,e.return,K)}e.flags&=-3}i&4096&&(e.flags&=-4097)}function Xy(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var i=e;Xy(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),e=e.sibling}}function Qi(e,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)Hy(e,i.alternate,i),i=i.sibling}function ks(e){for(e=e.child;e!==null;){var i=e;switch(i.tag){case 0:case 11:case 14:case 15:Cr(4,i,i.return),ks(i);break;case 1:Ti(i,i.return);var a=i.stateNode;typeof a.componentWillUnmount=="function"&&ky(i,i.return,a),ks(i);break;case 27:yl(i.stateNode);case 26:case 5:Ti(i,i.return),ks(i);break;case 22:i.memoizedState===null&&ks(i);break;case 30:ks(i);break;default:ks(i)}e=e.sibling}}function Yi(e,i,a){for(a=a&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var l=i.alternate,h=e,d=i,_=d.flags;switch(d.tag){case 0:case 11:case 15:Yi(h,d,a),ol(4,d);break;case 1:if(Yi(h,d,a),l=d,h=l.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(z){Yt(l,l.return,z)}if(l=d,h=l.updateQueue,h!==null){var T=l.stateNode;try{var D=h.shared.hiddenCallbacks;if(D!==null)for(h.shared.hiddenCallbacks=null,h=0;h<D.length;h++)Rg(D[h],T)}catch(z){Yt(l,l.return,z)}}a&&_&64&&Uy(d),ll(d,d.return);break;case 27:jy(d);case 26:case 5:Yi(h,d,a),a&&l===null&&_&4&&zy(d),ll(d,d.return);break;case 12:Yi(h,d,a);break;case 31:Yi(h,d,a),a&&_&4&&Ky(h,d);break;case 13:Yi(h,d,a),a&&_&4&&Qy(h,d);break;case 22:d.memoizedState===null&&Yi(h,d,a),ll(d,d.return);break;case 30:break;default:Yi(h,d,a)}i=i.sibling}}function pd(e,i){var a=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),e=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(e=i.memoizedState.cachePool.pool),e!==a&&(e!=null&&e.refCount++,a!=null&&Yo(a))}function gd(e,i){e=null,i.alternate!==null&&(e=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==e&&(i.refCount++,e!=null&&Yo(e))}function $n(e,i,a,l){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)$y(e,i,a,l),i=i.sibling}function $y(e,i,a,l){var h=i.flags;switch(i.tag){case 0:case 11:case 15:$n(e,i,a,l),h&2048&&ol(9,i);break;case 1:$n(e,i,a,l);break;case 3:$n(e,i,a,l),h&2048&&(e=null,i.alternate!==null&&(e=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==e&&(i.refCount++,e!=null&&Yo(e)));break;case 12:if(h&2048){$n(e,i,a,l),e=i.stateNode;try{var d=i.memoizedProps,_=d.id,T=d.onPostCommit;typeof T=="function"&&T(_,i.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(D){Yt(i,i.return,D)}}else $n(e,i,a,l);break;case 31:$n(e,i,a,l);break;case 13:$n(e,i,a,l);break;case 23:break;case 22:d=i.stateNode,_=i.alternate,i.memoizedState!==null?d._visibility&2?$n(e,i,a,l):ul(e,i):d._visibility&2?$n(e,i,a,l):(d._visibility|=2,Ia(e,i,a,l,(i.subtreeFlags&10256)!==0||!1)),h&2048&&pd(_,i);break;case 24:$n(e,i,a,l),h&2048&&gd(i.alternate,i);break;default:$n(e,i,a,l)}}function Ia(e,i,a,l,h){for(h=h&&((i.subtreeFlags&10256)!==0||!1),i=i.child;i!==null;){var d=e,_=i,T=a,D=l,z=_.flags;switch(_.tag){case 0:case 11:case 15:Ia(d,_,T,D,h),ol(8,_);break;case 23:break;case 22:var K=_.stateNode;_.memoizedState!==null?K._visibility&2?Ia(d,_,T,D,h):ul(d,_):(K._visibility|=2,Ia(d,_,T,D,h)),h&&z&2048&&pd(_.alternate,_);break;case 24:Ia(d,_,T,D,h),h&&z&2048&&gd(_.alternate,_);break;default:Ia(d,_,T,D,h)}i=i.sibling}}function ul(e,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var a=e,l=i,h=l.flags;switch(l.tag){case 22:ul(a,l),h&2048&&pd(l.alternate,l);break;case 24:ul(a,l),h&2048&&gd(l.alternate,l);break;default:ul(a,l)}i=i.sibling}}var cl=8192;function Da(e,i,a){if(e.subtreeFlags&cl)for(e=e.child;e!==null;)Jy(e,i,a),e=e.sibling}function Jy(e,i,a){switch(e.tag){case 26:Da(e,i,a),e.flags&cl&&e.memoizedState!==null&&a1(a,Xn,e.memoizedState,e.memoizedProps);break;case 5:Da(e,i,a);break;case 3:case 4:var l=Xn;Xn=Rc(e.stateNode.containerInfo),Da(e,i,a),Xn=l;break;case 22:e.memoizedState===null&&(l=e.alternate,l!==null&&l.memoizedState!==null?(l=cl,cl=16777216,Da(e,i,a),cl=l):Da(e,i,a));break;default:Da(e,i,a)}}function Zy(e){var i=e.alternate;if(i!==null&&(e=i.child,e!==null)){i.child=null;do i=e.sibling,e.sibling=null,e=i;while(e!==null)}}function hl(e){var i=e.deletions;if((e.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var l=i[a];Ue=l,t_(l,e)}Zy(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)Wy(e),e=e.sibling}function Wy(e){switch(e.tag){case 0:case 11:case 15:hl(e),e.flags&2048&&Cr(9,e,e.return);break;case 3:hl(e);break;case 12:hl(e);break;case 22:var i=e.stateNode;e.memoizedState!==null&&i._visibility&2&&(e.return===null||e.return.tag!==13)?(i._visibility&=-3,dc(e)):hl(e);break;default:hl(e)}}function dc(e){var i=e.deletions;if((e.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var l=i[a];Ue=l,t_(l,e)}Zy(e)}for(e=e.child;e!==null;){switch(i=e,i.tag){case 0:case 11:case 15:Cr(8,i,i.return),dc(i);break;case 22:a=i.stateNode,a._visibility&2&&(a._visibility&=-3,dc(i));break;default:dc(i)}e=e.sibling}}function t_(e,i){for(;Ue!==null;){var a=Ue;switch(a.tag){case 0:case 11:case 15:Cr(8,a,i);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:Yo(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,Ue=l;else t:for(a=e;Ue!==null;){l=Ue;var h=l.sibling,d=l.return;if(Fy(l),l===a){Ue=null;break t}if(h!==null){h.return=d,Ue=h;break t}Ue=d}}}var TA={getCacheForType:function(e){var i=He(Se),a=i.data.get(e);return a===void 0&&(a=e(),i.data.set(e,a)),a},cacheSignal:function(){return He(Se).controller.signal}},SA=typeof WeakMap=="function"?WeakMap:Map,Ht=0,Wt=null,Dt=null,Ot=0,Qt=0,vn=null,Ir=!1,Na=!1,yd=!1,Xi=0,he=0,Dr=0,zs=0,_d=0,En=0,Oa=0,fl=null,un=null,vd=!1,mc=0,e_=0,pc=1/0,gc=null,Nr=null,Me=0,Or=null,Ma=null,$i=0,Ed=0,Td=null,n_=null,dl=0,Sd=null;function Tn(){return(Ht&2)!==0&&Ot!==0?Ot&-Ot:Q.T!==null?Id():yu()}function i_(){if(En===0)if((Ot&536870912)===0||Pt){var e=fs;fs<<=1,(fs&3932160)===0&&(fs=262144),En=e}else En=536870912;return e=yn.current,e!==null&&(e.flags|=32),En}function cn(e,i,a){(e===Wt&&(Qt===2||Qt===9)||e.cancelPendingCommit!==null)&&(Va(e,0),Mr(e,Ot,En,!1)),ds(e,a),((Ht&2)===0||e!==Wt)&&(e===Wt&&((Ht&2)===0&&(zs|=a),he===4&&Mr(e,Ot,En,!1)),Si(e))}function r_(e,i,a){if((Ht&6)!==0)throw Error(s(327));var l=!a&&(i&127)===0&&(i&e.expiredLanes)===0||Bn(e,i),h=l?wA(e,i):bd(e,i,!0),d=l;do{if(h===0){Na&&!l&&Mr(e,i,0,!1);break}else{if(a=e.current.alternate,d&&!AA(a)){h=bd(e,i,!1),d=!1;continue}if(h===2){if(d=i,e.errorRecoveryDisabledLanes&d)var _=0;else _=e.pendingLanes&-536870913,_=_!==0?_:_&536870912?536870912:0;if(_!==0){i=_;t:{var T=e;h=fl;var D=T.current.memoizedState.isDehydrated;if(D&&(Va(T,_).flags|=256),_=bd(T,_,!1),_!==2){if(yd&&!D){T.errorRecoveryDisabledLanes|=d,zs|=d,h=4;break t}d=un,un=h,d!==null&&(un===null?un=d:un.push.apply(un,d))}h=_}if(d=!1,h!==2)continue}}if(h===1){Va(e,0),Mr(e,i,0,!0);break}t:{switch(l=e,d=h,d){case 0:case 1:throw Error(s(345));case 4:if((i&4194048)!==i)break;case 6:Mr(l,i,En,!Ir);break t;case 2:un=null;break;case 3:case 5:break;default:throw Error(s(329))}if((i&62914560)===i&&(h=mc+300-tn(),10<h)){if(Mr(l,i,En,!Ir),ri(l,0,!0)!==0)break t;$i=i,l.timeoutHandle=L_(s_.bind(null,l,a,un,gc,vd,i,En,zs,Oa,Ir,d,"Throttled",-0,0),h);break t}s_(l,a,un,gc,vd,i,En,zs,Oa,Ir,d,null,-0,0)}}break}while(!0);Si(e)}function s_(e,i,a,l,h,d,_,T,D,z,K,X,B,H){if(e.timeoutHandle=-1,X=i.subtreeFlags,X&8192||(X&16785408)===16785408){X={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Hn},Jy(i,d,X);var ct=(d&62914560)===d?mc-tn():(d&4194048)===d?e_-tn():0;if(ct=o1(X,ct),ct!==null){$i=d,e.cancelPendingCommit=ct(d_.bind(null,e,i,d,a,l,h,_,T,D,K,X,null,B,H)),Mr(e,d,_,!z);return}}d_(e,i,d,a,l,h,_,T,D)}function AA(e){for(var i=e;;){var a=i.tag;if((a===0||a===11||a===15)&&i.flags&16384&&(a=i.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var h=a[l],d=h.getSnapshot;h=h.value;try{if(!pn(d(),h))return!1}catch{return!1}}if(a=i.child,i.subtreeFlags&16384&&a!==null)a.return=i,i=a;else{if(i===e)break;for(;i.sibling===null;){if(i.return===null||i.return===e)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function Mr(e,i,a,l){i&=~_d,i&=~zs,e.suspendedLanes|=i,e.pingedLanes&=~i,l&&(e.warmLanes|=i),l=e.expirationTimes;for(var h=i;0<h;){var d=31-fe(h),_=1<<d;l[d]=-1,h&=~_}a!==0&&ms(e,a,i)}function yc(){return(Ht&6)===0?(ml(0),!1):!0}function Ad(){if(Dt!==null){if(Qt===0)var e=Dt.return;else e=Dt,zi=Ns=null,zf(e),Aa=null,$o=0,e=Dt;for(;e!==null;)Py(e.alternate,e),e=e.return;Dt=null}}function Va(e,i){var a=e.timeoutHandle;a!==-1&&(e.timeoutHandle=-1,HA(a)),a=e.cancelPendingCommit,a!==null&&(e.cancelPendingCommit=null,a()),$i=0,Ad(),Wt=e,Dt=a=Ui(e.current,null),Ot=i,Qt=0,vn=null,Ir=!1,Na=Bn(e,i),yd=!1,Oa=En=_d=zs=Dr=he=0,un=fl=null,vd=!1,(i&8)!==0&&(i|=i&32);var l=e.entangledLanes;if(l!==0)for(e=e.entanglements,l&=i;0<l;){var h=31-fe(l),d=1<<h;i|=e[h],l&=~d}return Xi=i,ku(),a}function a_(e,i){Rt=null,Q.H=rl,i===Sa||i===Ku?(i=Sg(),Qt=3):i===Cf?(i=Sg(),Qt=4):Qt=i===ed?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,vn=i,Dt===null&&(he=1,ac(e,Dn(i,e.current)))}function o_(){var e=yn.current;return e===null?!0:(Ot&4194048)===Ot?Vn===null:(Ot&62914560)===Ot||(Ot&536870912)!==0?e===Vn:!1}function l_(){var e=Q.H;return Q.H=rl,e===null?rl:e}function u_(){var e=Q.A;return Q.A=TA,e}function _c(){he=4,Ir||(Ot&4194048)!==Ot&&yn.current!==null||(Na=!0),(Dr&134217727)===0&&(zs&134217727)===0||Wt===null||Mr(Wt,Ot,En,!1)}function bd(e,i,a){var l=Ht;Ht|=2;var h=l_(),d=u_();(Wt!==e||Ot!==i)&&(gc=null,Va(e,i)),i=!1;var _=he;t:do try{if(Qt!==0&&Dt!==null){var T=Dt,D=vn;switch(Qt){case 8:Ad(),_=6;break t;case 3:case 2:case 9:case 6:yn.current===null&&(i=!0);var z=Qt;if(Qt=0,vn=null,xa(e,T,D,z),a&&Na){_=0;break t}break;default:z=Qt,Qt=0,vn=null,xa(e,T,D,z)}}bA(),_=he;break}catch(K){a_(e,K)}while(!0);return i&&e.shellSuspendCounter++,zi=Ns=null,Ht=l,Q.H=h,Q.A=d,Dt===null&&(Wt=null,Ot=0,ku()),_}function bA(){for(;Dt!==null;)c_(Dt)}function wA(e,i){var a=Ht;Ht|=2;var l=l_(),h=u_();Wt!==e||Ot!==i?(gc=null,pc=tn()+500,Va(e,i)):Na=Bn(e,i);t:do try{if(Qt!==0&&Dt!==null){i=Dt;var d=vn;e:switch(Qt){case 1:Qt=0,vn=null,xa(e,i,d,1);break;case 2:case 9:if(Eg(d)){Qt=0,vn=null,h_(i);break}i=function(){Qt!==2&&Qt!==9||Wt!==e||(Qt=7),Si(e)},d.then(i,i);break t;case 3:Qt=7;break t;case 4:Qt=5;break t;case 7:Eg(d)?(Qt=0,vn=null,h_(i)):(Qt=0,vn=null,xa(e,i,d,7));break;case 5:var _=null;switch(Dt.tag){case 26:_=Dt.memoizedState;case 5:case 27:var T=Dt;if(_?$_(_):T.stateNode.complete){Qt=0,vn=null;var D=T.sibling;if(D!==null)Dt=D;else{var z=T.return;z!==null?(Dt=z,vc(z)):Dt=null}break e}}Qt=0,vn=null,xa(e,i,d,5);break;case 6:Qt=0,vn=null,xa(e,i,d,6);break;case 8:Ad(),he=6;break t;default:throw Error(s(462))}}RA();break}catch(K){a_(e,K)}while(!0);return zi=Ns=null,Q.H=l,Q.A=h,Ht=a,Dt!==null?0:(Wt=null,Ot=0,ku(),he)}function RA(){for(;Dt!==null&&!Wh();)c_(Dt)}function c_(e){var i=xy(e.alternate,e,Xi);e.memoizedProps=e.pendingProps,i===null?vc(e):Dt=i}function h_(e){var i=e,a=i.alternate;switch(i.tag){case 15:case 0:i=Iy(a,i,i.pendingProps,i.type,void 0,Ot);break;case 11:i=Iy(a,i,i.pendingProps,i.type.render,i.ref,Ot);break;case 5:zf(i);default:Py(a,i),i=Dt=ug(i,Xi),i=xy(a,i,Xi)}e.memoizedProps=e.pendingProps,i===null?vc(e):Dt=i}function xa(e,i,a,l){zi=Ns=null,zf(i),Aa=null,$o=0;var h=i.return;try{if(mA(e,h,i,a,Ot)){he=1,ac(e,Dn(a,e.current)),Dt=null;return}}catch(d){if(h!==null)throw Dt=h,d;he=1,ac(e,Dn(a,e.current)),Dt=null;return}i.flags&32768?(Pt||l===1?e=!0:Na||(Ot&536870912)!==0?e=!1:(Ir=e=!0,(l===2||l===9||l===3||l===6)&&(l=yn.current,l!==null&&l.tag===13&&(l.flags|=16384))),f_(i,e)):vc(i)}function vc(e){var i=e;do{if((i.flags&32768)!==0){f_(i,Ir);return}e=i.return;var a=yA(i.alternate,i,Xi);if(a!==null){Dt=a;return}if(i=i.sibling,i!==null){Dt=i;return}Dt=i=e}while(i!==null);he===0&&(he=5)}function f_(e,i){do{var a=_A(e.alternate,e);if(a!==null){a.flags&=32767,Dt=a;return}if(a=e.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!i&&(e=e.sibling,e!==null)){Dt=e;return}Dt=e=a}while(e!==null);he=6,Dt=null}function d_(e,i,a,l,h,d,_,T,D){e.cancelPendingCommit=null;do Ec();while(Me!==0);if((Ht&6)!==0)throw Error(s(327));if(i!==null){if(i===e.current)throw Error(s(177));if(d=i.lanes|i.childLanes,d|=ff,nf(e,a,d,_,T,D),e===Wt&&(Dt=Wt=null,Ot=0),Ma=i,Or=e,$i=a,Ed=d,Td=h,n_=l,(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,NA(lr,function(){return __(),null})):(e.callbackNode=null,e.callbackPriority=0),l=(i.flags&13878)!==0,(i.subtreeFlags&13878)!==0||l){l=Q.T,Q.T=null,h=rt.p,rt.p=2,_=Ht,Ht|=4;try{vA(e,i,a)}finally{Ht=_,rt.p=h,Q.T=l}}Me=1,m_(),p_(),g_()}}function m_(){if(Me===1){Me=0;var e=Or,i=Ma,a=(i.flags&13878)!==0;if((i.subtreeFlags&13878)!==0||a){a=Q.T,Q.T=null;var l=rt.p;rt.p=2;var h=Ht;Ht|=4;try{Yy(i,e);var d=Pd,_=tg(e.containerInfo),T=d.focusedElem,D=d.selectionRange;if(_!==T&&T&&T.ownerDocument&&Wp(T.ownerDocument.documentElement,T)){if(D!==null&&of(T)){var z=D.start,K=D.end;if(K===void 0&&(K=z),"selectionStart"in T)T.selectionStart=z,T.selectionEnd=Math.min(K,T.value.length);else{var X=T.ownerDocument||document,B=X&&X.defaultView||window;if(B.getSelection){var H=B.getSelection(),ct=T.textContent.length,yt=Math.min(D.start,ct),Zt=D.end===void 0?yt:Math.min(D.end,ct);!H.extend&&yt>Zt&&(_=Zt,Zt=yt,yt=_);var x=Zp(T,yt),O=Zp(T,Zt);if(x&&O&&(H.rangeCount!==1||H.anchorNode!==x.node||H.anchorOffset!==x.offset||H.focusNode!==O.node||H.focusOffset!==O.offset)){var k=X.createRange();k.setStart(x.node,x.offset),H.removeAllRanges(),yt>Zt?(H.addRange(k),H.extend(O.node,O.offset)):(k.setEnd(O.node,O.offset),H.addRange(k))}}}}for(X=[],H=T;H=H.parentNode;)H.nodeType===1&&X.push({element:H,left:H.scrollLeft,top:H.scrollTop});for(typeof T.focus=="function"&&T.focus(),T=0;T<X.length;T++){var Y=X[T];Y.element.scrollLeft=Y.left,Y.element.scrollTop=Y.top}}Mc=!!Ld,Pd=Ld=null}finally{Ht=h,rt.p=l,Q.T=a}}e.current=i,Me=2}}function p_(){if(Me===2){Me=0;var e=Or,i=Ma,a=(i.flags&8772)!==0;if((i.subtreeFlags&8772)!==0||a){a=Q.T,Q.T=null;var l=rt.p;rt.p=2;var h=Ht;Ht|=4;try{Hy(e,i.alternate,i)}finally{Ht=h,rt.p=l,Q.T=a}}Me=3}}function g_(){if(Me===4||Me===3){Me=0,cu();var e=Or,i=Ma,a=$i,l=n_;(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?Me=5:(Me=0,Ma=Or=null,y_(e,e.pendingLanes));var h=e.pendingLanes;if(h===0&&(Nr=null),Vi(a),i=i.stateNode,Be&&typeof Be.onCommitFiberRoot=="function")try{Be.onCommitFiberRoot(zn,i,void 0,(i.current.flags&128)===128)}catch{}if(l!==null){i=Q.T,h=rt.p,rt.p=2,Q.T=null;try{for(var d=e.onRecoverableError,_=0;_<l.length;_++){var T=l[_];d(T.value,{componentStack:T.stack})}}finally{Q.T=i,rt.p=h}}($i&3)!==0&&Ec(),Si(e),h=e.pendingLanes,(a&261930)!==0&&(h&42)!==0?e===Sd?dl++:(dl=0,Sd=e):dl=0,ml(0)}}function y_(e,i){(e.pooledCacheLanes&=i)===0&&(i=e.pooledCache,i!=null&&(e.pooledCache=null,Yo(i)))}function Ec(){return m_(),p_(),g_(),__()}function __(){if(Me!==5)return!1;var e=Or,i=Ed;Ed=0;var a=Vi($i),l=Q.T,h=rt.p;try{rt.p=32>a?32:a,Q.T=null,a=Td,Td=null;var d=Or,_=$i;if(Me=0,Ma=Or=null,$i=0,(Ht&6)!==0)throw Error(s(331));var T=Ht;if(Ht|=4,Wy(d.current),$y(d,d.current,_,a),Ht=T,ml(0,!1),Be&&typeof Be.onPostCommitFiberRoot=="function")try{Be.onPostCommitFiberRoot(zn,d)}catch{}return!0}finally{rt.p=h,Q.T=l,y_(e,i)}}function v_(e,i,a){i=Dn(a,i),i=td(e.stateNode,i,2),e=br(e,i,2),e!==null&&(ds(e,2),Si(e))}function Yt(e,i,a){if(e.tag===3)v_(e,e,a);else for(;i!==null;){if(i.tag===3){v_(i,e,a);break}else if(i.tag===1){var l=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(Nr===null||!Nr.has(l))){e=Dn(a,e),a=Ey(2),l=br(i,a,2),l!==null&&(Ty(a,l,i,e),ds(l,2),Si(l));break}}i=i.return}}function wd(e,i,a){var l=e.pingCache;if(l===null){l=e.pingCache=new SA;var h=new Set;l.set(i,h)}else h=l.get(i),h===void 0&&(h=new Set,l.set(i,h));h.has(a)||(yd=!0,h.add(a),e=CA.bind(null,e,i,a),i.then(e,e))}function CA(e,i,a){var l=e.pingCache;l!==null&&l.delete(i),e.pingedLanes|=e.suspendedLanes&a,e.warmLanes&=~a,Wt===e&&(Ot&a)===a&&(he===4||he===3&&(Ot&62914560)===Ot&&300>tn()-mc?(Ht&2)===0&&Va(e,0):_d|=a,Oa===Ot&&(Oa=0)),Si(e)}function E_(e,i){i===0&&(i=gu()),e=Cs(e,i),e!==null&&(ds(e,i),Si(e))}function IA(e){var i=e.memoizedState,a=0;i!==null&&(a=i.retryLane),E_(e,a)}function DA(e,i){var a=0;switch(e.tag){case 31:case 13:var l=e.stateNode,h=e.memoizedState;h!==null&&(a=h.retryLane);break;case 19:l=e.stateNode;break;case 22:l=e.stateNode._retryCache;break;default:throw Error(s(314))}l!==null&&l.delete(i),E_(e,a)}function NA(e,i){return Oe(e,i)}var Tc=null,La=null,Rd=!1,Sc=!1,Cd=!1,Vr=0;function Si(e){e!==La&&e.next===null&&(La===null?Tc=La=e:La=La.next=e),Sc=!0,Rd||(Rd=!0,MA())}function ml(e,i){if(!Cd&&Sc){Cd=!0;do for(var a=!1,l=Tc;l!==null;){if(e!==0){var h=l.pendingLanes;if(h===0)var d=0;else{var _=l.suspendedLanes,T=l.pingedLanes;d=(1<<31-fe(42|e)+1)-1,d&=h&~(_&~T),d=d&201326741?d&201326741|1:d?d|2:0}d!==0&&(a=!0,b_(l,d))}else d=Ot,d=ri(l,l===Wt?d:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(d&3)===0||Bn(l,d)||(a=!0,b_(l,d));l=l.next}while(a);Cd=!1}}function OA(){T_()}function T_(){Sc=Rd=!1;var e=0;Vr!==0&&qA()&&(e=Vr);for(var i=tn(),a=null,l=Tc;l!==null;){var h=l.next,d=S_(l,i);d===0?(l.next=null,a===null?Tc=h:a.next=h,h===null&&(La=a)):(a=l,(e!==0||(d&3)!==0)&&(Sc=!0)),l=h}Me!==0&&Me!==5||ml(e),Vr!==0&&(Vr=0)}function S_(e,i){for(var a=e.suspendedLanes,l=e.pingedLanes,h=e.expirationTimes,d=e.pendingLanes&-62914561;0<d;){var _=31-fe(d),T=1<<_,D=h[_];D===-1?((T&a)===0||(T&l)!==0)&&(h[_]=ef(T,i)):D<=i&&(e.expiredLanes|=T),d&=~T}if(i=Wt,a=Ot,a=ri(e,e===i?a:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),l=e.callbackNode,a===0||e===i&&(Qt===2||Qt===9)||e.cancelPendingCommit!==null)return l!==null&&l!==null&&or(l),e.callbackNode=null,e.callbackPriority=0;if((a&3)===0||Bn(e,a)){if(i=a&-a,i===e.callbackPriority)return i;switch(l!==null&&or(l),Vi(a)){case 2:case 8:a=bo;break;case 32:a=lr;break;case 268435456:a=hu;break;default:a=lr}return l=A_.bind(null,e),a=Oe(a,l),e.callbackPriority=i,e.callbackNode=a,i}return l!==null&&l!==null&&or(l),e.callbackPriority=2,e.callbackNode=null,2}function A_(e,i){if(Me!==0&&Me!==5)return e.callbackNode=null,e.callbackPriority=0,null;var a=e.callbackNode;if(Ec()&&e.callbackNode!==a)return null;var l=Ot;return l=ri(e,e===Wt?l:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),l===0?null:(r_(e,l,i),S_(e,tn()),e.callbackNode!=null&&e.callbackNode===a?A_.bind(null,e):null)}function b_(e,i){if(Ec())return null;r_(e,i,!0)}function MA(){FA(function(){(Ht&6)!==0?Oe(Ao,OA):T_()})}function Id(){if(Vr===0){var e=Ea;e===0&&(e=ni,ni<<=1,(ni&261888)===0&&(ni=256)),Vr=e}return Vr}function w_(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:sa(""+e)}function R_(e,i){var a=i.ownerDocument.createElement("input");return a.name=i.name,a.value=i.value,e.id&&a.setAttribute("form",e.id),i.parentNode.insertBefore(a,i),e=new FormData(e),a.parentNode.removeChild(a),e}function VA(e,i,a,l,h){if(i==="submit"&&a&&a.stateNode===h){var d=w_((h[Le]||null).action),_=l.submitter;_&&(i=(i=_[Le]||null)?w_(i.formAction):_.getAttribute("formAction"),i!==null&&(d=i,_=null));var T=new pi("action","action",null,l,h);e.push({event:T,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(Vr!==0){var D=_?R_(h,_):new FormData(h);Yf(a,{pending:!0,data:D,method:h.method,action:d},null,D)}}else typeof d=="function"&&(T.preventDefault(),D=_?R_(h,_):new FormData(h),Yf(a,{pending:!0,data:D,method:h.method,action:d},d,D))},currentTarget:h}]})}}for(var Dd=0;Dd<hf.length;Dd++){var Nd=hf[Dd],xA=Nd.toLowerCase(),LA=Nd[0].toUpperCase()+Nd.slice(1);Yn(xA,"on"+LA)}Yn(ig,"onAnimationEnd"),Yn(rg,"onAnimationIteration"),Yn(sg,"onAnimationStart"),Yn("dblclick","onDoubleClick"),Yn("focusin","onFocus"),Yn("focusout","onBlur"),Yn(JS,"onTransitionRun"),Yn(ZS,"onTransitionStart"),Yn(WS,"onTransitionCancel"),Yn(ag,"onTransitionEnd"),hi("onMouseEnter",["mouseout","mouseover"]),hi("onMouseLeave",["mouseout","mouseover"]),hi("onPointerEnter",["pointerout","pointerover"]),hi("onPointerLeave",["pointerout","pointerover"]),ci("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),ci("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),ci("onBeforeInput",["compositionend","keypress","textInput","paste"]),ci("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),ci("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),ci("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var pl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),PA=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(pl));function C_(e,i){i=(i&4)!==0;for(var a=0;a<e.length;a++){var l=e[a],h=l.event;l=l.listeners;t:{var d=void 0;if(i)for(var _=l.length-1;0<=_;_--){var T=l[_],D=T.instance,z=T.currentTarget;if(T=T.listener,D!==d&&h.isPropagationStopped())break t;d=T,h.currentTarget=z;try{d(h)}catch(K){Uu(K)}h.currentTarget=null,d=D}else for(_=0;_<l.length;_++){if(T=l[_],D=T.instance,z=T.currentTarget,T=T.listener,D!==d&&h.isPropagationStopped())break t;d=T,h.currentTarget=z;try{d(h)}catch(K){Uu(K)}h.currentTarget=null,d=D}}}}function Nt(e,i){var a=i[ta];a===void 0&&(a=i[ta]=new Set);var l=e+"__bubble";a.has(l)||(I_(i,e,2,!1),a.add(l))}function Od(e,i,a){var l=0;i&&(l|=4),I_(a,e,l,i)}var Ac="_reactListening"+Math.random().toString(36).slice(2);function Md(e){if(!e[Ac]){e[Ac]=!0,Co.forEach(function(a){a!=="selectionchange"&&(PA.has(a)||Od(a,!1,e),Od(a,!0,e))});var i=e.nodeType===9?e:e.ownerDocument;i===null||i[Ac]||(i[Ac]=!0,Od("selectionchange",!1,i))}}function I_(e,i,a,l){switch(iv(i)){case 2:var h=c1;break;case 8:h=h1;break;default:h=Qd}a=h.bind(null,i,a,e),h=void 0,!vs||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(h=!0),l?h!==void 0?e.addEventListener(i,a,{capture:!0,passive:h}):e.addEventListener(i,a,!0):h!==void 0?e.addEventListener(i,a,{passive:h}):e.addEventListener(i,a,!1)}function Vd(e,i,a,l,h){var d=l;if((i&1)===0&&(i&2)===0&&l!==null)t:for(;;){if(l===null)return;var _=l.tag;if(_===3||_===4){var T=l.stateNode.containerInfo;if(T===h)break;if(_===4)for(_=l.return;_!==null;){var D=_.tag;if((D===3||D===4)&&_.stateNode.containerInfo===h)return;_=_.return}for(;T!==null;){if(_=li(T),_===null)return;if(D=_.tag,D===5||D===6||D===26||D===27){l=d=_;continue t}T=T.parentNode}}l=l.return}mr(function(){var z=d,K=wn(a),X=[];t:{var B=og.get(e);if(B!==void 0){var H=pi,ct=e;switch(e){case"keypress":if(Ts(a)===0)break t;case"keydown":case"keyup":H=xu;break;case"focusin":ct="focus",H=As;break;case"focusout":ct="blur",H=As;break;case"beforeblur":case"afterblur":H=As;break;case"click":if(a.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":H=Bo;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":H=wu;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":H=p;break;case ig:case rg:case sg:H=Cu;break;case ag:H=A;break;case"scroll":case"scrollend":H=zo;break;case"wheel":H=j;break;case"copy":case"cut":case"paste":H=Iu;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":H=Pi;break;case"toggle":case"beforetoggle":H=wt}var yt=(i&4)!==0,Zt=!yt&&(e==="scroll"||e==="scrollend"),x=yt?B!==null?B+"Capture":null:B;yt=[];for(var O=z,k;O!==null;){var Y=O;if(k=Y.stateNode,Y=Y.tag,Y!==5&&Y!==26&&Y!==27||k===null||x===null||(Y=Fn(O,x),Y!=null&&yt.push(gl(O,Y,k))),Zt)break;O=O.return}0<yt.length&&(B=new H(B,ct,null,a,K),X.push({event:B,listeners:yt}))}}if((i&7)===0){t:{if(B=e==="mouseover"||e==="pointerover",H=e==="mouseout"||e==="pointerout",B&&a!==Po&&(ct=a.relatedTarget||a.fromElement)&&(li(ct)||ct[ai]))break t;if((H||B)&&(B=K.window===K?K:(B=K.ownerDocument)?B.defaultView||B.parentWindow:window,H?(ct=a.relatedTarget||a.toElement,H=z,ct=ct?li(ct):null,ct!==null&&(Zt=u(ct),yt=ct.tag,ct!==Zt||yt!==5&&yt!==27&&yt!==6)&&(ct=null)):(H=null,ct=z),H!==ct)){if(yt=Bo,Y="onMouseLeave",x="onMouseEnter",O="mouse",(e==="pointerout"||e==="pointerover")&&(yt=Pi,Y="onPointerLeave",x="onPointerEnter",O="pointer"),Zt=H==null?B:dn(H),k=ct==null?B:dn(ct),B=new yt(Y,O+"leave",H,a,K),B.target=Zt,B.relatedTarget=k,Y=null,li(K)===z&&(yt=new yt(x,O+"enter",ct,a,K),yt.target=k,yt.relatedTarget=Zt,Y=yt),Zt=Y,H&&ct)e:{for(yt=UA,x=H,O=ct,k=0,Y=x;Y;Y=yt(Y))k++;Y=0;for(var mt=O;mt;mt=yt(mt))Y++;for(;0<k-Y;)x=yt(x),k--;for(;0<Y-k;)O=yt(O),Y--;for(;k--;){if(x===O||O!==null&&x===O.alternate){yt=x;break e}x=yt(x),O=yt(O)}yt=null}else yt=null;H!==null&&D_(X,B,H,yt,!1),ct!==null&&Zt!==null&&D_(X,Zt,ct,yt,!0)}}t:{if(B=z?dn(z):window,H=B.nodeName&&B.nodeName.toLowerCase(),H==="select"||H==="input"&&B.type==="file")var Bt=Kp;else if(Fp(B))if(Qp)Bt=YS;else{Bt=KS;var ft=GS}else H=B.nodeName,!H||H.toLowerCase()!=="input"||B.type!=="checkbox"&&B.type!=="radio"?z&&ra(z.elementType)&&(Bt=Kp):Bt=QS;if(Bt&&(Bt=Bt(e,z))){Gp(X,Bt,a,K);break t}ft&&ft(e,B,z),e==="focusout"&&z&&B.type==="number"&&z.memoizedProps.value!=null&&Vo(B,"number",B.value)}switch(ft=z?dn(z):window,e){case"focusin":(Fp(ft)||ft.contentEditable==="true")&&(fa=ft,lf=z,Go=null);break;case"focusout":Go=lf=fa=null;break;case"mousedown":uf=!0;break;case"contextmenu":case"mouseup":case"dragend":uf=!1,eg(X,a,K);break;case"selectionchange":if($S)break;case"keydown":case"keyup":eg(X,a,K)}var It;if(qt)t:{switch(e){case"compositionstart":var Mt="onCompositionStart";break t;case"compositionend":Mt="onCompositionEnd";break t;case"compositionupdate":Mt="onCompositionUpdate";break t}Mt=void 0}else ha?bs(e,a)&&(Mt="onCompositionEnd"):e==="keydown"&&a.keyCode===229&&(Mt="onCompositionStart");Mt&&(_i&&a.locale!=="ko"&&(ha||Mt!=="onCompositionStart"?Mt==="onCompositionEnd"&&ha&&(It=ko()):(mi=K,Uo="value"in mi?mi.value:mi.textContent,ha=!0)),ft=bc(z,Mt),0<ft.length&&(Mt=new yi(Mt,e,null,a,K),X.push({event:Mt,listeners:ft}),It?Mt.data=It:(It=ca(a),It!==null&&(Mt.data=It)))),(It=Cn?jS(e,a):qS(e,a))&&(Mt=bc(z,"onBeforeInput"),0<Mt.length&&(ft=new yi("onBeforeInput","beforeinput",null,a,K),X.push({event:ft,listeners:Mt}),ft.data=It)),VA(X,e,z,a,K)}C_(X,i)})}function gl(e,i,a){return{instance:e,listener:i,currentTarget:a}}function bc(e,i){for(var a=i+"Capture",l=[];e!==null;){var h=e,d=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||d===null||(h=Fn(e,a),h!=null&&l.unshift(gl(e,h,d)),h=Fn(e,i),h!=null&&l.push(gl(e,h,d))),e.tag===3)return l;e=e.return}return[]}function UA(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function D_(e,i,a,l,h){for(var d=i._reactName,_=[];a!==null&&a!==l;){var T=a,D=T.alternate,z=T.stateNode;if(T=T.tag,D!==null&&D===l)break;T!==5&&T!==26&&T!==27||z===null||(D=z,h?(z=Fn(a,d),z!=null&&_.unshift(gl(a,z,D))):h||(z=Fn(a,d),z!=null&&_.push(gl(a,z,D)))),a=a.return}_.length!==0&&e.push({event:i,listeners:_})}var kA=/\r\n?/g,zA=/\u0000|\uFFFD/g;function N_(e){return(typeof e=="string"?e:""+e).replace(kA,`
`).replace(zA,"")}function O_(e,i){return i=N_(i),N_(e)===i}function Jt(e,i,a,l,h,d){switch(a){case"children":typeof l=="string"?i==="body"||i==="textarea"&&l===""||sn(e,l):(typeof l=="number"||typeof l=="bigint")&&i!=="body"&&sn(e,""+l);break;case"className":mn(e,"class",l);break;case"tabIndex":mn(e,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":mn(e,a,l);break;case"style":Lo(e,l,d);break;case"data":if(i!=="object"){mn(e,"data",l);break}case"src":case"href":if(l===""&&(i!=="a"||a!=="href")){e.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){e.removeAttribute(a);break}l=sa(""+l),e.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){e.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof d=="function"&&(a==="formAction"?(i!=="input"&&Jt(e,i,"name",h.name,h,null),Jt(e,i,"formEncType",h.formEncType,h,null),Jt(e,i,"formMethod",h.formMethod,h,null),Jt(e,i,"formTarget",h.formTarget,h,null)):(Jt(e,i,"encType",h.encType,h,null),Jt(e,i,"method",h.method,h,null),Jt(e,i,"target",h.target,h,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){e.removeAttribute(a);break}l=sa(""+l),e.setAttribute(a,l);break;case"onClick":l!=null&&(e.onclick=Hn);break;case"onScroll":l!=null&&Nt("scroll",e);break;case"onScrollEnd":l!=null&&Nt("scrollend",e);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(s(60));e.innerHTML=a}}break;case"multiple":e.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":e.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){e.removeAttribute("xlink:href");break}a=sa(""+l),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(a,""+l):e.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(a,""):e.removeAttribute(a);break;case"capture":case"download":l===!0?e.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(a,l):e.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?e.setAttribute(a,l):e.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?e.removeAttribute(a):e.setAttribute(a,l);break;case"popover":Nt("beforetoggle",e),Nt("toggle",e),na(e,"popover",l);break;case"xlinkActuate":Te(e,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":Te(e,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":Te(e,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":Te(e,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":Te(e,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":Te(e,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":Te(e,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":Te(e,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":Te(e,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":na(e,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=bu.get(a)||a,na(e,a,l))}}function xd(e,i,a,l,h,d){switch(a){case"style":Lo(e,l,d);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(s(60));e.innerHTML=a}}break;case"children":typeof l=="string"?sn(e,l):(typeof l=="number"||typeof l=="bigint")&&sn(e,""+l);break;case"onScroll":l!=null&&Nt("scroll",e);break;case"onScrollEnd":l!=null&&Nt("scrollend",e);break;case"onClick":l!=null&&(e.onclick=Hn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Io.hasOwnProperty(a))t:{if(a[0]==="o"&&a[1]==="n"&&(h=a.endsWith("Capture"),i=a.slice(2,h?a.length-7:void 0),d=e[Le]||null,d=d!=null?d[a]:null,typeof d=="function"&&e.removeEventListener(i,d,h),typeof l=="function")){typeof d!="function"&&d!==null&&(a in e?e[a]=null:e.hasAttribute(a)&&e.removeAttribute(a)),e.addEventListener(i,l,h);break t}a in e?e[a]=l:l===!0?e.setAttribute(a,""):na(e,a,l)}}}function Ge(e,i,a){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Nt("error",e),Nt("load",e);var l=!1,h=!1,d;for(d in a)if(a.hasOwnProperty(d)){var _=a[d];if(_!=null)switch(d){case"src":l=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:Jt(e,i,d,_,a,null)}}h&&Jt(e,i,"srcSet",a.srcSet,a,null),l&&Jt(e,i,"src",a.src,a,null);return;case"input":Nt("invalid",e);var T=d=_=h=null,D=null,z=null;for(l in a)if(a.hasOwnProperty(l)){var K=a[l];if(K!=null)switch(l){case"name":h=K;break;case"type":_=K;break;case"checked":D=K;break;case"defaultChecked":z=K;break;case"value":d=K;break;case"defaultValue":T=K;break;case"children":case"dangerouslySetInnerHTML":if(K!=null)throw Error(s(137,i));break;default:Jt(e,i,l,K,a,null)}}Tu(e,d,T,D,z,_,h,!1);return;case"select":Nt("invalid",e),l=_=d=null;for(h in a)if(a.hasOwnProperty(h)&&(T=a[h],T!=null))switch(h){case"value":d=T;break;case"defaultValue":_=T;break;case"multiple":l=T;default:Jt(e,i,h,T,a,null)}i=d,a=_,e.multiple=!!l,i!=null?cr(e,!!l,i,!1):a!=null&&cr(e,!!l,a,!0);return;case"textarea":Nt("invalid",e),d=h=l=null;for(_ in a)if(a.hasOwnProperty(_)&&(T=a[_],T!=null))switch(_){case"value":l=T;break;case"defaultValue":h=T;break;case"children":d=T;break;case"dangerouslySetInnerHTML":if(T!=null)throw Error(s(91));break;default:Jt(e,i,_,T,a,null)}hr(e,l,h,d);return;case"option":for(D in a)if(a.hasOwnProperty(D)&&(l=a[D],l!=null))switch(D){case"selected":e.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:Jt(e,i,D,l,a,null)}return;case"dialog":Nt("beforetoggle",e),Nt("toggle",e),Nt("cancel",e),Nt("close",e);break;case"iframe":case"object":Nt("load",e);break;case"video":case"audio":for(l=0;l<pl.length;l++)Nt(pl[l],e);break;case"image":Nt("error",e),Nt("load",e);break;case"details":Nt("toggle",e);break;case"embed":case"source":case"link":Nt("error",e),Nt("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(z in a)if(a.hasOwnProperty(z)&&(l=a[z],l!=null))switch(z){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:Jt(e,i,z,l,a,null)}return;default:if(ra(i)){for(K in a)a.hasOwnProperty(K)&&(l=a[K],l!==void 0&&xd(e,i,K,l,a,void 0));return}}for(T in a)a.hasOwnProperty(T)&&(l=a[T],l!=null&&Jt(e,i,T,l,a,null))}function BA(e,i,a,l){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,d=null,_=null,T=null,D=null,z=null,K=null;for(H in a){var X=a[H];if(a.hasOwnProperty(H)&&X!=null)switch(H){case"checked":break;case"value":break;case"defaultValue":D=X;default:l.hasOwnProperty(H)||Jt(e,i,H,null,l,X)}}for(var B in l){var H=l[B];if(X=a[B],l.hasOwnProperty(B)&&(H!=null||X!=null))switch(B){case"type":d=H;break;case"name":h=H;break;case"checked":z=H;break;case"defaultChecked":K=H;break;case"value":_=H;break;case"defaultValue":T=H;break;case"children":case"dangerouslySetInnerHTML":if(H!=null)throw Error(s(137,i));break;default:H!==X&&Jt(e,i,B,H,l,X)}}ia(e,_,T,D,z,K,d,h);return;case"select":H=_=T=B=null;for(d in a)if(D=a[d],a.hasOwnProperty(d)&&D!=null)switch(d){case"value":break;case"multiple":H=D;default:l.hasOwnProperty(d)||Jt(e,i,d,null,l,D)}for(h in l)if(d=l[h],D=a[h],l.hasOwnProperty(h)&&(d!=null||D!=null))switch(h){case"value":B=d;break;case"defaultValue":T=d;break;case"multiple":_=d;default:d!==D&&Jt(e,i,h,d,l,D)}i=T,a=_,l=H,B!=null?cr(e,!!a,B,!1):!!l!=!!a&&(i!=null?cr(e,!!a,i,!0):cr(e,!!a,a?[]:"",!1));return;case"textarea":H=B=null;for(T in a)if(h=a[T],a.hasOwnProperty(T)&&h!=null&&!l.hasOwnProperty(T))switch(T){case"value":break;case"children":break;default:Jt(e,i,T,null,l,h)}for(_ in l)if(h=l[_],d=a[_],l.hasOwnProperty(_)&&(h!=null||d!=null))switch(_){case"value":B=h;break;case"defaultValue":H=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(s(91));break;default:h!==d&&Jt(e,i,_,h,l,d)}Su(e,B,H);return;case"option":for(var ct in a)if(B=a[ct],a.hasOwnProperty(ct)&&B!=null&&!l.hasOwnProperty(ct))switch(ct){case"selected":e.selected=!1;break;default:Jt(e,i,ct,null,l,B)}for(D in l)if(B=l[D],H=a[D],l.hasOwnProperty(D)&&B!==H&&(B!=null||H!=null))switch(D){case"selected":e.selected=B&&typeof B!="function"&&typeof B!="symbol";break;default:Jt(e,i,D,B,l,H)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var yt in a)B=a[yt],a.hasOwnProperty(yt)&&B!=null&&!l.hasOwnProperty(yt)&&Jt(e,i,yt,null,l,B);for(z in l)if(B=l[z],H=a[z],l.hasOwnProperty(z)&&B!==H&&(B!=null||H!=null))switch(z){case"children":case"dangerouslySetInnerHTML":if(B!=null)throw Error(s(137,i));break;default:Jt(e,i,z,B,l,H)}return;default:if(ra(i)){for(var Zt in a)B=a[Zt],a.hasOwnProperty(Zt)&&B!==void 0&&!l.hasOwnProperty(Zt)&&xd(e,i,Zt,void 0,l,B);for(K in l)B=l[K],H=a[K],!l.hasOwnProperty(K)||B===H||B===void 0&&H===void 0||xd(e,i,K,B,l,H);return}}for(var x in a)B=a[x],a.hasOwnProperty(x)&&B!=null&&!l.hasOwnProperty(x)&&Jt(e,i,x,null,l,B);for(X in l)B=l[X],H=a[X],!l.hasOwnProperty(X)||B===H||B==null&&H==null||Jt(e,i,X,B,l,H)}function M_(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function jA(){if(typeof performance.getEntriesByType=="function"){for(var e=0,i=0,a=performance.getEntriesByType("resource"),l=0;l<a.length;l++){var h=a[l],d=h.transferSize,_=h.initiatorType,T=h.duration;if(d&&T&&M_(_)){for(_=0,T=h.responseEnd,l+=1;l<a.length;l++){var D=a[l],z=D.startTime;if(z>T)break;var K=D.transferSize,X=D.initiatorType;K&&M_(X)&&(D=D.responseEnd,_+=K*(D<T?1:(T-z)/(D-z)))}if(--l,i+=8*(d+_)/(h.duration/1e3),e++,10<e)break}}if(0<e)return i/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var Ld=null,Pd=null;function wc(e){return e.nodeType===9?e:e.ownerDocument}function V_(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function x_(e,i){if(e===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&i==="foreignObject"?0:e}function Ud(e,i){return e==="textarea"||e==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var kd=null;function qA(){var e=window.event;return e&&e.type==="popstate"?e===kd?!1:(kd=e,!0):(kd=null,!1)}var L_=typeof setTimeout=="function"?setTimeout:void 0,HA=typeof clearTimeout=="function"?clearTimeout:void 0,P_=typeof Promise=="function"?Promise:void 0,FA=typeof queueMicrotask=="function"?queueMicrotask:typeof P_<"u"?function(e){return P_.resolve(null).then(e).catch(GA)}:L_;function GA(e){setTimeout(function(){throw e})}function xr(e){return e==="head"}function U_(e,i){var a=i,l=0;do{var h=a.nextSibling;if(e.removeChild(a),h&&h.nodeType===8)if(a=h.data,a==="/$"||a==="/&"){if(l===0){e.removeChild(h),za(i);return}l--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")l++;else if(a==="html")yl(e.ownerDocument.documentElement);else if(a==="head"){a=e.ownerDocument.head,yl(a);for(var d=a.firstChild;d;){var _=d.nextSibling,T=d.nodeName;d[oi]||T==="SCRIPT"||T==="STYLE"||T==="LINK"&&d.rel.toLowerCase()==="stylesheet"||a.removeChild(d),d=_}}else a==="body"&&yl(e.ownerDocument.body);a=h}while(a);za(i)}function k_(e,i){var a=e;e=0;do{var l=a.nextSibling;if(a.nodeType===1?i?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(i?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),l&&l.nodeType===8)if(a=l.data,a==="/$"){if(e===0)break;e--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||e++;a=l}while(a)}function zd(e){var i=e.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var a=i;switch(i=i.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":zd(a),ea(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}e.removeChild(a)}}function KA(e,i,a,l){for(;e.nodeType===1;){var h=a;if(e.nodeName.toLowerCase()!==i.toLowerCase()){if(!l&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(l){if(!e[oi])switch(i){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(d=e.getAttribute("rel"),d==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(d!==h.rel||e.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||e.getAttribute("title")!==(h.title==null?null:h.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(d=e.getAttribute("src"),(d!==(h.src==null?null:h.src)||e.getAttribute("type")!==(h.type==null?null:h.type)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&d&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(i==="input"&&e.type==="hidden"){var d=h.name==null?null:""+h.name;if(h.type==="hidden"&&e.getAttribute("name")===d)return e}else return e;if(e=xn(e.nextSibling),e===null)break}return null}function QA(e,i,a){if(i==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!a||(e=xn(e.nextSibling),e===null))return null;return e}function z_(e,i){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!i||(e=xn(e.nextSibling),e===null))return null;return e}function Bd(e){return e.data==="$?"||e.data==="$~"}function jd(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function YA(e,i){var a=e.ownerDocument;if(e.data==="$~")e._reactRetry=i;else if(e.data!=="$?"||a.readyState!=="loading")i();else{var l=function(){i(),a.removeEventListener("DOMContentLoaded",l)};a.addEventListener("DOMContentLoaded",l),e._reactRetry=l}}function xn(e){for(;e!=null;e=e.nextSibling){var i=e.nodeType;if(i===1||i===3)break;if(i===8){if(i=e.data,i==="$"||i==="$!"||i==="$?"||i==="$~"||i==="&"||i==="F!"||i==="F")break;if(i==="/$"||i==="/&")return null}}return e}var qd=null;function B_(e){e=e.nextSibling;for(var i=0;e;){if(e.nodeType===8){var a=e.data;if(a==="/$"||a==="/&"){if(i===0)return xn(e.nextSibling);i--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||i++}e=e.nextSibling}return null}function j_(e){e=e.previousSibling;for(var i=0;e;){if(e.nodeType===8){var a=e.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(i===0)return e;i--}else a!=="/$"&&a!=="/&"||i++}e=e.previousSibling}return null}function q_(e,i,a){switch(i=wc(a),e){case"html":if(e=i.documentElement,!e)throw Error(s(452));return e;case"head":if(e=i.head,!e)throw Error(s(453));return e;case"body":if(e=i.body,!e)throw Error(s(454));return e;default:throw Error(s(451))}}function yl(e){for(var i=e.attributes;i.length;)e.removeAttributeNode(i[0]);ea(e)}var Ln=new Map,H_=new Set;function Rc(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var Ji=rt.d;rt.d={f:XA,r:$A,D:JA,C:ZA,L:WA,m:t1,X:n1,S:e1,M:i1};function XA(){var e=Ji.f(),i=yc();return e||i}function $A(e){var i=bn(e);i!==null&&i.tag===5&&i.type==="form"?ay(i):Ji.r(e)}var Pa=typeof document>"u"?null:document;function F_(e,i,a){var l=Pa;if(l&&typeof i=="string"&&i){var h=rn(i);h='link[rel="'+e+'"][href="'+h+'"]',typeof a=="string"&&(h+='[crossorigin="'+a+'"]'),H_.has(h)||(H_.add(h),e={rel:e,crossOrigin:a,href:i},l.querySelector(h)===null&&(i=l.createElement("link"),Ge(i,"link",e),Ee(i),l.head.appendChild(i)))}}function JA(e){Ji.D(e),F_("dns-prefetch",e,null)}function ZA(e,i){Ji.C(e,i),F_("preconnect",e,i)}function WA(e,i,a){Ji.L(e,i,a);var l=Pa;if(l&&e&&i){var h='link[rel="preload"][as="'+rn(i)+'"]';i==="image"&&a&&a.imageSrcSet?(h+='[imagesrcset="'+rn(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(h+='[imagesizes="'+rn(a.imageSizes)+'"]')):h+='[href="'+rn(e)+'"]';var d=h;switch(i){case"style":d=Ua(e);break;case"script":d=ka(e)}Ln.has(d)||(e=S({rel:"preload",href:i==="image"&&a&&a.imageSrcSet?void 0:e,as:i},a),Ln.set(d,e),l.querySelector(h)!==null||i==="style"&&l.querySelector(_l(d))||i==="script"&&l.querySelector(vl(d))||(i=l.createElement("link"),Ge(i,"link",e),Ee(i),l.head.appendChild(i)))}}function t1(e,i){Ji.m(e,i);var a=Pa;if(a&&e){var l=i&&typeof i.as=="string"?i.as:"script",h='link[rel="modulepreload"][as="'+rn(l)+'"][href="'+rn(e)+'"]',d=h;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":d=ka(e)}if(!Ln.has(d)&&(e=S({rel:"modulepreload",href:e},i),Ln.set(d,e),a.querySelector(h)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(vl(d)))return}l=a.createElement("link"),Ge(l,"link",e),Ee(l),a.head.appendChild(l)}}}function e1(e,i,a){Ji.S(e,i,a);var l=Pa;if(l&&e){var h=ui(l).hoistableStyles,d=Ua(e);i=i||"default";var _=h.get(d);if(!_){var T={loading:0,preload:null};if(_=l.querySelector(_l(d)))T.loading=5;else{e=S({rel:"stylesheet",href:e,"data-precedence":i},a),(a=Ln.get(d))&&Hd(e,a);var D=_=l.createElement("link");Ee(D),Ge(D,"link",e),D._p=new Promise(function(z,K){D.onload=z,D.onerror=K}),D.addEventListener("load",function(){T.loading|=1}),D.addEventListener("error",function(){T.loading|=2}),T.loading|=4,Cc(_,i,l)}_={type:"stylesheet",instance:_,count:1,state:T},h.set(d,_)}}}function n1(e,i){Ji.X(e,i);var a=Pa;if(a&&e){var l=ui(a).hoistableScripts,h=ka(e),d=l.get(h);d||(d=a.querySelector(vl(h)),d||(e=S({src:e,async:!0},i),(i=Ln.get(h))&&Fd(e,i),d=a.createElement("script"),Ee(d),Ge(d,"link",e),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(h,d))}}function i1(e,i){Ji.M(e,i);var a=Pa;if(a&&e){var l=ui(a).hoistableScripts,h=ka(e),d=l.get(h);d||(d=a.querySelector(vl(h)),d||(e=S({src:e,async:!0,type:"module"},i),(i=Ln.get(h))&&Fd(e,i),d=a.createElement("script"),Ee(d),Ge(d,"link",e),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(h,d))}}function G_(e,i,a,l){var h=(h=Ct.current)?Rc(h):null;if(!h)throw Error(s(446));switch(e){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(i=Ua(a.href),a=ui(h).hoistableStyles,l=a.get(i),l||(l={type:"style",instance:null,count:0,state:null},a.set(i,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){e=Ua(a.href);var d=ui(h).hoistableStyles,_=d.get(e);if(_||(h=h.ownerDocument||h,_={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(e,_),(d=h.querySelector(_l(e)))&&!d._p&&(_.instance=d,_.state.loading=5),Ln.has(e)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},Ln.set(e,a),d||r1(h,e,a,_.state))),i&&l===null)throw Error(s(528,""));return _}if(i&&l!==null)throw Error(s(529,""));return null;case"script":return i=a.async,a=a.src,typeof a=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=ka(a),a=ui(h).hoistableScripts,l=a.get(i),l||(l={type:"script",instance:null,count:0,state:null},a.set(i,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,e))}}function Ua(e){return'href="'+rn(e)+'"'}function _l(e){return'link[rel="stylesheet"]['+e+"]"}function K_(e){return S({},e,{"data-precedence":e.precedence,precedence:null})}function r1(e,i,a,l){e.querySelector('link[rel="preload"][as="style"]['+i+"]")?l.loading=1:(i=e.createElement("link"),l.preload=i,i.addEventListener("load",function(){return l.loading|=1}),i.addEventListener("error",function(){return l.loading|=2}),Ge(i,"link",a),Ee(i),e.head.appendChild(i))}function ka(e){return'[src="'+rn(e)+'"]'}function vl(e){return"script[async]"+e}function Q_(e,i,a){if(i.count++,i.instance===null)switch(i.type){case"style":var l=e.querySelector('style[data-href~="'+rn(a.href)+'"]');if(l)return i.instance=l,Ee(l),l;var h=S({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(e.ownerDocument||e).createElement("style"),Ee(l),Ge(l,"style",h),Cc(l,a.precedence,e),i.instance=l;case"stylesheet":h=Ua(a.href);var d=e.querySelector(_l(h));if(d)return i.state.loading|=4,i.instance=d,Ee(d),d;l=K_(a),(h=Ln.get(h))&&Hd(l,h),d=(e.ownerDocument||e).createElement("link"),Ee(d);var _=d;return _._p=new Promise(function(T,D){_.onload=T,_.onerror=D}),Ge(d,"link",l),i.state.loading|=4,Cc(d,a.precedence,e),i.instance=d;case"script":return d=ka(a.src),(h=e.querySelector(vl(d)))?(i.instance=h,Ee(h),h):(l=a,(h=Ln.get(d))&&(l=S({},a),Fd(l,h)),e=e.ownerDocument||e,h=e.createElement("script"),Ee(h),Ge(h,"link",l),e.head.appendChild(h),i.instance=h);case"void":return null;default:throw Error(s(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(l=i.instance,i.state.loading|=4,Cc(l,a.precedence,e));return i.instance}function Cc(e,i,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=l.length?l[l.length-1]:null,d=h,_=0;_<l.length;_++){var T=l[_];if(T.dataset.precedence===i)d=T;else if(d!==h)break}d?d.parentNode.insertBefore(e,d.nextSibling):(i=a.nodeType===9?a.head:a,i.insertBefore(e,i.firstChild))}function Hd(e,i){e.crossOrigin==null&&(e.crossOrigin=i.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=i.referrerPolicy),e.title==null&&(e.title=i.title)}function Fd(e,i){e.crossOrigin==null&&(e.crossOrigin=i.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=i.referrerPolicy),e.integrity==null&&(e.integrity=i.integrity)}var Ic=null;function Y_(e,i,a){if(Ic===null){var l=new Map,h=Ic=new Map;h.set(a,l)}else h=Ic,l=h.get(a),l||(l=new Map,h.set(a,l));if(l.has(e))return l;for(l.set(e,null),a=a.getElementsByTagName(e),h=0;h<a.length;h++){var d=a[h];if(!(d[oi]||d[ve]||e==="link"&&d.getAttribute("rel")==="stylesheet")&&d.namespaceURI!=="http://www.w3.org/2000/svg"){var _=d.getAttribute(i)||"";_=e+_;var T=l.get(_);T?T.push(d):l.set(_,[d])}}return l}function X_(e,i,a){e=e.ownerDocument||e,e.head.insertBefore(a,i==="title"?e.querySelector("head > title"):null)}function s1(e,i,a){if(a===1||i.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;switch(i.rel){case"stylesheet":return e=i.disabled,typeof i.precedence=="string"&&e==null;default:return!0}case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function $_(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function a1(e,i,a,l){if(a.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var h=Ua(l.href),d=i.querySelector(_l(h));if(d){i=d._p,i!==null&&typeof i=="object"&&typeof i.then=="function"&&(e.count++,e=Dc.bind(e),i.then(e,e)),a.state.loading|=4,a.instance=d,Ee(d);return}d=i.ownerDocument||i,l=K_(l),(h=Ln.get(h))&&Hd(l,h),d=d.createElement("link"),Ee(d);var _=d;_._p=new Promise(function(T,D){_.onload=T,_.onerror=D}),Ge(d,"link",l),a.instance=d}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(a,i),(i=a.state.preload)&&(a.state.loading&3)===0&&(e.count++,a=Dc.bind(e),i.addEventListener("load",a),i.addEventListener("error",a))}}var Gd=0;function o1(e,i){return e.stylesheets&&e.count===0&&Oc(e,e.stylesheets),0<e.count||0<e.imgCount?function(a){var l=setTimeout(function(){if(e.stylesheets&&Oc(e,e.stylesheets),e.unsuspend){var d=e.unsuspend;e.unsuspend=null,d()}},6e4+i);0<e.imgBytes&&Gd===0&&(Gd=62500*jA());var h=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&Oc(e,e.stylesheets),e.unsuspend)){var d=e.unsuspend;e.unsuspend=null,d()}},(e.imgBytes>Gd?50:800)+i);return e.unsuspend=a,function(){e.unsuspend=null,clearTimeout(l),clearTimeout(h)}}:null}function Dc(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Oc(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var Nc=null;function Oc(e,i){e.stylesheets=null,e.unsuspend!==null&&(e.count++,Nc=new Map,i.forEach(l1,e),Nc=null,Dc.call(e))}function l1(e,i){if(!(i.state.loading&4)){var a=Nc.get(e);if(a)var l=a.get(null);else{a=new Map,Nc.set(e,a);for(var h=e.querySelectorAll("link[data-precedence],style[data-precedence]"),d=0;d<h.length;d++){var _=h[d];(_.nodeName==="LINK"||_.getAttribute("media")!=="not all")&&(a.set(_.dataset.precedence,_),l=_)}l&&a.set(null,l)}h=i.instance,_=h.getAttribute("data-precedence"),d=a.get(_)||l,d===l&&a.set(null,h),a.set(_,h),this.count++,l=Dc.bind(this),h.addEventListener("load",l),h.addEventListener("error",l),d?d.parentNode.insertBefore(h,d.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(h,e.firstChild)),i.state.loading|=4}}var El={$$typeof:it,Provider:null,Consumer:null,_currentValue:gt,_currentValue2:gt,_threadCount:0};function u1(e,i,a,l,h,d,_,T,D){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=si(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=si(0),this.hiddenUpdates=si(null),this.identifierPrefix=l,this.onUncaughtError=h,this.onCaughtError=d,this.onRecoverableError=_,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=D,this.incompleteTransitions=new Map}function J_(e,i,a,l,h,d,_,T,D,z,K,X){return e=new u1(e,i,a,_,D,z,K,X,T),i=1,d===!0&&(i|=24),d=gn(3,null,null,i),e.current=d,d.stateNode=e,i=bf(),i.refCount++,e.pooledCache=i,i.refCount++,d.memoizedState={element:l,isDehydrated:a,cache:i},If(d),e}function Z_(e){return e?(e=pa,e):pa}function W_(e,i,a,l,h,d){h=Z_(h),l.context===null?l.context=h:l.pendingContext=h,l=Ar(i),l.payload={element:a},d=d===void 0?null:d,d!==null&&(l.callback=d),a=br(e,l,i),a!==null&&(cn(a,e,i),Zo(a,e,i))}function tv(e,i){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var a=e.retryLane;e.retryLane=a!==0&&a<i?a:i}}function Kd(e,i){tv(e,i),(e=e.alternate)&&tv(e,i)}function ev(e){if(e.tag===13||e.tag===31){var i=Cs(e,67108864);i!==null&&cn(i,e,67108864),Kd(e,67108864)}}function nv(e){if(e.tag===13||e.tag===31){var i=Tn();i=ps(i);var a=Cs(e,i);a!==null&&cn(a,e,i),Kd(e,i)}}var Mc=!0;function c1(e,i,a,l){var h=Q.T;Q.T=null;var d=rt.p;try{rt.p=2,Qd(e,i,a,l)}finally{rt.p=d,Q.T=h}}function h1(e,i,a,l){var h=Q.T;Q.T=null;var d=rt.p;try{rt.p=8,Qd(e,i,a,l)}finally{rt.p=d,Q.T=h}}function Qd(e,i,a,l){if(Mc){var h=Yd(l);if(h===null)Vd(e,i,l,Vc,a),rv(e,l);else if(d1(h,e,i,a,l))l.stopPropagation();else if(rv(e,l),i&4&&-1<f1.indexOf(e)){for(;h!==null;){var d=bn(h);if(d!==null)switch(d.tag){case 3:if(d=d.stateNode,d.current.memoizedState.isDehydrated){var _=ii(d.pendingLanes);if(_!==0){var T=d;for(T.pendingLanes|=2,T.entangledLanes|=2;_;){var D=1<<31-fe(_);T.entanglements[1]|=D,_&=~D}Si(d),(Ht&6)===0&&(pc=tn()+500,ml(0))}}break;case 31:case 13:T=Cs(d,2),T!==null&&cn(T,d,2),yc(),Kd(d,2)}if(d=Yd(l),d===null&&Vd(e,i,l,Vc,a),d===h)break;h=d}h!==null&&l.stopPropagation()}else Vd(e,i,l,null,a)}}function Yd(e){return e=wn(e),Xd(e)}var Vc=null;function Xd(e){if(Vc=null,e=li(e),e!==null){var i=u(e);if(i===null)e=null;else{var a=i.tag;if(a===13){if(e=f(i),e!==null)return e;e=null}else if(a===31){if(e=m(i),e!==null)return e;e=null}else if(a===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;e=null}else i!==e&&(e=null)}}return Vc=e,null}function iv(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(hs()){case Ao:return 2;case bo:return 8;case lr:case tf:return 32;case hu:return 268435456;default:return 32}default:return 32}}var $d=!1,Lr=null,Pr=null,Ur=null,Tl=new Map,Sl=new Map,kr=[],f1="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function rv(e,i){switch(e){case"focusin":case"focusout":Lr=null;break;case"dragenter":case"dragleave":Pr=null;break;case"mouseover":case"mouseout":Ur=null;break;case"pointerover":case"pointerout":Tl.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":Sl.delete(i.pointerId)}}function Al(e,i,a,l,h,d){return e===null||e.nativeEvent!==d?(e={blockedOn:i,domEventName:a,eventSystemFlags:l,nativeEvent:d,targetContainers:[h]},i!==null&&(i=bn(i),i!==null&&ev(i)),e):(e.eventSystemFlags|=l,i=e.targetContainers,h!==null&&i.indexOf(h)===-1&&i.push(h),e)}function d1(e,i,a,l,h){switch(i){case"focusin":return Lr=Al(Lr,e,i,a,l,h),!0;case"dragenter":return Pr=Al(Pr,e,i,a,l,h),!0;case"mouseover":return Ur=Al(Ur,e,i,a,l,h),!0;case"pointerover":var d=h.pointerId;return Tl.set(d,Al(Tl.get(d)||null,e,i,a,l,h)),!0;case"gotpointercapture":return d=h.pointerId,Sl.set(d,Al(Sl.get(d)||null,e,i,a,l,h)),!0}return!1}function sv(e){var i=li(e.target);if(i!==null){var a=u(i);if(a!==null){if(i=a.tag,i===13){if(i=f(a),i!==null){e.blockedOn=i,jn(e.priority,function(){nv(a)});return}}else if(i===31){if(i=m(a),i!==null){e.blockedOn=i,jn(e.priority,function(){nv(a)});return}}else if(i===3&&a.stateNode.current.memoizedState.isDehydrated){e.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}e.blockedOn=null}function xc(e){if(e.blockedOn!==null)return!1;for(var i=e.targetContainers;0<i.length;){var a=Yd(e.nativeEvent);if(a===null){a=e.nativeEvent;var l=new a.constructor(a.type,a);Po=l,a.target.dispatchEvent(l),Po=null}else return i=bn(a),i!==null&&ev(i),e.blockedOn=a,!1;i.shift()}return!0}function av(e,i,a){xc(e)&&a.delete(i)}function m1(){$d=!1,Lr!==null&&xc(Lr)&&(Lr=null),Pr!==null&&xc(Pr)&&(Pr=null),Ur!==null&&xc(Ur)&&(Ur=null),Tl.forEach(av),Sl.forEach(av)}function Lc(e,i){e.blockedOn===i&&(e.blockedOn=null,$d||($d=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,m1)))}var Pc=null;function ov(e){Pc!==e&&(Pc=e,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){Pc===e&&(Pc=null);for(var i=0;i<e.length;i+=3){var a=e[i],l=e[i+1],h=e[i+2];if(typeof l!="function"){if(Xd(l||a)===null)continue;break}var d=bn(a);d!==null&&(e.splice(i,3),i-=3,Yf(d,{pending:!0,data:h,method:a.method,action:l},l,h))}}))}function za(e){function i(D){return Lc(D,e)}Lr!==null&&Lc(Lr,e),Pr!==null&&Lc(Pr,e),Ur!==null&&Lc(Ur,e),Tl.forEach(i),Sl.forEach(i);for(var a=0;a<kr.length;a++){var l=kr[a];l.blockedOn===e&&(l.blockedOn=null)}for(;0<kr.length&&(a=kr[0],a.blockedOn===null);)sv(a),a.blockedOn===null&&kr.shift();if(a=(e.ownerDocument||e).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var h=a[l],d=a[l+1],_=h[Le]||null;if(typeof d=="function")_||ov(a);else if(_){var T=null;if(d&&d.hasAttribute("formAction")){if(h=d,_=d[Le]||null)T=_.formAction;else if(Xd(h)!==null)continue}else T=_.action;typeof T=="function"?a[l+1]=T:(a.splice(l,3),l-=3),ov(a)}}}function lv(){function e(d){d.canIntercept&&d.info==="react-transition"&&d.intercept({handler:function(){return new Promise(function(_){return h=_})},focusReset:"manual",scroll:"manual"})}function i(){h!==null&&(h(),h=null),l||setTimeout(a,20)}function a(){if(!l&&!navigation.transition){var d=navigation.currentEntry;d&&d.url!=null&&navigation.navigate(d.url,{state:d.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var l=!1,h=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",i),navigation.addEventListener("navigateerror",i),setTimeout(a,100),function(){l=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",i),navigation.removeEventListener("navigateerror",i),h!==null&&(h(),h=null)}}}function Jd(e){this._internalRoot=e}Uc.prototype.render=Jd.prototype.render=function(e){var i=this._internalRoot;if(i===null)throw Error(s(409));var a=i.current,l=Tn();W_(a,l,e,i,null,null)},Uc.prototype.unmount=Jd.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var i=e.containerInfo;W_(e.current,2,null,e,null,null),yc(),i[ai]=null}};function Uc(e){this._internalRoot=e}Uc.prototype.unstable_scheduleHydration=function(e){if(e){var i=yu();e={blockedOn:null,target:e,priority:i};for(var a=0;a<kr.length&&i!==0&&i<kr[a].priority;a++);kr.splice(a,0,e),a===0&&sv(e)}};var uv=t.version;if(uv!=="19.2.0")throw Error(s(527,uv,"19.2.0"));rt.findDOMNode=function(e){var i=e._reactInternals;if(i===void 0)throw typeof e.render=="function"?Error(s(188)):(e=Object.keys(e).join(","),Error(s(268,e)));return e=y(i),e=e!==null?E(e):null,e=e===null?null:e.stateNode,e};var p1={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:Q,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var kc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!kc.isDisabled&&kc.supportsFiber)try{zn=kc.inject(p1),Be=kc}catch{}}return wl.createRoot=function(e,i){if(!o(e))throw Error(s(299));var a=!1,l="",h=gy,d=yy,_=_y;return i!=null&&(i.unstable_strictMode===!0&&(a=!0),i.identifierPrefix!==void 0&&(l=i.identifierPrefix),i.onUncaughtError!==void 0&&(h=i.onUncaughtError),i.onCaughtError!==void 0&&(d=i.onCaughtError),i.onRecoverableError!==void 0&&(_=i.onRecoverableError)),i=J_(e,1,!1,null,null,a,l,null,h,d,_,lv),e[ai]=i.current,Md(e),new Jd(i)},wl.hydrateRoot=function(e,i,a){if(!o(e))throw Error(s(299));var l=!1,h="",d=gy,_=yy,T=_y,D=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(h=a.identifierPrefix),a.onUncaughtError!==void 0&&(d=a.onUncaughtError),a.onCaughtError!==void 0&&(_=a.onCaughtError),a.onRecoverableError!==void 0&&(T=a.onRecoverableError),a.formState!==void 0&&(D=a.formState)),i=J_(e,1,!0,i,a??null,l,h,D,d,_,T,lv),i.context=Z_(null),a=i.current,l=Tn(),l=ps(l),h=Ar(l),h.callback=null,br(a,h,l),a=l,i.current.lanes=a,ds(i,a),Si(i),e[ai]=i.current,Md(e),new Uc(i)},wl.version="19.2.0",wl}var vv;function w1(){if(vv)return tm.exports;vv=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(t){console.error(t)}}return r(),tm.exports=b1(),tm.exports}var R1=w1();var Ev="popstate";function C1(r={}){function t(s,o){let{pathname:u,search:f,hash:m}=s.location;return _m("",{pathname:u,search:f,hash:m},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function n(s,o){return typeof o=="string"?o:kl(o)}return D1(t,n,null,r)}function le(r,t){if(r===!1||r===null||typeof r>"u")throw new Error(t)}function Un(r,t){if(!r){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function I1(){return Math.random().toString(36).substring(2,10)}function Tv(r,t){return{usr:r.state,key:r.key,idx:t}}function _m(r,t,n=null,s){return{pathname:typeof r=="string"?r:r.pathname,search:"",hash:"",...typeof t=="string"?oo(t):t,state:n,key:t&&t.key||s||I1()}}function kl({pathname:r="/",search:t="",hash:n=""}){return t&&t!=="?"&&(r+=t.charAt(0)==="?"?t:"?"+t),n&&n!=="#"&&(r+=n.charAt(0)==="#"?n:"#"+n),r}function oo(r){let t={};if(r){let n=r.indexOf("#");n>=0&&(t.hash=r.substring(n),r=r.substring(0,n));let s=r.indexOf("?");s>=0&&(t.search=r.substring(s),r=r.substring(0,s)),r&&(t.pathname=r)}return t}function D1(r,t,n,s={}){let{window:o=document.defaultView,v5Compat:u=!1}=s,f=o.history,m="POP",g=null,y=E();y==null&&(y=0,f.replaceState({...f.state,idx:y},""));function E(){return(f.state||{idx:null}).idx}function S(){m="POP";let q=E(),tt=q==null?null:q-y;y=q,g&&g({action:m,location:J.location,delta:tt})}function w(q,tt){m="PUSH";let et=_m(J.location,q,tt);y=E()+1;let it=Tv(et,y),_t=J.createHref(et);try{f.pushState(it,"",_t)}catch(ut){if(ut instanceof DOMException&&ut.name==="DataCloneError")throw ut;o.location.assign(_t)}u&&g&&g({action:m,location:J.location,delta:1})}function U(q,tt){m="REPLACE";let et=_m(J.location,q,tt);y=E();let it=Tv(et,y),_t=J.createHref(et);f.replaceState(it,"",_t),u&&g&&g({action:m,location:J.location,delta:0})}function G(q){return N1(q)}let J={get action(){return m},get location(){return r(o,f)},listen(q){if(g)throw new Error("A history only accepts one active listener");return o.addEventListener(Ev,S),g=q,()=>{o.removeEventListener(Ev,S),g=null}},createHref(q){return t(o,q)},createURL:G,encodeLocation(q){let tt=G(q);return{pathname:tt.pathname,search:tt.search,hash:tt.hash}},push:w,replace:U,go(q){return f.go(q)}};return J}function N1(r,t=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),le(n,"No window.location.(origin|href) available to create URL");let s=typeof r=="string"?r:kl(r);return s=s.replace(/ $/,"%20"),!t&&s.startsWith("//")&&(s=n+s),new URL(s,n)}function rT(r,t,n="/"){return O1(r,t,n,!1)}function O1(r,t,n,s){let o=typeof t=="string"?oo(t):t,u=er(o.pathname||"/",n);if(u==null)return null;let f=sT(r);M1(f);let m=null;for(let g=0;m==null&&g<f.length;++g){let y=H1(u);m=j1(f[g],y,s)}return m}function sT(r,t=[],n=[],s="",o=!1){let u=(f,m,g=o,y)=>{let E={relativePath:y===void 0?f.path||"":y,caseSensitive:f.caseSensitive===!0,childrenIndex:m,route:f};if(E.relativePath.startsWith("/")){if(!E.relativePath.startsWith(s)&&g)return;le(E.relativePath.startsWith(s),`Absolute route path "${E.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),E.relativePath=E.relativePath.slice(s.length)}let S=tr([s,E.relativePath]),w=n.concat(E);f.children&&f.children.length>0&&(le(f.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${S}".`),sT(f.children,t,w,S,g)),!(f.path==null&&!f.index)&&t.push({path:S,score:z1(S,f.index),routesMeta:w})};return r.forEach((f,m)=>{if(f.path===""||!f.path?.includes("?"))u(f,m);else for(let g of aT(f.path))u(f,m,!0,g)}),t}function aT(r){let t=r.split("/");if(t.length===0)return[];let[n,...s]=t,o=n.endsWith("?"),u=n.replace(/\?$/,"");if(s.length===0)return o?[u,""]:[u];let f=aT(s.join("/")),m=[];return m.push(...f.map(g=>g===""?u:[u,g].join("/"))),o&&m.push(...f),m.map(g=>r.startsWith("/")&&g===""?"/":g)}function M1(r){r.sort((t,n)=>t.score!==n.score?n.score-t.score:B1(t.routesMeta.map(s=>s.childrenIndex),n.routesMeta.map(s=>s.childrenIndex)))}var V1=/^:[\w-]+$/,x1=3,L1=2,P1=1,U1=10,k1=-2,Sv=r=>r==="*";function z1(r,t){let n=r.split("/"),s=n.length;return n.some(Sv)&&(s+=k1),t&&(s+=L1),n.filter(o=>!Sv(o)).reduce((o,u)=>o+(V1.test(u)?x1:u===""?P1:U1),s)}function B1(r,t){return r.length===t.length&&r.slice(0,-1).every((s,o)=>s===t[o])?r[r.length-1]-t[t.length-1]:0}function j1(r,t,n=!1){let{routesMeta:s}=r,o={},u="/",f=[];for(let m=0;m<s.length;++m){let g=s[m],y=m===s.length-1,E=u==="/"?t:t.slice(u.length)||"/",S=ah({path:g.relativePath,caseSensitive:g.caseSensitive,end:y},E),w=g.route;if(!S&&y&&n&&!s[s.length-1].route.index&&(S=ah({path:g.relativePath,caseSensitive:g.caseSensitive,end:!1},E)),!S)return null;Object.assign(o,S.params),f.push({params:o,pathname:tr([u,S.pathname]),pathnameBase:Y1(tr([u,S.pathnameBase])),route:w}),S.pathnameBase!=="/"&&(u=tr([u,S.pathnameBase]))}return f}function ah(r,t){typeof r=="string"&&(r={path:r,caseSensitive:!1,end:!0});let[n,s]=q1(r.path,r.caseSensitive,r.end),o=t.match(n);if(!o)return null;let u=o[0],f=u.replace(/(.)\/+$/,"$1"),m=o.slice(1);return{params:s.reduce((y,{paramName:E,isOptional:S},w)=>{if(E==="*"){let G=m[w]||"";f=u.slice(0,u.length-G.length).replace(/(.)\/+$/,"$1")}const U=m[w];return S&&!U?y[E]=void 0:y[E]=(U||"").replace(/%2F/g,"/"),y},{}),pathname:u,pathnameBase:f,pattern:r}}function q1(r,t=!1,n=!0){Un(r==="*"||!r.endsWith("*")||r.endsWith("/*"),`Route path "${r}" will be treated as if it were "${r.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${r.replace(/\*$/,"/*")}".`);let s=[],o="^"+r.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(f,m,g)=>(s.push({paramName:m,isOptional:g!=null}),g?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return r.endsWith("*")?(s.push({paramName:"*"}),o+=r==="*"||r==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?o+="\\/*$":r!==""&&r!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,t?void 0:"i"),s]}function H1(r){try{return r.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return Un(!1,`The URL path "${r}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),r}}function er(r,t){if(t==="/")return r;if(!r.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,s=r.charAt(n);return s&&s!=="/"?null:r.slice(n)||"/"}var F1=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,G1=r=>F1.test(r);function K1(r,t="/"){let{pathname:n,search:s="",hash:o=""}=typeof r=="string"?oo(r):r,u;if(n)if(G1(n))u=n;else{if(n.includes("//")){let f=n;n=n.replace(/\/\/+/g,"/"),Un(!1,`Pathnames cannot have embedded double slashes - normalizing ${f} -> ${n}`)}n.startsWith("/")?u=Av(n.substring(1),"/"):u=Av(n,t)}else u=t;return{pathname:u,search:X1(s),hash:$1(o)}}function Av(r,t){let n=t.replace(/\/+$/,"").split("/");return r.split("/").forEach(o=>{o===".."?n.length>1&&n.pop():o!=="."&&n.push(o)}),n.length>1?n.join("/"):"/"}function rm(r,t,n,s){return`Cannot include a '${r}' character in a manually specified \`to.${t}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function Q1(r){return r.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function Qm(r){let t=Q1(r);return t.map((n,s)=>s===t.length-1?n.pathname:n.pathnameBase)}function Ym(r,t,n,s=!1){let o;typeof r=="string"?o=oo(r):(o={...r},le(!o.pathname||!o.pathname.includes("?"),rm("?","pathname","search",o)),le(!o.pathname||!o.pathname.includes("#"),rm("#","pathname","hash",o)),le(!o.search||!o.search.includes("#"),rm("#","search","hash",o)));let u=r===""||o.pathname==="",f=u?"/":o.pathname,m;if(f==null)m=n;else{let S=t.length-1;if(!s&&f.startsWith("..")){let w=f.split("/");for(;w[0]==="..";)w.shift(),S-=1;o.pathname=w.join("/")}m=S>=0?t[S]:"/"}let g=K1(o,m),y=f&&f!=="/"&&f.endsWith("/"),E=(u||f===".")&&n.endsWith("/");return!g.pathname.endsWith("/")&&(y||E)&&(g.pathname+="/"),g}var tr=r=>r.join("/").replace(/\/\/+/g,"/"),Y1=r=>r.replace(/\/+$/,"").replace(/^\/*/,"/"),X1=r=>!r||r==="?"?"":r.startsWith("?")?r:"?"+r,$1=r=>!r||r==="#"?"":r.startsWith("#")?r:"#"+r;function J1(r){return r!=null&&typeof r.status=="number"&&typeof r.statusText=="string"&&typeof r.internal=="boolean"&&"data"in r}function Z1(r){return r.map(t=>t.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var oT=["POST","PUT","PATCH","DELETE"];new Set(oT);var W1=["GET",...oT];new Set(W1);var lo=F.createContext(null);lo.displayName="DataRouter";var Ch=F.createContext(null);Ch.displayName="DataRouterState";F.createContext(!1);var lT=F.createContext({isTransitioning:!1});lT.displayName="ViewTransition";var tb=F.createContext(new Map);tb.displayName="Fetchers";var eb=F.createContext(null);eb.displayName="Await";var kn=F.createContext(null);kn.displayName="Navigation";var Xl=F.createContext(null);Xl.displayName="Location";var Mi=F.createContext({outlet:null,matches:[],isDataRoute:!1});Mi.displayName="Route";var Xm=F.createContext(null);Xm.displayName="RouteError";function nb(r,{relative:t}={}){le(uo(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:s}=F.useContext(kn),{hash:o,pathname:u,search:f}=$l(r,{relative:t}),m=u;return n!=="/"&&(m=u==="/"?n:tr([n,u])),s.createHref({pathname:m,search:f,hash:o})}function uo(){return F.useContext(Xl)!=null}function ss(){return le(uo(),"useLocation() may be used only in the context of a <Router> component."),F.useContext(Xl).location}var uT="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function cT(r){F.useContext(kn).static||F.useLayoutEffect(r)}function hT(){let{isDataRoute:r}=F.useContext(Mi);return r?pb():ib()}function ib(){le(uo(),"useNavigate() may be used only in the context of a <Router> component.");let r=F.useContext(lo),{basename:t,navigator:n}=F.useContext(kn),{matches:s}=F.useContext(Mi),{pathname:o}=ss(),u=JSON.stringify(Qm(s)),f=F.useRef(!1);return cT(()=>{f.current=!0}),F.useCallback((g,y={})=>{if(Un(f.current,uT),!f.current)return;if(typeof g=="number"){n.go(g);return}let E=Ym(g,JSON.parse(u),o,y.relative==="path");r==null&&t!=="/"&&(E.pathname=E.pathname==="/"?t:tr([t,E.pathname])),(y.replace?n.replace:n.push)(E,y.state,y)},[t,n,u,o,r])}F.createContext(null);function $l(r,{relative:t}={}){let{matches:n}=F.useContext(Mi),{pathname:s}=ss(),o=JSON.stringify(Qm(n));return F.useMemo(()=>Ym(r,JSON.parse(o),s,t==="path"),[r,o,s,t])}function rb(r,t){return fT(r,t)}function fT(r,t,n,s,o){le(uo(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:u}=F.useContext(kn),{matches:f}=F.useContext(Mi),m=f[f.length-1],g=m?m.params:{},y=m?m.pathname:"/",E=m?m.pathnameBase:"/",S=m&&m.route;{let et=S&&S.path||"";dT(y,!S||et.endsWith("*")||et.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${y}" (under <Route path="${et}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${et}"> to <Route path="${et==="/"?"*":`${et}/*`}">.`)}let w=ss(),U;if(t){let et=typeof t=="string"?oo(t):t;le(E==="/"||et.pathname?.startsWith(E),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${E}" but pathname "${et.pathname}" was given in the \`location\` prop.`),U=et}else U=w;let G=U.pathname||"/",J=G;if(E!=="/"){let et=E.replace(/^\//,"").split("/");J="/"+G.replace(/^\//,"").split("/").slice(et.length).join("/")}let q=rT(r,{pathname:J});Un(S||q!=null,`No routes matched location "${U.pathname}${U.search}${U.hash}" `),Un(q==null||q[q.length-1].route.element!==void 0||q[q.length-1].route.Component!==void 0||q[q.length-1].route.lazy!==void 0,`Matched leaf route at location "${U.pathname}${U.search}${U.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let tt=ub(q&&q.map(et=>Object.assign({},et,{params:Object.assign({},g,et.params),pathname:tr([E,u.encodeLocation?u.encodeLocation(et.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:et.pathname]),pathnameBase:et.pathnameBase==="/"?E:tr([E,u.encodeLocation?u.encodeLocation(et.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:et.pathnameBase])})),f,n,s,o);return t&&tt?F.createElement(Xl.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...U},navigationType:"POP"}},tt):tt}function sb(){let r=mb(),t=J1(r)?`${r.status} ${r.statusText}`:r instanceof Error?r.message:JSON.stringify(r),n=r instanceof Error?r.stack:null,s="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:s},u={padding:"2px 4px",backgroundColor:s},f=null;return console.error("Error handled by React Router default ErrorBoundary:",r),f=F.createElement(F.Fragment,null,F.createElement("p",null," Hey developer "),F.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",F.createElement("code",{style:u},"ErrorBoundary")," or"," ",F.createElement("code",{style:u},"errorElement")," prop on your route.")),F.createElement(F.Fragment,null,F.createElement("h2",null,"Unexpected Application Error!"),F.createElement("h3",{style:{fontStyle:"italic"}},t),n?F.createElement("pre",{style:o},n):null,f)}var ab=F.createElement(sb,null),ob=class extends F.Component{constructor(r){super(r),this.state={location:r.location,revalidation:r.revalidation,error:r.error}}static getDerivedStateFromError(r){return{error:r}}static getDerivedStateFromProps(r,t){return t.location!==r.location||t.revalidation!=="idle"&&r.revalidation==="idle"?{error:r.error,location:r.location,revalidation:r.revalidation}:{error:r.error!==void 0?r.error:t.error,location:t.location,revalidation:r.revalidation||t.revalidation}}componentDidCatch(r,t){this.props.onError?this.props.onError(r,t):console.error("React Router caught the following error during render",r)}render(){return this.state.error!==void 0?F.createElement(Mi.Provider,{value:this.props.routeContext},F.createElement(Xm.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function lb({routeContext:r,match:t,children:n}){let s=F.useContext(lo);return s&&s.static&&s.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=t.route.id),F.createElement(Mi.Provider,{value:r},n)}function ub(r,t=[],n=null,s=null,o=null){if(r==null){if(!n)return null;if(n.errors)r=n.matches;else if(t.length===0&&!n.initialized&&n.matches.length>0)r=n.matches;else return null}let u=r,f=n?.errors;if(f!=null){let E=u.findIndex(S=>S.route.id&&f?.[S.route.id]!==void 0);le(E>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(f).join(",")}`),u=u.slice(0,Math.min(u.length,E+1))}let m=!1,g=-1;if(n)for(let E=0;E<u.length;E++){let S=u[E];if((S.route.HydrateFallback||S.route.hydrateFallbackElement)&&(g=E),S.route.id){let{loaderData:w,errors:U}=n,G=S.route.loader&&!w.hasOwnProperty(S.route.id)&&(!U||U[S.route.id]===void 0);if(S.route.lazy||G){m=!0,g>=0?u=u.slice(0,g+1):u=[u[0]];break}}}let y=n&&s?(E,S)=>{s(E,{location:n.location,params:n.matches?.[0]?.params??{},unstable_pattern:Z1(n.matches),errorInfo:S})}:void 0;return u.reduceRight((E,S,w)=>{let U,G=!1,J=null,q=null;n&&(U=f&&S.route.id?f[S.route.id]:void 0,J=S.route.errorElement||ab,m&&(g<0&&w===0?(dT("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),G=!0,q=null):g===w&&(G=!0,q=S.route.hydrateFallbackElement||null)));let tt=t.concat(u.slice(0,w+1)),et=()=>{let it;return U?it=J:G?it=q:S.route.Component?it=F.createElement(S.route.Component,null):S.route.element?it=S.route.element:it=E,F.createElement(lb,{match:S,routeContext:{outlet:E,matches:tt,isDataRoute:n!=null},children:it})};return n&&(S.route.ErrorBoundary||S.route.errorElement||w===0)?F.createElement(ob,{location:n.location,revalidation:n.revalidation,component:J,error:U,children:et(),routeContext:{outlet:null,matches:tt,isDataRoute:!0},onError:y}):et()},null)}function $m(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function cb(r){let t=F.useContext(lo);return le(t,$m(r)),t}function hb(r){let t=F.useContext(Ch);return le(t,$m(r)),t}function fb(r){let t=F.useContext(Mi);return le(t,$m(r)),t}function Jm(r){let t=fb(r),n=t.matches[t.matches.length-1];return le(n.route.id,`${r} can only be used on routes that contain a unique "id"`),n.route.id}function db(){return Jm("useRouteId")}function mb(){let r=F.useContext(Xm),t=hb("useRouteError"),n=Jm("useRouteError");return r!==void 0?r:t.errors?.[n]}function pb(){let{router:r}=cb("useNavigate"),t=Jm("useNavigate"),n=F.useRef(!1);return cT(()=>{n.current=!0}),F.useCallback(async(o,u={})=>{Un(n.current,uT),n.current&&(typeof o=="number"?await r.navigate(o):await r.navigate(o,{fromRouteId:t,...u}))},[r,t])}var bv={};function dT(r,t,n){!t&&!bv[r]&&(bv[r]=!0,Un(!1,n))}F.memo(gb);function gb({routes:r,future:t,state:n,unstable_onError:s}){return fT(r,void 0,n,s,t)}function yb({to:r,replace:t,state:n,relative:s}){le(uo(),"<Navigate> may be used only in the context of a <Router> component.");let{static:o}=F.useContext(kn);Un(!o,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:u}=F.useContext(Mi),{pathname:f}=ss(),m=hT(),g=Ym(r,Qm(u),f,s==="path"),y=JSON.stringify(g);return F.useEffect(()=>{m(JSON.parse(y),{replace:t,state:n,relative:s})},[m,y,s,t,n]),null}function Qc(r){le(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function _b({basename:r="/",children:t=null,location:n,navigationType:s="POP",navigator:o,static:u=!1,unstable_useTransitions:f}){le(!uo(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let m=r.replace(/^\/*/,"/"),g=F.useMemo(()=>({basename:m,navigator:o,static:u,unstable_useTransitions:f,future:{}}),[m,o,u,f]);typeof n=="string"&&(n=oo(n));let{pathname:y="/",search:E="",hash:S="",state:w=null,key:U="default"}=n,G=F.useMemo(()=>{let J=er(y,m);return J==null?null:{location:{pathname:J,search:E,hash:S,state:w,key:U},navigationType:s}},[m,y,E,S,w,U,s]);return Un(G!=null,`<Router basename="${m}"> is not able to match the URL "${y}${E}${S}" because it does not start with the basename, so the <Router> won't render anything.`),G==null?null:F.createElement(kn.Provider,{value:g},F.createElement(Xl.Provider,{children:t,value:G}))}function vb({children:r,location:t}){return rb(vm(r),t)}function vm(r,t=[]){let n=[];return F.Children.forEach(r,(s,o)=>{if(!F.isValidElement(s))return;let u=[...t,o];if(s.type===F.Fragment){n.push.apply(n,vm(s.props.children,u));return}le(s.type===Qc,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),le(!s.props.index||!s.props.children,"An index route cannot have child routes.");let f={id:s.props.id||u.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,middleware:s.props.middleware,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(f.children=vm(s.props.children,u)),n.push(f)}),n}var Yc="get",Xc="application/x-www-form-urlencoded";function Ih(r){return typeof HTMLElement<"u"&&r instanceof HTMLElement}function Eb(r){return Ih(r)&&r.tagName.toLowerCase()==="button"}function Tb(r){return Ih(r)&&r.tagName.toLowerCase()==="form"}function Sb(r){return Ih(r)&&r.tagName.toLowerCase()==="input"}function Ab(r){return!!(r.metaKey||r.altKey||r.ctrlKey||r.shiftKey)}function bb(r,t){return r.button===0&&(!t||t==="_self")&&!Ab(r)}var zc=null;function wb(){if(zc===null)try{new FormData(document.createElement("form"),0),zc=!1}catch{zc=!0}return zc}var Rb=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function sm(r){return r!=null&&!Rb.has(r)?(Un(!1,`"${r}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Xc}"`),null):r}function Cb(r,t){let n,s,o,u,f;if(Tb(r)){let m=r.getAttribute("action");s=m?er(m,t):null,n=r.getAttribute("method")||Yc,o=sm(r.getAttribute("enctype"))||Xc,u=new FormData(r)}else if(Eb(r)||Sb(r)&&(r.type==="submit"||r.type==="image")){let m=r.form;if(m==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let g=r.getAttribute("formaction")||m.getAttribute("action");if(s=g?er(g,t):null,n=r.getAttribute("formmethod")||m.getAttribute("method")||Yc,o=sm(r.getAttribute("formenctype"))||sm(m.getAttribute("enctype"))||Xc,u=new FormData(m,r),!wb()){let{name:y,type:E,value:S}=r;if(E==="image"){let w=y?`${y}.`:"";u.append(`${w}x`,"0"),u.append(`${w}y`,"0")}else y&&u.append(y,S)}}else{if(Ih(r))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Yc,s=null,o=Xc,f=r}return u&&o==="text/plain"&&(f=u,u=void 0),{action:s,method:n.toLowerCase(),encType:o,formData:u,body:f}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Zm(r,t){if(r===!1||r===null||typeof r>"u")throw new Error(t)}function Ib(r,t,n){let s=typeof r=="string"?new URL(r,typeof window>"u"?"server://singlefetch/":window.location.origin):r;return s.pathname==="/"?s.pathname=`_root.${n}`:t&&er(s.pathname,t)==="/"?s.pathname=`${t.replace(/\/$/,"")}/_root.${n}`:s.pathname=`${s.pathname.replace(/\/$/,"")}.${n}`,s}async function Db(r,t){if(r.id in t)return t[r.id];try{let n=await import(r.module);return t[r.id]=n,n}catch(n){return console.error(`Error loading route module \`${r.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function Nb(r){return r==null?!1:r.href==null?r.rel==="preload"&&typeof r.imageSrcSet=="string"&&typeof r.imageSizes=="string":typeof r.rel=="string"&&typeof r.href=="string"}async function Ob(r,t,n){let s=await Promise.all(r.map(async o=>{let u=t.routes[o.route.id];if(u){let f=await Db(u,n);return f.links?f.links():[]}return[]}));return Lb(s.flat(1).filter(Nb).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function wv(r,t,n,s,o,u){let f=(g,y)=>n[y]?g.route.id!==n[y].route.id:!0,m=(g,y)=>n[y].pathname!==g.pathname||n[y].route.path?.endsWith("*")&&n[y].params["*"]!==g.params["*"];return u==="assets"?t.filter((g,y)=>f(g,y)||m(g,y)):u==="data"?t.filter((g,y)=>{let E=s.routes[g.route.id];if(!E||!E.hasLoader)return!1;if(f(g,y)||m(g,y))return!0;if(g.route.shouldRevalidate){let S=g.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(r,window.origin),nextParams:g.params,defaultShouldRevalidate:!0});if(typeof S=="boolean")return S}return!0}):[]}function Mb(r,t,{includeHydrateFallback:n}={}){return Vb(r.map(s=>{let o=t.routes[s.route.id];if(!o)return[];let u=[o.module];return o.clientActionModule&&(u=u.concat(o.clientActionModule)),o.clientLoaderModule&&(u=u.concat(o.clientLoaderModule)),n&&o.hydrateFallbackModule&&(u=u.concat(o.hydrateFallbackModule)),o.imports&&(u=u.concat(o.imports)),u}).flat(1))}function Vb(r){return[...new Set(r)]}function xb(r){let t={},n=Object.keys(r).sort();for(let s of n)t[s]=r[s];return t}function Lb(r,t){let n=new Set;return new Set(t),r.reduce((s,o)=>{let u=JSON.stringify(xb(o));return n.has(u)||(n.add(u),s.push({key:u,link:o})),s},[])}function mT(){let r=F.useContext(lo);return Zm(r,"You must render this element inside a <DataRouterContext.Provider> element"),r}function Pb(){let r=F.useContext(Ch);return Zm(r,"You must render this element inside a <DataRouterStateContext.Provider> element"),r}var Wm=F.createContext(void 0);Wm.displayName="FrameworkContext";function pT(){let r=F.useContext(Wm);return Zm(r,"You must render this element inside a <HydratedRouter> element"),r}function Ub(r,t){let n=F.useContext(Wm),[s,o]=F.useState(!1),[u,f]=F.useState(!1),{onFocus:m,onBlur:g,onMouseEnter:y,onMouseLeave:E,onTouchStart:S}=t,w=F.useRef(null);F.useEffect(()=>{if(r==="render"&&f(!0),r==="viewport"){let J=tt=>{tt.forEach(et=>{f(et.isIntersecting)})},q=new IntersectionObserver(J,{threshold:.5});return w.current&&q.observe(w.current),()=>{q.disconnect()}}},[r]),F.useEffect(()=>{if(s){let J=setTimeout(()=>{f(!0)},100);return()=>{clearTimeout(J)}}},[s]);let U=()=>{o(!0)},G=()=>{o(!1),f(!1)};return n?r!=="intent"?[u,w,{}]:[u,w,{onFocus:Rl(m,U),onBlur:Rl(g,G),onMouseEnter:Rl(y,U),onMouseLeave:Rl(E,G),onTouchStart:Rl(S,U)}]:[!1,w,{}]}function Rl(r,t){return n=>{r&&r(n),n.defaultPrevented||t(n)}}function kb({page:r,...t}){let{router:n}=mT(),s=F.useMemo(()=>rT(n.routes,r,n.basename),[n.routes,r,n.basename]);return s?F.createElement(Bb,{page:r,matches:s,...t}):null}function zb(r){let{manifest:t,routeModules:n}=pT(),[s,o]=F.useState([]);return F.useEffect(()=>{let u=!1;return Ob(r,t,n).then(f=>{u||o(f)}),()=>{u=!0}},[r,t,n]),s}function Bb({page:r,matches:t,...n}){let s=ss(),{manifest:o,routeModules:u}=pT(),{basename:f}=mT(),{loaderData:m,matches:g}=Pb(),y=F.useMemo(()=>wv(r,t,g,o,s,"data"),[r,t,g,o,s]),E=F.useMemo(()=>wv(r,t,g,o,s,"assets"),[r,t,g,o,s]),S=F.useMemo(()=>{if(r===s.pathname+s.search+s.hash)return[];let G=new Set,J=!1;if(t.forEach(tt=>{let et=o.routes[tt.route.id];!et||!et.hasLoader||(!y.some(it=>it.route.id===tt.route.id)&&tt.route.id in m&&u[tt.route.id]?.shouldRevalidate||et.hasClientLoader?J=!0:G.add(tt.route.id))}),G.size===0)return[];let q=Ib(r,f,"data");return J&&G.size>0&&q.searchParams.set("_routes",t.filter(tt=>G.has(tt.route.id)).map(tt=>tt.route.id).join(",")),[q.pathname+q.search]},[f,m,s,o,y,t,r,u]),w=F.useMemo(()=>Mb(E,o),[E,o]),U=zb(E);return F.createElement(F.Fragment,null,S.map(G=>F.createElement("link",{key:G,rel:"prefetch",as:"fetch",href:G,...n})),w.map(G=>F.createElement("link",{key:G,rel:"modulepreload",href:G,...n})),U.map(({key:G,link:J})=>F.createElement("link",{key:G,nonce:n.nonce,...J})))}function jb(...r){return t=>{r.forEach(n=>{typeof n=="function"?n(t):n!=null&&(n.current=t)})}}var gT=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{gT&&(window.__reactRouterVersion="7.10.1")}catch{}function qb({basename:r,children:t,unstable_useTransitions:n,window:s}){let o=F.useRef();o.current==null&&(o.current=C1({window:s,v5Compat:!0}));let u=o.current,[f,m]=F.useState({action:u.action,location:u.location}),g=F.useCallback(y=>{n===!1?m(y):F.startTransition(()=>m(y))},[n]);return F.useLayoutEffect(()=>u.listen(g),[u,g]),F.createElement(_b,{basename:r,children:t,location:f.location,navigationType:f.action,navigator:u,unstable_useTransitions:n===!0})}var yT=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,oh=F.forwardRef(function({onClick:t,discover:n="render",prefetch:s="none",relative:o,reloadDocument:u,replace:f,state:m,target:g,to:y,preventScrollReset:E,viewTransition:S,...w},U){let{basename:G,unstable_useTransitions:J}=F.useContext(kn),q=typeof y=="string"&&yT.test(y),tt,et=!1;if(typeof y=="string"&&q&&(tt=y,gT))try{let V=new URL(window.location.href),N=y.startsWith("//")?new URL(V.protocol+y):new URL(y),L=er(N.pathname,G);N.origin===V.origin&&L!=null?y=L+N.search+N.hash:et=!0}catch{Un(!1,`<Link to="${y}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let it=nb(y,{relative:o}),[_t,ut,dt]=Ub(s,w),C=Kb(y,{replace:f,state:m,target:g,preventScrollReset:E,relative:o,viewTransition:S,unstable_useTransitions:J});function b(V){t&&t(V),V.defaultPrevented||C(V)}let R=F.createElement("a",{...w,...dt,href:tt||it,onClick:et||u?t:b,ref:jb(U,ut),target:g,"data-discover":!q&&n==="render"?"true":void 0});return _t&&!q?F.createElement(F.Fragment,null,R,F.createElement(kb,{page:it})):R});oh.displayName="Link";var Hb=F.forwardRef(function({"aria-current":t="page",caseSensitive:n=!1,className:s="",end:o=!1,style:u,to:f,viewTransition:m,children:g,...y},E){let S=$l(f,{relative:y.relative}),w=ss(),U=F.useContext(Ch),{navigator:G,basename:J}=F.useContext(kn),q=U!=null&&Jb(S)&&m===!0,tt=G.encodeLocation?G.encodeLocation(S).pathname:S.pathname,et=w.pathname,it=U&&U.navigation&&U.navigation.location?U.navigation.location.pathname:null;n||(et=et.toLowerCase(),it=it?it.toLowerCase():null,tt=tt.toLowerCase()),it&&J&&(it=er(it,J)||it);const _t=tt!=="/"&&tt.endsWith("/")?tt.length-1:tt.length;let ut=et===tt||!o&&et.startsWith(tt)&&et.charAt(_t)==="/",dt=it!=null&&(it===tt||!o&&it.startsWith(tt)&&it.charAt(tt.length)==="/"),C={isActive:ut,isPending:dt,isTransitioning:q},b=ut?t:void 0,R;typeof s=="function"?R=s(C):R=[s,ut?"active":null,dt?"pending":null,q?"transitioning":null].filter(Boolean).join(" ");let V=typeof u=="function"?u(C):u;return F.createElement(oh,{...y,"aria-current":b,className:R,ref:E,style:V,to:f,viewTransition:m},typeof g=="function"?g(C):g)});Hb.displayName="NavLink";var Fb=F.forwardRef(({discover:r="render",fetcherKey:t,navigate:n,reloadDocument:s,replace:o,state:u,method:f=Yc,action:m,onSubmit:g,relative:y,preventScrollReset:E,viewTransition:S,...w},U)=>{let{unstable_useTransitions:G}=F.useContext(kn),J=Xb(),q=$b(m,{relative:y}),tt=f.toLowerCase()==="get"?"get":"post",et=typeof m=="string"&&yT.test(m),it=_t=>{if(g&&g(_t),_t.defaultPrevented)return;_t.preventDefault();let ut=_t.nativeEvent.submitter,dt=ut?.getAttribute("formmethod")||f,C=()=>J(ut||_t.currentTarget,{fetcherKey:t,method:dt,navigate:n,replace:o,state:u,relative:y,preventScrollReset:E,viewTransition:S});G&&n!==!1?F.startTransition(()=>C()):C()};return F.createElement("form",{ref:U,method:tt,action:q,onSubmit:s?g:it,...w,"data-discover":!et&&r==="render"?"true":void 0})});Fb.displayName="Form";function Gb(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function _T(r){let t=F.useContext(lo);return le(t,Gb(r)),t}function Kb(r,{target:t,replace:n,state:s,preventScrollReset:o,relative:u,viewTransition:f,unstable_useTransitions:m}={}){let g=hT(),y=ss(),E=$l(r,{relative:u});return F.useCallback(S=>{if(bb(S,t)){S.preventDefault();let w=n!==void 0?n:kl(y)===kl(E),U=()=>g(r,{replace:w,state:s,preventScrollReset:o,relative:u,viewTransition:f});m?F.startTransition(()=>U()):U()}},[y,g,E,n,s,t,r,o,u,f,m])}var Qb=0,Yb=()=>`__${String(++Qb)}__`;function Xb(){let{router:r}=_T("useSubmit"),{basename:t}=F.useContext(kn),n=db(),s=r.fetch,o=r.navigate;return F.useCallback(async(u,f={})=>{let{action:m,method:g,encType:y,formData:E,body:S}=Cb(u,t);if(f.navigate===!1){let w=f.fetcherKey||Yb();await s(w,n,f.action||m,{preventScrollReset:f.preventScrollReset,formData:E,body:S,formMethod:f.method||g,formEncType:f.encType||y,flushSync:f.flushSync})}else await o(f.action||m,{preventScrollReset:f.preventScrollReset,formData:E,body:S,formMethod:f.method||g,formEncType:f.encType||y,replace:f.replace,state:f.state,fromRouteId:n,flushSync:f.flushSync,viewTransition:f.viewTransition})},[s,o,t,n])}function $b(r,{relative:t}={}){let{basename:n}=F.useContext(kn),s=F.useContext(Mi);le(s,"useFormAction must be used inside a RouteContext");let[o]=s.matches.slice(-1),u={...$l(r||".",{relative:t})},f=ss();if(r==null){u.search=f.search;let m=new URLSearchParams(u.search),g=m.getAll("index");if(g.some(E=>E==="")){m.delete("index"),g.filter(S=>S).forEach(S=>m.append("index",S));let E=m.toString();u.search=E?`?${E}`:""}}return(!r||r===".")&&o.route.index&&(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(u.pathname=u.pathname==="/"?n:tr([n,u.pathname])),kl(u)}function Jb(r,{relative:t}={}){let n=F.useContext(lT);le(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=_T("useViewTransitionState"),o=$l(r,{relative:t});if(!n.isTransitioning)return!1;let u=er(n.currentLocation.pathname,s)||n.currentLocation.pathname,f=er(n.nextLocation.pathname,s)||n.nextLocation.pathname;return ah(o.pathname,f)!=null||ah(o.pathname,u)!=null}const Zb=()=>{};var Rv={};const vT=function(r){const t=[];let n=0;for(let s=0;s<r.length;s++){let o=r.charCodeAt(s);o<128?t[n++]=o:o<2048?(t[n++]=o>>6|192,t[n++]=o&63|128):(o&64512)===55296&&s+1<r.length&&(r.charCodeAt(s+1)&64512)===56320?(o=65536+((o&1023)<<10)+(r.charCodeAt(++s)&1023),t[n++]=o>>18|240,t[n++]=o>>12&63|128,t[n++]=o>>6&63|128,t[n++]=o&63|128):(t[n++]=o>>12|224,t[n++]=o>>6&63|128,t[n++]=o&63|128)}return t},Wb=function(r){const t=[];let n=0,s=0;for(;n<r.length;){const o=r[n++];if(o<128)t[s++]=String.fromCharCode(o);else if(o>191&&o<224){const u=r[n++];t[s++]=String.fromCharCode((o&31)<<6|u&63)}else if(o>239&&o<365){const u=r[n++],f=r[n++],m=r[n++],g=((o&7)<<18|(u&63)<<12|(f&63)<<6|m&63)-65536;t[s++]=String.fromCharCode(55296+(g>>10)),t[s++]=String.fromCharCode(56320+(g&1023))}else{const u=r[n++],f=r[n++];t[s++]=String.fromCharCode((o&15)<<12|(u&63)<<6|f&63)}}return t.join("")},ET={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,t){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let o=0;o<r.length;o+=3){const u=r[o],f=o+1<r.length,m=f?r[o+1]:0,g=o+2<r.length,y=g?r[o+2]:0,E=u>>2,S=(u&3)<<4|m>>4;let w=(m&15)<<2|y>>6,U=y&63;g||(U=64,f||(w=64)),s.push(n[E],n[S],n[w],n[U])}return s.join("")},encodeString(r,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(r):this.encodeByteArray(vT(r),t)},decodeString(r,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(r):Wb(this.decodeStringToByteArray(r,t))},decodeStringToByteArray(r,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let o=0;o<r.length;){const u=n[r.charAt(o++)],m=o<r.length?n[r.charAt(o)]:0;++o;const y=o<r.length?n[r.charAt(o)]:64;++o;const S=o<r.length?n[r.charAt(o)]:64;if(++o,u==null||m==null||y==null||S==null)throw new tw;const w=u<<2|m>>4;if(s.push(w),y!==64){const U=m<<4&240|y>>2;if(s.push(U),S!==64){const G=y<<6&192|S;s.push(G)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class tw extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const ew=function(r){const t=vT(r);return ET.encodeByteArray(t,!0)},lh=function(r){return ew(r).replace(/\./g,"")},TT=function(r){try{return ET.decodeString(r,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function nw(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const iw=()=>nw().__FIREBASE_DEFAULTS__,rw=()=>{if(typeof process>"u"||typeof Rv>"u")return;const r=Rv.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},sw=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=r&&TT(r[1]);return t&&JSON.parse(t)},Dh=()=>{try{return Zb()||iw()||rw()||sw()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},ST=r=>Dh()?.emulatorHosts?.[r],aw=r=>{const t=ST(r);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const s=parseInt(t.substring(n+1),10);return t[0]==="["?[t.substring(1,n-1),s]:[t.substring(0,n),s]},AT=()=>Dh()?.config,bT=r=>Dh()?.[`_${r}`];class ow{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}wrapCallback(t){return(n,s)=>{n?this.reject(n):this.resolve(s),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(n):t(n,s))}}}function co(r){try{return(r.startsWith("http://")||r.startsWith("https://")?new URL(r).hostname:r).endsWith(".cloudworkstations.dev")}catch{return!1}}async function wT(r){return(await fetch(r,{credentials:"include"})).ok}function lw(r,t){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},s=t||"demo-project",o=r.iat||0,u=r.sub||r.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const f={iss:`https://securetoken.google.com/${s}`,aud:s,iat:o,exp:o+3600,auth_time:o,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}},...r};return[lh(JSON.stringify(n)),lh(JSON.stringify(f)),""].join(".")}const Ml={};function uw(){const r={prod:[],emulator:[]};for(const t of Object.keys(Ml))Ml[t]?r.emulator.push(t):r.prod.push(t);return r}function cw(r){let t=document.getElementById(r),n=!1;return t||(t=document.createElement("div"),t.setAttribute("id",r),n=!0),{created:n,element:t}}let Cv=!1;function RT(r,t){if(typeof window>"u"||typeof document>"u"||!co(window.location.host)||Ml[r]===t||Ml[r]||Cv)return;Ml[r]=t;function n(w){return`__firebase__banner__${w}`}const s="__firebase__banner",u=uw().prod.length>0;function f(){const w=document.getElementById(s);w&&w.remove()}function m(w){w.style.display="flex",w.style.background="#7faaf0",w.style.position="fixed",w.style.bottom="5px",w.style.left="5px",w.style.padding=".5em",w.style.borderRadius="5px",w.style.alignItems="center"}function g(w,U){w.setAttribute("width","24"),w.setAttribute("id",U),w.setAttribute("height","24"),w.setAttribute("viewBox","0 0 24 24"),w.setAttribute("fill","none"),w.style.marginLeft="-6px"}function y(){const w=document.createElement("span");return w.style.cursor="pointer",w.style.marginLeft="16px",w.style.fontSize="24px",w.innerHTML=" &times;",w.onclick=()=>{Cv=!0,f()},w}function E(w,U){w.setAttribute("id",U),w.innerText="Learn more",w.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",w.setAttribute("target","__blank"),w.style.paddingLeft="5px",w.style.textDecoration="underline"}function S(){const w=cw(s),U=n("text"),G=document.getElementById(U)||document.createElement("span"),J=n("learnmore"),q=document.getElementById(J)||document.createElement("a"),tt=n("preprendIcon"),et=document.getElementById(tt)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(w.created){const it=w.element;m(it),E(q,J);const _t=y();g(et,tt),it.append(et,G,q,_t),document.body.appendChild(it)}u?(G.innerText="Preview backend disconnected.",et.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(et.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,G.innerText="Preview backend running in this workspace."),G.setAttribute("id",U)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",S):S()}function We(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function hw(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(We())}function fw(){const r=Dh()?.forceEnvironment;if(r==="node")return!0;if(r==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function dw(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function mw(){const r=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof r=="object"&&r.id!==void 0}function pw(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function gw(){const r=We();return r.indexOf("MSIE ")>=0||r.indexOf("Trident/")>=0}function yw(){return!fw()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function _w(){try{return typeof indexedDB=="object"}catch{return!1}}function vw(){return new Promise((r,t)=>{try{let n=!0;const s="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(s);o.onsuccess=()=>{o.result.close(),n||self.indexedDB.deleteDatabase(s),r(!0)},o.onupgradeneeded=()=>{n=!1},o.onerror=()=>{t(o.error?.message||"")}}catch(n){t(n)}})}const Ew="FirebaseError";class ar extends Error{constructor(t,n,s){super(n),this.code=t,this.customData=s,this.name=Ew,Object.setPrototypeOf(this,ar.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Jl.prototype.create)}}class Jl{constructor(t,n,s){this.service=t,this.serviceName=n,this.errors=s}create(t,...n){const s=n[0]||{},o=`${this.service}/${t}`,u=this.errors[t],f=u?Tw(u,s):"Error",m=`${this.serviceName}: ${f} (${o}).`;return new ar(o,m,s)}}function Tw(r,t){return r.replace(Sw,(n,s)=>{const o=t[s];return o!=null?String(o):`<${s}?>`})}const Sw=/\{\$([^}]+)}/g;function Aw(r){for(const t in r)if(Object.prototype.hasOwnProperty.call(r,t))return!1;return!0}function qs(r,t){if(r===t)return!0;const n=Object.keys(r),s=Object.keys(t);for(const o of n){if(!s.includes(o))return!1;const u=r[o],f=t[o];if(Iv(u)&&Iv(f)){if(!qs(u,f))return!1}else if(u!==f)return!1}for(const o of s)if(!n.includes(o))return!1;return!0}function Iv(r){return r!==null&&typeof r=="object"}function Zl(r){const t=[];for(const[n,s]of Object.entries(r))Array.isArray(s)?s.forEach(o=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(o))}):t.push(encodeURIComponent(n)+"="+encodeURIComponent(s));return t.length?"&"+t.join("&"):""}function Cl(r){const t={};return r.replace(/^\?/,"").split("&").forEach(s=>{if(s){const[o,u]=s.split("=");t[decodeURIComponent(o)]=decodeURIComponent(u)}}),t}function Il(r){const t=r.indexOf("?");if(!t)return"";const n=r.indexOf("#",t);return r.substring(t,n>0?n:void 0)}function bw(r,t){const n=new ww(r,t);return n.subscribe.bind(n)}class ww{constructor(t,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{t(this)}).catch(s=>{this.error(s)})}next(t){this.forEachObserver(n=>{n.next(t)})}error(t){this.forEachObserver(n=>{n.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,n,s){let o;if(t===void 0&&n===void 0&&s===void 0)throw new Error("Missing Observer.");Rw(t,["next","error","complete"])?o=t:o={next:t,error:n,complete:s},o.next===void 0&&(o.next=am),o.error===void 0&&(o.error=am),o.complete===void 0&&(o.complete=am);const u=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),u}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,t)}sendOne(t,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{n(this.observers[t])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Rw(r,t){if(typeof r!="object"||r===null)return!1;for(const n of t)if(n in r&&typeof r[n]=="function")return!0;return!1}function am(){}function ze(r){return r&&r._delegate?r._delegate:r}class Hs{constructor(t,n,s){this.name=t,this.instanceFactory=n,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}const Bs="[DEFAULT]";class Cw{constructor(t,n){this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const n=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(n)){const s=new ow;if(this.instancesDeferred.set(n,s),this.isInitialized(n)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:n});o&&s.resolve(o)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(t){const n=this.normalizeInstanceIdentifier(t?.identifier),s=t?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(o){if(s)return null;throw o}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(Dw(t))try{this.getOrInitializeService({instanceIdentifier:Bs})}catch{}for(const[n,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(n);try{const u=this.getOrInitializeService({instanceIdentifier:o});s.resolve(u)}catch{}}}}clearInstance(t=Bs){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...t.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=Bs){return this.instances.has(t)}getOptions(t=Bs){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:n={}}=t,s=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:s,options:n});for(const[u,f]of this.instancesDeferred.entries()){const m=this.normalizeInstanceIdentifier(u);s===m&&f.resolve(o)}return o}onInit(t,n){const s=this.normalizeInstanceIdentifier(n),o=this.onInitCallbacks.get(s)??new Set;o.add(t),this.onInitCallbacks.set(s,o);const u=this.instances.get(s);return u&&t(u,s),()=>{o.delete(t)}}invokeOnInitCallbacks(t,n){const s=this.onInitCallbacks.get(n);if(s)for(const o of s)try{o(t,n)}catch{}}getOrInitializeService({instanceIdentifier:t,options:n={}}){let s=this.instances.get(t);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:Iw(t),options:n}),this.instances.set(t,s),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(s,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,s)}catch{}return s||null}normalizeInstanceIdentifier(t=Bs){return this.component?this.component.multipleInstances?t:Bs:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function Iw(r){return r===Bs?void 0:r}function Dw(r){return r.instantiationMode==="EAGER"}class Nw{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const n=this.getProvider(t.name);if(n.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);n.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const n=new Cw(t,this);return this.providers.set(t,n),n}getProviders(){return Array.from(this.providers.values())}}var Vt;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(Vt||(Vt={}));const Ow={debug:Vt.DEBUG,verbose:Vt.VERBOSE,info:Vt.INFO,warn:Vt.WARN,error:Vt.ERROR,silent:Vt.SILENT},Mw=Vt.INFO,Vw={[Vt.DEBUG]:"log",[Vt.VERBOSE]:"log",[Vt.INFO]:"info",[Vt.WARN]:"warn",[Vt.ERROR]:"error"},xw=(r,t,...n)=>{if(t<r.logLevel)return;const s=new Date().toISOString(),o=Vw[t];if(o)console[o](`[${s}]  ${r.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class tp{constructor(t){this.name=t,this._logLevel=Mw,this._logHandler=xw,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in Vt))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?Ow[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,Vt.DEBUG,...t),this._logHandler(this,Vt.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,Vt.VERBOSE,...t),this._logHandler(this,Vt.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,Vt.INFO,...t),this._logHandler(this,Vt.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,Vt.WARN,...t),this._logHandler(this,Vt.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,Vt.ERROR,...t),this._logHandler(this,Vt.ERROR,...t)}}const Lw=(r,t)=>t.some(n=>r instanceof n);let Dv,Nv;function Pw(){return Dv||(Dv=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function Uw(){return Nv||(Nv=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const CT=new WeakMap,Em=new WeakMap,IT=new WeakMap,om=new WeakMap,ep=new WeakMap;function kw(r){const t=new Promise((n,s)=>{const o=()=>{r.removeEventListener("success",u),r.removeEventListener("error",f)},u=()=>{n(Kr(r.result)),o()},f=()=>{s(r.error),o()};r.addEventListener("success",u),r.addEventListener("error",f)});return t.then(n=>{n instanceof IDBCursor&&CT.set(n,r)}).catch(()=>{}),ep.set(t,r),t}function zw(r){if(Em.has(r))return;const t=new Promise((n,s)=>{const o=()=>{r.removeEventListener("complete",u),r.removeEventListener("error",f),r.removeEventListener("abort",f)},u=()=>{n(),o()},f=()=>{s(r.error||new DOMException("AbortError","AbortError")),o()};r.addEventListener("complete",u),r.addEventListener("error",f),r.addEventListener("abort",f)});Em.set(r,t)}let Tm={get(r,t,n){if(r instanceof IDBTransaction){if(t==="done")return Em.get(r);if(t==="objectStoreNames")return r.objectStoreNames||IT.get(r);if(t==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Kr(r[t])},set(r,t,n){return r[t]=n,!0},has(r,t){return r instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in r}};function Bw(r){Tm=r(Tm)}function jw(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...n){const s=r.call(lm(this),t,...n);return IT.set(s,t.sort?t.sort():[t]),Kr(s)}:Uw().includes(r)?function(...t){return r.apply(lm(this),t),Kr(CT.get(this))}:function(...t){return Kr(r.apply(lm(this),t))}}function qw(r){return typeof r=="function"?jw(r):(r instanceof IDBTransaction&&zw(r),Lw(r,Pw())?new Proxy(r,Tm):r)}function Kr(r){if(r instanceof IDBRequest)return kw(r);if(om.has(r))return om.get(r);const t=qw(r);return t!==r&&(om.set(r,t),ep.set(t,r)),t}const lm=r=>ep.get(r);function Hw(r,t,{blocked:n,upgrade:s,blocking:o,terminated:u}={}){const f=indexedDB.open(r,t),m=Kr(f);return s&&f.addEventListener("upgradeneeded",g=>{s(Kr(f.result),g.oldVersion,g.newVersion,Kr(f.transaction),g)}),n&&f.addEventListener("blocked",g=>n(g.oldVersion,g.newVersion,g)),m.then(g=>{u&&g.addEventListener("close",()=>u()),o&&g.addEventListener("versionchange",y=>o(y.oldVersion,y.newVersion,y))}).catch(()=>{}),m}const Fw=["get","getKey","getAll","getAllKeys","count"],Gw=["put","add","delete","clear"],um=new Map;function Ov(r,t){if(!(r instanceof IDBDatabase&&!(t in r)&&typeof t=="string"))return;if(um.get(t))return um.get(t);const n=t.replace(/FromIndex$/,""),s=t!==n,o=Gw.includes(n);if(!(n in(s?IDBIndex:IDBObjectStore).prototype)||!(o||Fw.includes(n)))return;const u=async function(f,...m){const g=this.transaction(f,o?"readwrite":"readonly");let y=g.store;return s&&(y=y.index(m.shift())),(await Promise.all([y[n](...m),o&&g.done]))[0]};return um.set(t,u),u}Bw(r=>({...r,get:(t,n,s)=>Ov(t,n)||r.get(t,n,s),has:(t,n)=>!!Ov(t,n)||r.has(t,n)}));class Kw{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(Qw(n)){const s=n.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(n=>n).join(" ")}}function Qw(r){return r.getComponent()?.type==="VERSION"}const Sm="@firebase/app",Mv="0.14.6";const nr=new tp("@firebase/app"),Yw="@firebase/app-compat",Xw="@firebase/analytics-compat",$w="@firebase/analytics",Jw="@firebase/app-check-compat",Zw="@firebase/app-check",Ww="@firebase/auth",tR="@firebase/auth-compat",eR="@firebase/database",nR="@firebase/data-connect",iR="@firebase/database-compat",rR="@firebase/functions",sR="@firebase/functions-compat",aR="@firebase/installations",oR="@firebase/installations-compat",lR="@firebase/messaging",uR="@firebase/messaging-compat",cR="@firebase/performance",hR="@firebase/performance-compat",fR="@firebase/remote-config",dR="@firebase/remote-config-compat",mR="@firebase/storage",pR="@firebase/storage-compat",gR="@firebase/firestore",yR="@firebase/ai",_R="@firebase/firestore-compat",vR="firebase",ER="12.6.0";const Am="[DEFAULT]",TR={[Sm]:"fire-core",[Yw]:"fire-core-compat",[$w]:"fire-analytics",[Xw]:"fire-analytics-compat",[Zw]:"fire-app-check",[Jw]:"fire-app-check-compat",[Ww]:"fire-auth",[tR]:"fire-auth-compat",[eR]:"fire-rtdb",[nR]:"fire-data-connect",[iR]:"fire-rtdb-compat",[rR]:"fire-fn",[sR]:"fire-fn-compat",[aR]:"fire-iid",[oR]:"fire-iid-compat",[lR]:"fire-fcm",[uR]:"fire-fcm-compat",[cR]:"fire-perf",[hR]:"fire-perf-compat",[fR]:"fire-rc",[dR]:"fire-rc-compat",[mR]:"fire-gcs",[pR]:"fire-gcs-compat",[gR]:"fire-fst",[_R]:"fire-fst-compat",[yR]:"fire-vertex","fire-js":"fire-js",[vR]:"fire-js-all"};const zl=new Map,SR=new Map,bm=new Map;function Vv(r,t){try{r.container.addComponent(t)}catch(n){nr.debug(`Component ${t.name} failed to register with FirebaseApp ${r.name}`,n)}}function Ja(r){const t=r.name;if(bm.has(t))return nr.debug(`There were multiple attempts to register component ${t}.`),!1;bm.set(t,r);for(const n of zl.values())Vv(n,r);for(const n of SR.values())Vv(n,r);return!0}function np(r,t){const n=r.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),r.container.getProvider(t)}function Jn(r){return r==null?!1:r.settings!==void 0}const AR={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Qr=new Jl("app","Firebase",AR);class bR{constructor(t,n,s){this._isDeleted=!1,this._options={...t},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new Hs("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw Qr.create("app-deleted",{appName:this._name})}}const ho=ER;function Wl(r,t={}){let n=r;typeof t!="object"&&(t={name:t});const s={name:Am,automaticDataCollectionEnabled:!0,...t},o=s.name;if(typeof o!="string"||!o)throw Qr.create("bad-app-name",{appName:String(o)});if(n||(n=AT()),!n)throw Qr.create("no-options");const u=zl.get(o);if(u){if(qs(n,u.options)&&qs(s,u.config))return u;throw Qr.create("duplicate-app",{appName:o})}const f=new Nw(o);for(const g of bm.values())f.addComponent(g);const m=new bR(n,s,f);return zl.set(o,m),m}function DT(r=Am){const t=zl.get(r);if(!t&&r===Am&&AT())return Wl();if(!t)throw Qr.create("no-app",{appName:r});return t}function Za(){return Array.from(zl.values())}function Yr(r,t,n){let s=TR[r]??r;n&&(s+=`-${n}`);const o=s.match(/\s|\//),u=t.match(/\s|\//);if(o||u){const f=[`Unable to register library "${s}" with version "${t}":`];o&&f.push(`library name "${s}" contains illegal characters (whitespace or "/")`),o&&u&&f.push("and"),u&&f.push(`version name "${t}" contains illegal characters (whitespace or "/")`),nr.warn(f.join(" "));return}Ja(new Hs(`${s}-version`,()=>({library:s,version:t}),"VERSION"))}const wR="firebase-heartbeat-database",RR=1,Bl="firebase-heartbeat-store";let cm=null;function NT(){return cm||(cm=Hw(wR,RR,{upgrade:(r,t)=>{switch(t){case 0:try{r.createObjectStore(Bl)}catch(n){console.warn(n)}}}}).catch(r=>{throw Qr.create("idb-open",{originalErrorMessage:r.message})})),cm}async function CR(r){try{const n=(await NT()).transaction(Bl),s=await n.objectStore(Bl).get(OT(r));return await n.done,s}catch(t){if(t instanceof ar)nr.warn(t.message);else{const n=Qr.create("idb-get",{originalErrorMessage:t?.message});nr.warn(n.message)}}}async function xv(r,t){try{const s=(await NT()).transaction(Bl,"readwrite");await s.objectStore(Bl).put(t,OT(r)),await s.done}catch(n){if(n instanceof ar)nr.warn(n.message);else{const s=Qr.create("idb-set",{originalErrorMessage:n?.message});nr.warn(s.message)}}}function OT(r){return`${r.name}!${r.options.appId}`}const IR=1024,DR=30;class NR{constructor(t){this.container=t,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new MR(n),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=Lv();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:n}),this._heartbeatsCache.heartbeats.length>DR){const o=VR(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(t){nr.warn(t)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=Lv(),{heartbeatsToSend:n,unsentEntries:s}=OR(this._heartbeatsCache.heartbeats),o=lh(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=t,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(t){return nr.warn(t),""}}}function Lv(){return new Date().toISOString().substring(0,10)}function OR(r,t=IR){const n=[];let s=r.slice();for(const o of r){const u=n.find(f=>f.agent===o.agent);if(u){if(u.dates.push(o.date),Pv(n)>t){u.dates.pop();break}}else if(n.push({agent:o.agent,dates:[o.date]}),Pv(n)>t){n.pop();break}s=s.slice(1)}return{heartbeatsToSend:n,unsentEntries:s}}class MR{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return _w()?vw().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await CR(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){if(await this._canUseIndexedDBPromise){const s=await this.read();return xv(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){if(await this._canUseIndexedDBPromise){const s=await this.read();return xv(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...t.heartbeats]})}else return}}function Pv(r){return lh(JSON.stringify({version:2,heartbeats:r})).length}function VR(r){if(r.length===0)return-1;let t=0,n=r[0].date;for(let s=1;s<r.length;s++)r[s].date<n&&(n=r[s].date,t=s);return t}function xR(r){Ja(new Hs("platform-logger",t=>new Kw(t),"PRIVATE")),Ja(new Hs("heartbeat",t=>new NR(t),"PRIVATE")),Yr(Sm,Mv,r),Yr(Sm,Mv,"esm2020"),Yr("fire-js","")}xR("");function MT(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const LR=MT,VT=new Jl("auth","Firebase",MT());const uh=new tp("@firebase/auth");function PR(r,...t){uh.logLevel<=Vt.WARN&&uh.warn(`Auth (${ho}): ${r}`,...t)}function $c(r,...t){uh.logLevel<=Vt.ERROR&&uh.error(`Auth (${ho}): ${r}`,...t)}function Wn(r,...t){throw ip(r,...t)}function bi(r,...t){return ip(r,...t)}function xT(r,t,n){const s={...LR(),[t]:n};return new Jl("auth","Firebase",s).create(t,{appName:r.name})}function Xr(r){return xT(r,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function ip(r,...t){if(typeof r!="string"){const n=t[0],s=[...t.slice(1)];return s[0]&&(s[0].appName=r.name),r._errorFactory.create(n,...s)}return VT.create(r,...t)}function vt(r,t,...n){if(!r)throw ip(t,...n)}function Zi(r){const t="INTERNAL ASSERTION FAILED: "+r;throw $c(t),new Error(t)}function ir(r,t){r||Zi(t)}function wm(){return typeof self<"u"&&self.location?.href||""}function UR(){return Uv()==="http:"||Uv()==="https:"}function Uv(){return typeof self<"u"&&self.location?.protocol||null}function kR(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(UR()||mw()||"connection"in navigator)?navigator.onLine:!0}function zR(){if(typeof navigator>"u")return null;const r=navigator;return r.languages&&r.languages[0]||r.language||null}class tu{constructor(t,n){this.shortDelay=t,this.longDelay=n,ir(n>t,"Short delay should be less than long delay!"),this.isMobile=hw()||pw()}get(){return kR()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function rp(r,t){ir(r.emulator,"Emulator should always be set here");const{url:n}=r.emulator;return t?`${n}${t.startsWith("/")?t.slice(1):t}`:n}class LT{static initialize(t,n,s){this.fetchImpl=t,n&&(this.headersImpl=n),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Zi("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Zi("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Zi("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const BR={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const jR=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],qR=new tu(3e4,6e4);function Qs(r,t){return r.tenantId&&!t.tenantId?{...t,tenantId:r.tenantId}:t}async function as(r,t,n,s,o={}){return PT(r,o,async()=>{let u={},f={};s&&(t==="GET"?f=s:u={body:JSON.stringify(s)});const m=Zl({key:r.config.apiKey,...f}).slice(1),g=await r._getAdditionalHeaders();g["Content-Type"]="application/json",r.languageCode&&(g["X-Firebase-Locale"]=r.languageCode);const y={method:t,headers:g,...u};return dw()||(y.referrerPolicy="no-referrer"),r.emulatorConfig&&co(r.emulatorConfig.host)&&(y.credentials="include"),LT.fetch()(await UT(r,r.config.apiHost,n,m),y)})}async function PT(r,t,n){r._canInitEmulator=!1;const s={...BR,...t};try{const o=new FR(r),u=await Promise.race([n(),o.promise]);o.clearNetworkTimeout();const f=await u.json();if("needConfirmation"in f)throw Bc(r,"account-exists-with-different-credential",f);if(u.ok&&!("errorMessage"in f))return f;{const m=u.ok?f.errorMessage:f.error.message,[g,y]=m.split(" : ");if(g==="FEDERATED_USER_ID_ALREADY_LINKED")throw Bc(r,"credential-already-in-use",f);if(g==="EMAIL_EXISTS")throw Bc(r,"email-already-in-use",f);if(g==="USER_DISABLED")throw Bc(r,"user-disabled",f);const E=s[g]||g.toLowerCase().replace(/[_\s]+/g,"-");if(y)throw xT(r,E,y);Wn(r,E)}}catch(o){if(o instanceof ar)throw o;Wn(r,"network-request-failed",{message:String(o)})}}async function Nh(r,t,n,s,o={}){const u=await as(r,t,n,s,o);return"mfaPendingCredential"in u&&Wn(r,"multi-factor-auth-required",{_serverResponse:u}),u}async function UT(r,t,n,s){const o=`${t}${n}?${s}`,u=r,f=u.config.emulator?rp(r.config,o):`${r.config.apiScheme}://${o}`;return jR.includes(n)&&(await u._persistenceManagerAvailable,u._getPersistenceType()==="COOKIE")?u._getPersistence()._getFinalTarget(f).toString():f}function HR(r){switch(r){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class FR{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((n,s)=>{this.timer=setTimeout(()=>s(bi(this.auth,"network-request-failed")),qR.get())})}}function Bc(r,t,n){const s={appName:r.name};n.email&&(s.email=n.email),n.phoneNumber&&(s.phoneNumber=n.phoneNumber);const o=bi(r,t,s);return o.customData._tokenResponse=n,o}function kv(r){return r!==void 0&&r.enterprise!==void 0}class GR{constructor(t){if(this.siteKey="",this.recaptchaEnforcementState=[],t.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=t.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=t.recaptchaEnforcementState}getProviderEnforcementState(t){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===t)return HR(n.enforcementState);return null}isProviderEnabled(t){return this.getProviderEnforcementState(t)==="ENFORCE"||this.getProviderEnforcementState(t)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function KR(r,t){return as(r,"GET","/v2/recaptchaConfig",Qs(r,t))}async function QR(r,t){return as(r,"POST","/v1/accounts:delete",t)}async function ch(r,t){return as(r,"POST","/v1/accounts:lookup",t)}function Vl(r){if(r)try{const t=new Date(Number(r));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function YR(r,t=!1){const n=ze(r),s=await n.getIdToken(t),o=sp(s);vt(o&&o.exp&&o.auth_time&&o.iat,n.auth,"internal-error");const u=typeof o.firebase=="object"?o.firebase:void 0,f=u?.sign_in_provider;return{claims:o,token:s,authTime:Vl(hm(o.auth_time)),issuedAtTime:Vl(hm(o.iat)),expirationTime:Vl(hm(o.exp)),signInProvider:f||null,signInSecondFactor:u?.sign_in_second_factor||null}}function hm(r){return Number(r)*1e3}function sp(r){const[t,n,s]=r.split(".");if(t===void 0||n===void 0||s===void 0)return $c("JWT malformed, contained fewer than 3 sections"),null;try{const o=TT(n);return o?JSON.parse(o):($c("Failed to decode base64 JWT payload"),null)}catch(o){return $c("Caught error parsing JWT payload as JSON",o?.toString()),null}}function zv(r){const t=sp(r);return vt(t,"internal-error"),vt(typeof t.exp<"u","internal-error"),vt(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}async function jl(r,t,n=!1){if(n)return t;try{return await t}catch(s){throw s instanceof ar&&XR(s)&&r.auth.currentUser===r&&await r.auth.signOut(),s}}function XR({code:r}){return r==="auth/user-disabled"||r==="auth/user-token-expired"}class $R{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){if(t){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const s=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,s)}}schedule(t=!1){if(!this.isRunning)return;const n=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){t?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class Rm{constructor(t,n){this.createdAt=t,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Vl(this.lastLoginAt),this.creationTime=Vl(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function hh(r){const t=r.auth,n=await r.getIdToken(),s=await jl(r,ch(t,{idToken:n}));vt(s?.users.length,t,"internal-error");const o=s.users[0];r._notifyReloadListener(o);const u=o.providerUserInfo?.length?kT(o.providerUserInfo):[],f=ZR(r.providerData,u),m=r.isAnonymous,g=!(r.email&&o.passwordHash)&&!f?.length,y=m?g:!1,E={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:f,metadata:new Rm(o.createdAt,o.lastLoginAt),isAnonymous:y};Object.assign(r,E)}async function JR(r){const t=ze(r);await hh(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function ZR(r,t){return[...r.filter(s=>!t.some(o=>o.providerId===s.providerId)),...t]}function kT(r){return r.map(({providerId:t,...n})=>({providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}async function WR(r,t){const n=await PT(r,{},async()=>{const s=Zl({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:o,apiKey:u}=r.config,f=await UT(r,o,"/v1/token",`key=${u}`),m=await r._getAdditionalHeaders();m["Content-Type"]="application/x-www-form-urlencoded";const g={method:"POST",headers:m,body:s};return r.emulatorConfig&&co(r.emulatorConfig.host)&&(g.credentials="include"),LT.fetch()(f,g)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function tC(r,t){return as(r,"POST","/v2/accounts:revokeToken",Qs(r,t))}class Ga{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){vt(t.idToken,"internal-error"),vt(typeof t.idToken<"u","internal-error"),vt(typeof t.refreshToken<"u","internal-error");const n="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):zv(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,n)}updateFromIdToken(t){vt(t.length!==0,"internal-error");const n=zv(t);this.updateTokensAndExpiration(t,null,n)}async getToken(t,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(vt(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,n){const{accessToken:s,refreshToken:o,expiresIn:u}=await WR(t,n);this.updateTokensAndExpiration(s,o,Number(u))}updateTokensAndExpiration(t,n,s){this.refreshToken=n||null,this.accessToken=t||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(t,n){const{refreshToken:s,accessToken:o,expirationTime:u}=n,f=new Ga;return s&&(vt(typeof s=="string","internal-error",{appName:t}),f.refreshToken=s),o&&(vt(typeof o=="string","internal-error",{appName:t}),f.accessToken=o),u&&(vt(typeof u=="number","internal-error",{appName:t}),f.expirationTime=u),f}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new Ga,this.toJSON())}_performRefresh(){return Zi("not implemented")}}function Br(r,t){vt(typeof r=="string"||typeof r>"u","internal-error",{appName:t})}class Zn{constructor({uid:t,auth:n,stsTokenManager:s,...o}){this.providerId="firebase",this.proactiveRefresh=new $R(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=n,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new Rm(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(t){const n=await jl(this,this.stsTokenManager.getToken(this.auth,t));return vt(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(t){return YR(this,t)}reload(){return JR(this)}_assign(t){this!==t&&(vt(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(n=>({...n})),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const n=new Zn({...this,auth:t,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(t){vt(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,n=!1){let s=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),s=!0),n&&await hh(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Jn(this.auth.app))return Promise.reject(Xr(this.auth));const t=await this.getIdToken();return await jl(this,QR(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>({...t})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,n){const s=n.displayName??void 0,o=n.email??void 0,u=n.phoneNumber??void 0,f=n.photoURL??void 0,m=n.tenantId??void 0,g=n._redirectEventId??void 0,y=n.createdAt??void 0,E=n.lastLoginAt??void 0,{uid:S,emailVerified:w,isAnonymous:U,providerData:G,stsTokenManager:J}=n;vt(S&&J,t,"internal-error");const q=Ga.fromJSON(this.name,J);vt(typeof S=="string",t,"internal-error"),Br(s,t.name),Br(o,t.name),vt(typeof w=="boolean",t,"internal-error"),vt(typeof U=="boolean",t,"internal-error"),Br(u,t.name),Br(f,t.name),Br(m,t.name),Br(g,t.name),Br(y,t.name),Br(E,t.name);const tt=new Zn({uid:S,auth:t,email:o,emailVerified:w,displayName:s,isAnonymous:U,photoURL:f,phoneNumber:u,tenantId:m,stsTokenManager:q,createdAt:y,lastLoginAt:E});return G&&Array.isArray(G)&&(tt.providerData=G.map(et=>({...et}))),g&&(tt._redirectEventId=g),tt}static async _fromIdTokenResponse(t,n,s=!1){const o=new Ga;o.updateFromServerResponse(n);const u=new Zn({uid:n.localId,auth:t,stsTokenManager:o,isAnonymous:s});return await hh(u),u}static async _fromGetAccountInfoResponse(t,n,s){const o=n.users[0];vt(o.localId!==void 0,"internal-error");const u=o.providerUserInfo!==void 0?kT(o.providerUserInfo):[],f=!(o.email&&o.passwordHash)&&!u?.length,m=new Ga;m.updateFromIdToken(s);const g=new Zn({uid:o.localId,auth:t,stsTokenManager:m,isAnonymous:f}),y={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new Rm(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!u?.length};return Object.assign(g,y),g}}const Bv=new Map;function Wi(r){ir(r instanceof Function,"Expected a class definition");let t=Bv.get(r);return t?(ir(t instanceof r,"Instance stored in cache mismatched with class"),t):(t=new r,Bv.set(r,t),t)}class zT{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,n){this.storage[t]=n}async _get(t){const n=this.storage[t];return n===void 0?null:n}async _remove(t){delete this.storage[t]}_addListener(t,n){}_removeListener(t,n){}}zT.type="NONE";const jv=zT;function Jc(r,t,n){return`firebase:${r}:${t}:${n}`}class Ka{constructor(t,n,s){this.persistence=t,this.auth=n,this.userKey=s;const{config:o,name:u}=this.auth;this.fullUserKey=Jc(this.userKey,o.apiKey,u),this.fullPersistenceKey=Jc("persistence",o.apiKey,u),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);if(!t)return null;if(typeof t=="string"){const n=await ch(this.auth,{idToken:t}).catch(()=>{});return n?Zn._fromGetAccountInfoResponse(this.auth,n,t):null}return Zn._fromJSON(this.auth,t)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,n,s="authUser"){if(!n.length)return new Ka(Wi(jv),t,s);const o=(await Promise.all(n.map(async y=>{if(await y._isAvailable())return y}))).filter(y=>y);let u=o[0]||Wi(jv);const f=Jc(s,t.config.apiKey,t.name);let m=null;for(const y of n)try{const E=await y._get(f);if(E){let S;if(typeof E=="string"){const w=await ch(t,{idToken:E}).catch(()=>{});if(!w)break;S=await Zn._fromGetAccountInfoResponse(t,w,E)}else S=Zn._fromJSON(t,E);y!==u&&(m=S),u=y;break}}catch{}const g=o.filter(y=>y._shouldAllowMigration);return!u._shouldAllowMigration||!g.length?new Ka(u,t,s):(u=g[0],m&&await u._set(f,m.toJSON()),await Promise.all(n.map(async y=>{if(y!==u)try{await y._remove(f)}catch{}})),new Ka(u,t,s))}}function qv(r){const t=r.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(HT(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(BT(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(GT(t))return"Blackberry";if(KT(t))return"Webos";if(jT(t))return"Safari";if((t.includes("chrome/")||qT(t))&&!t.includes("edge/"))return"Chrome";if(FT(t))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=r.match(n);if(s?.length===2)return s[1]}return"Other"}function BT(r=We()){return/firefox\//i.test(r)}function jT(r=We()){const t=r.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function qT(r=We()){return/crios\//i.test(r)}function HT(r=We()){return/iemobile/i.test(r)}function FT(r=We()){return/android/i.test(r)}function GT(r=We()){return/blackberry/i.test(r)}function KT(r=We()){return/webos/i.test(r)}function ap(r=We()){return/iphone|ipad|ipod/i.test(r)||/macintosh/i.test(r)&&/mobile/i.test(r)}function eC(r=We()){return ap(r)&&!!window.navigator?.standalone}function nC(){return gw()&&document.documentMode===10}function QT(r=We()){return ap(r)||FT(r)||KT(r)||GT(r)||/windows phone/i.test(r)||HT(r)}function YT(r,t=[]){let n;switch(r){case"Browser":n=qv(We());break;case"Worker":n=`${qv(We())}-${r}`;break;default:n=r}const s=t.length?t.join(","):"FirebaseCore-web";return`${n}/JsCore/${ho}/${s}`}class iC{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,n){const s=u=>new Promise((f,m)=>{try{const g=t(u);f(g)}catch(g){m(g)}});s.onAbort=n,this.queue.push(s);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const n=[];try{for(const s of this.queue)await s(t),s.onAbort&&n.push(s.onAbort)}catch(s){n.reverse();for(const o of n)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s?.message})}}}async function rC(r,t={}){return as(r,"GET","/v2/passwordPolicy",Qs(r,t))}const sC=6;class aC{constructor(t){const n=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??sC,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=t.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=t.forceUpgradeOnSignin??!1,this.schemaVersion=t.schemaVersion}validatePassword(t){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,n),this.validatePasswordCharacterOptions(t,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(t,n){const s=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;s&&(n.meetsMinPasswordLength=t.length>=s),o&&(n.meetsMaxPasswordLength=t.length<=o)}validatePasswordCharacterOptions(t,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let s;for(let o=0;o<t.length;o++)s=t.charAt(o),this.updatePasswordCharacterOptionsStatuses(n,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(t,n,s,o,u){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=u))}}class oC{constructor(t,n,s,o){this.app=t,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=s,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Hv(this),this.idTokenSubscription=new Hv(this),this.beforeStateQueue=new iC(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=VT,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(u=>this._resolvePersistenceManagerAvailable=u)}_initializeWithPersistence(t,n){return n&&(this._popupRedirectResolver=Wi(n)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await Ka.create(this,t),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const n=await ch(this,{idToken:t}),s=await Zn._fromGetAccountInfoResponse(this,n,t);await this.directlySetCurrentUser(s)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){if(Jn(this.app)){const u=this.app.settings.authIdToken;return u?new Promise(f=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(u).then(f,f))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let s=n,o=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const u=this.redirectUser?._redirectEventId,f=s?._redirectEventId,m=await this.tryRedirectSignIn(t);(!u||u===f)&&m?.user&&(s=m.user,o=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(s)}catch(u){s=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(u))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return vt(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(t){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(t){try{await hh(t)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=zR()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(Jn(this.app))return Promise.reject(Xr(this));const n=t?ze(t):null;return n&&vt(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(t,n=!1){if(!this._deleted)return t&&vt(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return Jn(this.app)?Promise.reject(Xr(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return Jn(this.app)?Promise.reject(Xr(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Wi(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await rC(this),n=new aC(t);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(t){this._errorFactory=new Jl("auth","Firebase",t())}onAuthStateChanged(t,n,s){return this.registerStateListener(this.authStateSubscription,t,n,s)}beforeAuthStateChanged(t,n){return this.beforeStateQueue.pushCallback(t,n)}onIdTokenChanged(t,n,s){return this.registerStateListener(this.idTokenSubscription,t,n,s)}authStateReady(){return new Promise((t,n)=>{if(this.currentUser)t();else{const s=this.onAuthStateChanged(()=>{s(),t()},n)}})}async revokeAccessToken(t){if(this.currentUser){const n=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:n};this.tenantId!=null&&(s.tenantId=this.tenantId),await tC(this,s)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(t,n){const s=await this.getOrInitRedirectPersistenceManager(n);return t===null?s.removeCurrentUser():s.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const n=t&&Wi(t)||this._popupRedirectResolver;vt(n,this,"argument-error"),this.redirectPersistenceManager=await Ka.create(this,[Wi(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===t?this._currentUser:this.redirectUser?._redirectEventId===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const t=this.currentUser?.uid??null;this.lastNotifiedUid!==t&&(this.lastNotifiedUid=t,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,n,s,o){if(this._deleted)return()=>{};const u=typeof n=="function"?n:n.next.bind(n);let f=!1;const m=this._isInitialized?Promise.resolve():this._initializationPromise;if(vt(m,this,"internal-error"),m.then(()=>{f||u(this.currentUser)}),typeof n=="function"){const g=t.addObserver(n,s,o);return()=>{f=!0,g()}}else{const g=t.addObserver(n);return()=>{f=!0,g()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return vt(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=YT(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const n=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();n&&(t["X-Firebase-Client"]=n);const s=await this._getAppCheckToken();return s&&(t["X-Firebase-AppCheck"]=s),t}async _getAppCheckToken(){if(Jn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return t?.error&&PR(`Error while retrieving App Check token: ${t.error}`),t?.token}}function fo(r){return ze(r)}class Hv{constructor(t){this.auth=t,this.observer=null,this.addObserver=bw(n=>this.observer=n)}get next(){return vt(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let Oh={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function lC(r){Oh=r}function XT(r){return Oh.loadJS(r)}function uC(){return Oh.recaptchaEnterpriseScript}function cC(){return Oh.gapiScript}function hC(r){return`__${r}${Math.floor(Math.random()*1e6)}`}class fC{constructor(){this.enterprise=new dC}ready(t){t()}execute(t,n){return Promise.resolve("token")}render(t,n){return""}}class dC{ready(t){t()}execute(t,n){return Promise.resolve("token")}render(t,n){return""}}const mC="recaptcha-enterprise",$T="NO_RECAPTCHA";class pC{constructor(t){this.type=mC,this.auth=fo(t)}async verify(t="verify",n=!1){async function s(u){if(!n){if(u.tenantId==null&&u._agentRecaptchaConfig!=null)return u._agentRecaptchaConfig.siteKey;if(u.tenantId!=null&&u._tenantRecaptchaConfigs[u.tenantId]!==void 0)return u._tenantRecaptchaConfigs[u.tenantId].siteKey}return new Promise(async(f,m)=>{KR(u,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(g=>{if(g.recaptchaKey===void 0)m(new Error("recaptcha Enterprise site key undefined"));else{const y=new GR(g);return u.tenantId==null?u._agentRecaptchaConfig=y:u._tenantRecaptchaConfigs[u.tenantId]=y,f(y.siteKey)}}).catch(g=>{m(g)})})}function o(u,f,m){const g=window.grecaptcha;kv(g)?g.enterprise.ready(()=>{g.enterprise.execute(u,{action:t}).then(y=>{f(y)}).catch(()=>{f($T)})}):m(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new fC().execute("siteKey",{action:"verify"}):new Promise((u,f)=>{s(this.auth).then(m=>{if(!n&&kv(window.grecaptcha))o(m,u,f);else{if(typeof window>"u"){f(new Error("RecaptchaVerifier is only supported in browser"));return}let g=uC();g.length!==0&&(g+=m),XT(g).then(()=>{o(m,u,f)}).catch(y=>{f(y)})}}).catch(m=>{f(m)})})}}async function Fv(r,t,n,s=!1,o=!1){const u=new pC(r);let f;if(o)f=$T;else try{f=await u.verify(n)}catch{f=await u.verify(n,!0)}const m={...t};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in m){const g=m.phoneEnrollmentInfo.phoneNumber,y=m.phoneEnrollmentInfo.recaptchaToken;Object.assign(m,{phoneEnrollmentInfo:{phoneNumber:g,recaptchaToken:y,captchaResponse:f,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in m){const g=m.phoneSignInInfo.recaptchaToken;Object.assign(m,{phoneSignInInfo:{recaptchaToken:g,captchaResponse:f,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return m}return s?Object.assign(m,{captchaResp:f}):Object.assign(m,{captchaResponse:f}),Object.assign(m,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(m,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),m}async function Gv(r,t,n,s,o){if(r._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const u=await Fv(r,t,n,n==="getOobCode");return s(r,u)}else return s(r,t).catch(async u=>{if(u.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const f=await Fv(r,t,n,n==="getOobCode");return s(r,f)}else return Promise.reject(u)})}function gC(r,t){const n=np(r,"auth");if(n.isInitialized()){const o=n.getImmediate(),u=n.getOptions();if(qs(u,t??{}))return o;Wn(o,"already-initialized")}return n.initialize({options:t})}function yC(r,t){const n=t?.persistence||[],s=(Array.isArray(n)?n:[n]).map(Wi);t?.errorMap&&r._updateErrorMap(t.errorMap),r._initializeWithPersistence(s,t?.popupRedirectResolver)}function _C(r,t,n){const s=fo(r);vt(/^https?:\/\//.test(t),s,"invalid-emulator-scheme");const o=!1,u=JT(t),{host:f,port:m}=vC(t),g=m===null?"":`:${m}`,y={url:`${u}//${f}${g}/`},E=Object.freeze({host:f,port:m,protocol:u.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!s._canInitEmulator){vt(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),vt(qs(y,s.config.emulator)&&qs(E,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=y,s.emulatorConfig=E,s.settings.appVerificationDisabledForTesting=!0,co(f)?(wT(`${u}//${f}${g}`),RT("Auth",!0)):EC()}function JT(r){const t=r.indexOf(":");return t<0?"":r.substr(0,t+1)}function vC(r){const t=JT(r),n=/(\/\/)?([^?#/]+)/.exec(r.substr(t.length));if(!n)return{host:"",port:null};const s=n[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(s);if(o){const u=o[1];return{host:u,port:Kv(s.substr(u.length+1))}}else{const[u,f]=s.split(":");return{host:u,port:Kv(f)}}}function Kv(r){if(!r)return null;const t=Number(r);return isNaN(t)?null:t}function EC(){function r(){const t=document.createElement("p"),n=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",r):r())}class op{constructor(t,n){this.providerId=t,this.signInMethod=n}toJSON(){return Zi("not implemented")}_getIdTokenResponse(t){return Zi("not implemented")}_linkToIdToken(t,n){return Zi("not implemented")}_getReauthenticationResolver(t){return Zi("not implemented")}}async function TC(r,t){return as(r,"POST","/v1/accounts:signUp",t)}async function SC(r,t){return Nh(r,"POST","/v1/accounts:signInWithPassword",Qs(r,t))}async function AC(r,t){return Nh(r,"POST","/v1/accounts:signInWithEmailLink",Qs(r,t))}async function bC(r,t){return Nh(r,"POST","/v1/accounts:signInWithEmailLink",Qs(r,t))}class ql extends op{constructor(t,n,s,o=null){super("password",s),this._email=t,this._password=n,this._tenantId=o}static _fromEmailAndPassword(t,n){return new ql(t,n,"password")}static _fromEmailAndCode(t,n,s=null){return new ql(t,n,"emailLink",s)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(t){const n=typeof t=="string"?JSON.parse(t):t;if(n?.email&&n?.password){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(t){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Gv(t,n,"signInWithPassword",SC);case"emailLink":return AC(t,{email:this._email,oobCode:this._password});default:Wn(t,"internal-error")}}async _linkToIdToken(t,n){switch(this.signInMethod){case"password":const s={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Gv(t,s,"signUpPassword",TC);case"emailLink":return bC(t,{idToken:n,email:this._email,oobCode:this._password});default:Wn(t,"internal-error")}}_getReauthenticationResolver(t){return this._getIdTokenResponse(t)}}async function Qa(r,t){return Nh(r,"POST","/v1/accounts:signInWithIdp",Qs(r,t))}const wC="http://localhost";class Fs extends op{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const n=new Fs(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(n.idToken=t.idToken),t.accessToken&&(n.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(n.nonce=t.nonce),t.pendingToken&&(n.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(n.accessToken=t.oauthToken,n.secret=t.oauthTokenSecret):Wn("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const n=typeof t=="string"?JSON.parse(t):t,{providerId:s,signInMethod:o,...u}=n;if(!s||!o)return null;const f=new Fs(s,o);return f.idToken=u.idToken||void 0,f.accessToken=u.accessToken||void 0,f.secret=u.secret,f.nonce=u.nonce,f.pendingToken=u.pendingToken||null,f}_getIdTokenResponse(t){const n=this.buildRequest();return Qa(t,n)}_linkToIdToken(t,n){const s=this.buildRequest();return s.idToken=n,Qa(t,s)}_getReauthenticationResolver(t){const n=this.buildRequest();return n.autoCreate=!1,Qa(t,n)}buildRequest(){const t={requestUri:wC,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),t.postBody=Zl(n)}return t}}function RC(r){switch(r){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function CC(r){const t=Cl(Il(r)).link,n=t?Cl(Il(t)).deep_link_id:null,s=Cl(Il(r)).deep_link_id;return(s?Cl(Il(s)).link:null)||s||n||t||r}class lp{constructor(t){const n=Cl(Il(t)),s=n.apiKey??null,o=n.oobCode??null,u=RC(n.mode??null);vt(s&&o&&u,"argument-error"),this.apiKey=s,this.operation=u,this.code=o,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(t){const n=CC(t);try{return new lp(n)}catch{return null}}}class mo{constructor(){this.providerId=mo.PROVIDER_ID}static credential(t,n){return ql._fromEmailAndPassword(t,n)}static credentialWithLink(t,n){const s=lp.parseLink(n);return vt(s,"argument-error"),ql._fromEmailAndCode(t,s.code,s.tenantId)}}mo.PROVIDER_ID="password";mo.EMAIL_PASSWORD_SIGN_IN_METHOD="password";mo.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class ZT{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}class eu extends ZT{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}class jr extends eu{constructor(){super("facebook.com")}static credential(t){return Fs._fromParams({providerId:jr.PROVIDER_ID,signInMethod:jr.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return jr.credentialFromTaggedObject(t)}static credentialFromError(t){return jr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return jr.credential(t.oauthAccessToken)}catch{return null}}}jr.FACEBOOK_SIGN_IN_METHOD="facebook.com";jr.PROVIDER_ID="facebook.com";class qr extends eu{constructor(){super("google.com"),this.addScope("profile")}static credential(t,n){return Fs._fromParams({providerId:qr.PROVIDER_ID,signInMethod:qr.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:n})}static credentialFromResult(t){return qr.credentialFromTaggedObject(t)}static credentialFromError(t){return qr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:n,oauthAccessToken:s}=t;if(!n&&!s)return null;try{return qr.credential(n,s)}catch{return null}}}qr.GOOGLE_SIGN_IN_METHOD="google.com";qr.PROVIDER_ID="google.com";class Hr extends eu{constructor(){super("github.com")}static credential(t){return Fs._fromParams({providerId:Hr.PROVIDER_ID,signInMethod:Hr.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Hr.credentialFromTaggedObject(t)}static credentialFromError(t){return Hr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Hr.credential(t.oauthAccessToken)}catch{return null}}}Hr.GITHUB_SIGN_IN_METHOD="github.com";Hr.PROVIDER_ID="github.com";class Fr extends eu{constructor(){super("twitter.com")}static credential(t,n){return Fs._fromParams({providerId:Fr.PROVIDER_ID,signInMethod:Fr.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:n})}static credentialFromResult(t){return Fr.credentialFromTaggedObject(t)}static credentialFromError(t){return Fr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:n,oauthTokenSecret:s}=t;if(!n||!s)return null;try{return Fr.credential(n,s)}catch{return null}}}Fr.TWITTER_SIGN_IN_METHOD="twitter.com";Fr.PROVIDER_ID="twitter.com";class Wa{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,n,s,o=!1){const u=await Zn._fromIdTokenResponse(t,s,o),f=Qv(s);return new Wa({user:u,providerId:f,_tokenResponse:s,operationType:n})}static async _forOperation(t,n,s){await t._updateTokensIfNecessary(s,!0);const o=Qv(s);return new Wa({user:t,providerId:o,_tokenResponse:s,operationType:n})}}function Qv(r){return r.providerId?r.providerId:"phoneNumber"in r?"phone":null}class fh extends ar{constructor(t,n,s,o){super(n.code,n.message),this.operationType=s,this.user=o,Object.setPrototypeOf(this,fh.prototype),this.customData={appName:t.name,tenantId:t.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(t,n,s,o){return new fh(t,n,s,o)}}function WT(r,t,n,s){return(t==="reauthenticate"?n._getReauthenticationResolver(r):n._getIdTokenResponse(r)).catch(u=>{throw u.code==="auth/multi-factor-auth-required"?fh._fromErrorAndOperation(r,u,t,s):u})}async function IC(r,t,n=!1){const s=await jl(r,t._linkToIdToken(r.auth,await r.getIdToken()),n);return Wa._forOperation(r,"link",s)}async function DC(r,t,n=!1){const{auth:s}=r;if(Jn(s.app))return Promise.reject(Xr(s));const o="reauthenticate";try{const u=await jl(r,WT(s,o,t,r),n);vt(u.idToken,s,"internal-error");const f=sp(u.idToken);vt(f,s,"internal-error");const{sub:m}=f;return vt(r.uid===m,s,"user-mismatch"),Wa._forOperation(r,o,u)}catch(u){throw u?.code==="auth/user-not-found"&&Wn(s,"user-mismatch"),u}}async function t0(r,t,n=!1){if(Jn(r.app))return Promise.reject(Xr(r));const s="signIn",o=await WT(r,s,t),u=await Wa._fromIdTokenResponse(r,s,o);return n||await r._updateCurrentUser(u.user),u}async function NC(r,t){return t0(fo(r),t)}async function OC(r){const t=fo(r);t._getPasswordPolicyInternal()&&await t._updatePasswordPolicy()}function MC(r,t,n){return Jn(r.app)?Promise.reject(Xr(r)):NC(ze(r),mo.credential(t,n)).catch(async s=>{throw s.code==="auth/password-does-not-meet-requirements"&&OC(r),s})}function VC(r,t,n,s){return ze(r).onIdTokenChanged(t,n,s)}function xC(r,t,n){return ze(r).beforeAuthStateChanged(t,n)}function up(r,t,n,s){return ze(r).onAuthStateChanged(t,n,s)}function LC(r){return ze(r).signOut()}const dh="__sak";class e0{constructor(t,n){this.storageRetriever=t,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(dh,"1"),this.storage.removeItem(dh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,n){return this.storage.setItem(t,JSON.stringify(n)),Promise.resolve()}_get(t){const n=this.storage.getItem(t);return Promise.resolve(n?JSON.parse(n):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}const PC=1e3,UC=10;class n0 extends e0{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,n)=>this.onStorageEvent(t,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=QT(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const n of Object.keys(this.listeners)){const s=this.storage.getItem(n),o=this.localCache[n];s!==o&&t(n,o,s)}}onStorageEvent(t,n=!1){if(!t.key){this.forAllChangedKeys((f,m,g)=>{this.notifyListeners(f,g)});return}const s=t.key;n?this.detachListener():this.stopPolling();const o=()=>{const f=this.storage.getItem(s);!n&&this.localCache[s]===f||this.notifyListeners(s,f)},u=this.storage.getItem(s);nC()&&u!==t.newValue&&t.newValue!==t.oldValue?setTimeout(o,UC):o()}notifyListeners(t,n){this.localCache[t]=n;const s=this.listeners[t];if(s)for(const o of Array.from(s))o(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,n,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:n,newValue:s}),!0)})},PC)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(n)}_removeListener(t,n){this.listeners[t]&&(this.listeners[t].delete(n),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,n){await super._set(t,n),this.localCache[t]=JSON.stringify(n)}async _get(t){const n=await super._get(t);return this.localCache[t]=JSON.stringify(n),n}async _remove(t){await super._remove(t),delete this.localCache[t]}}n0.type="LOCAL";const kC=n0;class i0 extends e0{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,n){}_removeListener(t,n){}}i0.type="SESSION";const r0=i0;function zC(r){return Promise.all(r.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(n){return{fulfilled:!1,reason:n}}}))}class Mh{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const n=this.receivers.find(o=>o.isListeningto(t));if(n)return n;const s=new Mh(t);return this.receivers.push(s),s}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const n=t,{eventId:s,eventType:o,data:u}=n.data,f=this.handlersMap[o];if(!f?.size)return;n.ports[0].postMessage({status:"ack",eventId:s,eventType:o});const m=Array.from(f).map(async y=>y(n.origin,u)),g=await zC(m);n.ports[0].postMessage({status:"done",eventId:s,eventType:o,response:g})}_subscribe(t,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(n)}_unsubscribe(t,n){this.handlersMap[t]&&n&&this.handlersMap[t].delete(n),(!n||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Mh.receivers=[];function cp(r="",t=10){let n="";for(let s=0;s<t;s++)n+=Math.floor(Math.random()*10);return r+n}class BC{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,n,s=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let u,f;return new Promise((m,g)=>{const y=cp("",20);o.port1.start();const E=setTimeout(()=>{g(new Error("unsupported_event"))},s);f={messageChannel:o,onMessage(S){const w=S;if(w.data.eventId===y)switch(w.data.status){case"ack":clearTimeout(E),u=setTimeout(()=>{g(new Error("timeout"))},3e3);break;case"done":clearTimeout(u),m(w.data.response);break;default:clearTimeout(E),clearTimeout(u),g(new Error("invalid_response"));break}}},this.handlers.add(f),o.port1.addEventListener("message",f.onMessage),this.target.postMessage({eventType:t,eventId:y,data:n},[o.port2])}).finally(()=>{f&&this.removeMessageHandler(f)})}}function wi(){return window}function jC(r){wi().location.href=r}function s0(){return typeof wi().WorkerGlobalScope<"u"&&typeof wi().importScripts=="function"}async function qC(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function HC(){return navigator?.serviceWorker?.controller||null}function FC(){return s0()?self:null}const a0="firebaseLocalStorageDb",GC=1,mh="firebaseLocalStorage",o0="fbase_key";class nu{constructor(t){this.request=t}toPromise(){return new Promise((t,n)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Vh(r,t){return r.transaction([mh],t?"readwrite":"readonly").objectStore(mh)}function KC(){const r=indexedDB.deleteDatabase(a0);return new nu(r).toPromise()}function Cm(){const r=indexedDB.open(a0,GC);return new Promise((t,n)=>{r.addEventListener("error",()=>{n(r.error)}),r.addEventListener("upgradeneeded",()=>{const s=r.result;try{s.createObjectStore(mh,{keyPath:o0})}catch(o){n(o)}}),r.addEventListener("success",async()=>{const s=r.result;s.objectStoreNames.contains(mh)?t(s):(s.close(),await KC(),t(await Cm()))})})}async function Yv(r,t,n){const s=Vh(r,!0).put({[o0]:t,value:n});return new nu(s).toPromise()}async function QC(r,t){const n=Vh(r,!1).get(t),s=await new nu(n).toPromise();return s===void 0?null:s.value}function Xv(r,t){const n=Vh(r,!0).delete(t);return new nu(n).toPromise()}const YC=800,XC=3;class l0{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Cm(),this.db)}async _withRetries(t){let n=0;for(;;)try{const s=await this._openDb();return await t(s)}catch(s){if(n++>XC)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return s0()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Mh._getInstance(FC()),this.receiver._subscribe("keyChanged",async(t,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(t,n)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await qC(),!this.activeServiceWorker)return;this.sender=new BC(this.activeServiceWorker);const t=await this.sender._send("ping",{},800);t&&t[0]?.fulfilled&&t[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||HC()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await Cm();return await Yv(t,dh,"1"),await Xv(t,dh),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,n){return this._withPendingWrite(async()=>(await this._withRetries(s=>Yv(s,t,n)),this.localCache[t]=n,this.notifyServiceWorker(t)))}async _get(t){const n=await this._withRetries(s=>QC(s,t));return this.localCache[t]=n,n}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(n=>Xv(n,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(o=>{const u=Vh(o,!1).getAll();return new nu(u).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const n=[],s=new Set;if(t.length!==0)for(const{fbase_key:o,value:u}of t)s.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(u)&&(this.notifyListeners(o,u),n.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!s.has(o)&&(this.notifyListeners(o,null),n.push(o));return n}notifyListeners(t,n){this.localCache[t]=n;const s=this.listeners[t];if(s)for(const o of Array.from(s))o(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),YC)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(n)}_removeListener(t,n){this.listeners[t]&&(this.listeners[t].delete(n),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}l0.type="LOCAL";const $C=l0;new tu(3e4,6e4);function JC(r,t){return t?Wi(t):(vt(r._popupRedirectResolver,r,"argument-error"),r._popupRedirectResolver)}class hp extends op{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return Qa(t,this._buildIdpRequest())}_linkToIdToken(t,n){return Qa(t,this._buildIdpRequest(n))}_getReauthenticationResolver(t){return Qa(t,this._buildIdpRequest())}_buildIdpRequest(t){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(n.idToken=t),n}}function ZC(r){return t0(r.auth,new hp(r),r.bypassAuthState)}function WC(r){const{auth:t,user:n}=r;return vt(n,t,"internal-error"),DC(n,new hp(r),r.bypassAuthState)}async function tI(r){const{auth:t,user:n}=r;return vt(n,t,"internal-error"),IC(n,new hp(r),r.bypassAuthState)}class u0{constructor(t,n,s,o,u=!1){this.auth=t,this.resolver=s,this.user=o,this.bypassAuthState=u,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(t,n)=>{this.pendingPromise={resolve:t,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(t){const{urlResponse:n,sessionId:s,postBody:o,tenantId:u,error:f,type:m}=t;if(f){this.reject(f);return}const g={auth:this.auth,requestUri:n,sessionId:s,tenantId:u||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(m)(g))}catch(y){this.reject(y)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return ZC;case"linkViaPopup":case"linkViaRedirect":return tI;case"reauthViaPopup":case"reauthViaRedirect":return WC;default:Wn(this.auth,"internal-error")}}resolve(t){ir(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){ir(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const eI=new tu(2e3,1e4);class Fa extends u0{constructor(t,n,s,o,u){super(t,n,o,u),this.provider=s,this.authWindow=null,this.pollId=null,Fa.currentPopupAction&&Fa.currentPopupAction.cancel(),Fa.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return vt(t,this.auth,"internal-error"),t}async onExecution(){ir(this.filter.length===1,"Popup operations only handle one event");const t=cp();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(bi(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(bi(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Fa.currentPopupAction=null}pollUserCancellation(){const t=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(bi(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,eI.get())};t()}}Fa.currentPopupAction=null;const nI="pendingRedirect",Zc=new Map;class iI extends u0{constructor(t,n,s=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,s),this.eventId=null}async execute(){let t=Zc.get(this.auth._key());if(!t){try{const s=await rI(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(s)}catch(n){t=()=>Promise.reject(n)}Zc.set(this.auth._key(),t)}return this.bypassAuthState||Zc.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const n=await this.auth._redirectUserForId(t.eventId);if(n)return this.user=n,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function rI(r,t){const n=oI(t),s=aI(r);if(!await s._isAvailable())return!1;const o=await s._get(n)==="true";return await s._remove(n),o}function sI(r,t){Zc.set(r._key(),t)}function aI(r){return Wi(r._redirectPersistence)}function oI(r){return Jc(nI,r.config.apiKey,r.name)}async function lI(r,t,n=!1){if(Jn(r.app))return Promise.reject(Xr(r));const s=fo(r),o=JC(s,t),f=await new iI(s,o,n).execute();return f&&!n&&(delete f.user._redirectEventId,await s._persistUserIfCurrent(f.user),await s._setRedirectUser(null,t)),f}const uI=600*1e3;class cI{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let n=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(t,s)&&(n=!0,this.sendToConsumer(t,s),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!hI(t)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=t,n=!0)),n}sendToConsumer(t,n){if(t.error&&!c0(t)){const s=t.error.code?.split("auth/")[1]||"internal-error";n.onError(bi(this.auth,s))}else n.onAuthEvent(t)}isEventForConsumer(t,n){const s=n.eventId===null||!!t.eventId&&t.eventId===n.eventId;return n.filter.includes(t.type)&&s}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=uI&&this.cachedEventUids.clear(),this.cachedEventUids.has($v(t))}saveEventToCache(t){this.cachedEventUids.add($v(t)),this.lastProcessedEventTime=Date.now()}}function $v(r){return[r.type,r.eventId,r.sessionId,r.tenantId].filter(t=>t).join("-")}function c0({type:r,error:t}){return r==="unknown"&&t?.code==="auth/no-auth-event"}function hI(r){switch(r.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return c0(r);default:return!1}}async function fI(r,t={}){return as(r,"GET","/v1/projects",t)}const dI=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,mI=/^https?/;async function pI(r){if(r.config.emulator)return;const{authorizedDomains:t}=await fI(r);for(const n of t)try{if(gI(n))return}catch{}Wn(r,"unauthorized-domain")}function gI(r){const t=wm(),{protocol:n,hostname:s}=new URL(t);if(r.startsWith("chrome-extension://")){const f=new URL(r);return f.hostname===""&&s===""?n==="chrome-extension:"&&r.replace("chrome-extension://","")===t.replace("chrome-extension://",""):n==="chrome-extension:"&&f.hostname===s}if(!mI.test(n))return!1;if(dI.test(r))return s===r;const o=r.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(s)}const yI=new tu(3e4,6e4);function Jv(){const r=wi().___jsl;if(r?.H){for(const t of Object.keys(r.H))if(r.H[t].r=r.H[t].r||[],r.H[t].L=r.H[t].L||[],r.H[t].r=[...r.H[t].L],r.CP)for(let n=0;n<r.CP.length;n++)r.CP[n]=null}}function _I(r){return new Promise((t,n)=>{function s(){Jv(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{Jv(),n(bi(r,"network-request-failed"))},timeout:yI.get()})}if(wi().gapi?.iframes?.Iframe)t(gapi.iframes.getContext());else if(wi().gapi?.load)s();else{const o=hC("iframefcb");return wi()[o]=()=>{gapi.load?s():n(bi(r,"network-request-failed"))},XT(`${cC()}?onload=${o}`).catch(u=>n(u))}}).catch(t=>{throw Wc=null,t})}let Wc=null;function vI(r){return Wc=Wc||_I(r),Wc}const EI=new tu(5e3,15e3),TI="__/auth/iframe",SI="emulator/auth/iframe",AI={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},bI=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function wI(r){const t=r.config;vt(t.authDomain,r,"auth-domain-config-required");const n=t.emulator?rp(t,SI):`https://${r.config.authDomain}/${TI}`,s={apiKey:t.apiKey,appName:r.name,v:ho},o=bI.get(r.config.apiHost);o&&(s.eid=o);const u=r._getFrameworks();return u.length&&(s.fw=u.join(",")),`${n}?${Zl(s).slice(1)}`}async function RI(r){const t=await vI(r),n=wi().gapi;return vt(n,r,"internal-error"),t.open({where:document.body,url:wI(r),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:AI,dontclear:!0},s=>new Promise(async(o,u)=>{await s.restyle({setHideOnLeave:!1});const f=bi(r,"network-request-failed"),m=wi().setTimeout(()=>{u(f)},EI.get());function g(){wi().clearTimeout(m),o(s)}s.ping(g).then(g,()=>{u(f)})}))}const CI={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},II=500,DI=600,NI="_blank",OI="http://localhost";class Zv{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function MI(r,t,n,s=II,o=DI){const u=Math.max((window.screen.availHeight-o)/2,0).toString(),f=Math.max((window.screen.availWidth-s)/2,0).toString();let m="";const g={...CI,width:s.toString(),height:o.toString(),top:u,left:f},y=We().toLowerCase();n&&(m=qT(y)?NI:n),BT(y)&&(t=t||OI,g.scrollbars="yes");const E=Object.entries(g).reduce((w,[U,G])=>`${w}${U}=${G},`,"");if(eC(y)&&m!=="_self")return VI(t||"",m),new Zv(null);const S=window.open(t||"",m,E);vt(S,r,"popup-blocked");try{S.focus()}catch{}return new Zv(S)}function VI(r,t){const n=document.createElement("a");n.href=r,n.target=t;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(s)}const xI="__/auth/handler",LI="emulator/auth/handler",PI=encodeURIComponent("fac");async function Wv(r,t,n,s,o,u){vt(r.config.authDomain,r,"auth-domain-config-required"),vt(r.config.apiKey,r,"invalid-api-key");const f={apiKey:r.config.apiKey,appName:r.name,authType:n,redirectUrl:s,v:ho,eventId:o};if(t instanceof ZT){t.setDefaultLanguage(r.languageCode),f.providerId=t.providerId||"",Aw(t.getCustomParameters())||(f.customParameters=JSON.stringify(t.getCustomParameters()));for(const[E,S]of Object.entries({}))f[E]=S}if(t instanceof eu){const E=t.getScopes().filter(S=>S!=="");E.length>0&&(f.scopes=E.join(","))}r.tenantId&&(f.tid=r.tenantId);const m=f;for(const E of Object.keys(m))m[E]===void 0&&delete m[E];const g=await r._getAppCheckToken(),y=g?`#${PI}=${encodeURIComponent(g)}`:"";return`${UI(r)}?${Zl(m).slice(1)}${y}`}function UI({config:r}){return r.emulator?rp(r,LI):`https://${r.authDomain}/${xI}`}const fm="webStorageSupport";class kI{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=r0,this._completeRedirectFn=lI,this._overrideRedirectResult=sI}async _openPopup(t,n,s,o){ir(this.eventManagers[t._key()]?.manager,"_initialize() not called before _openPopup()");const u=await Wv(t,n,s,wm(),o);return MI(t,u,cp())}async _openRedirect(t,n,s,o){await this._originValidation(t);const u=await Wv(t,n,s,wm(),o);return jC(u),new Promise(()=>{})}_initialize(t){const n=t._key();if(this.eventManagers[n]){const{manager:o,promise:u}=this.eventManagers[n];return o?Promise.resolve(o):(ir(u,"If manager is not set, promise should be"),u)}const s=this.initAndGetManager(t);return this.eventManagers[n]={promise:s},s.catch(()=>{delete this.eventManagers[n]}),s}async initAndGetManager(t){const n=await RI(t),s=new cI(t);return n.register("authEvent",o=>(vt(o?.authEvent,t,"invalid-auth-event"),{status:s.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:s},this.iframes[t._key()]=n,s}_isIframeWebStorageSupported(t,n){this.iframes[t._key()].send(fm,{type:fm},o=>{const u=o?.[0]?.[fm];u!==void 0&&n(!!u),Wn(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const n=t._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=pI(t)),this.originValidationPromises[n]}get _shouldInitProactively(){return QT()||jT()||ap()}}const zI=kI;var tE="@firebase/auth",eE="1.11.1";class BI{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const n=this.auth.onIdTokenChanged(s=>{t(s?.stsTokenManager.accessToken||null)});this.internalListeners.set(t,n),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const n=this.internalListeners.get(t);n&&(this.internalListeners.delete(t),n(),this.updateProactiveRefresh())}assertAuthConfigured(){vt(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function jI(r){switch(r){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function qI(r){Ja(new Hs("auth",(t,{options:n})=>{const s=t.getProvider("app").getImmediate(),o=t.getProvider("heartbeat"),u=t.getProvider("app-check-internal"),{apiKey:f,authDomain:m}=s.options;vt(f&&!f.includes(":"),"invalid-api-key",{appName:s.name});const g={apiKey:f,authDomain:m,clientPlatform:r,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:YT(r)},y=new oC(s,o,u,g);return yC(y,n),y},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,n,s)=>{t.getProvider("auth-internal").initialize()})),Ja(new Hs("auth-internal",t=>{const n=fo(t.getProvider("auth").getImmediate());return(s=>new BI(s))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Yr(tE,eE,jI(r)),Yr(tE,eE,"esm2020")}const HI=300,FI=bT("authIdTokenMaxAge")||HI;let nE=null;const GI=r=>async t=>{const n=t&&await t.getIdTokenResult(),s=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(s&&s>FI)return;const o=n?.token;nE!==o&&(nE=o,await fetch(r,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function xh(r=DT()){const t=np(r,"auth");if(t.isInitialized())return t.getImmediate();const n=gC(r,{popupRedirectResolver:zI,persistence:[$C,kC,r0]}),s=bT("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const u=new URL(s,location.origin);if(location.origin===u.origin){const f=GI(u.toString());xC(n,f,()=>f(n.currentUser)),VC(n,m=>f(m))}}const o=ST("auth");return o&&_C(n,`http://${o}`),n}function KI(){return document.getElementsByTagName("head")?.[0]??document}lC({loadJS(r){return new Promise((t,n)=>{const s=document.createElement("script");s.setAttribute("src",r),s.onload=t,s.onerror=o=>{const u=bi("internal-error");u.customData=o,n(u)},s.type="text/javascript",s.charset="UTF-8",KI().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});qI("Browser");var QI="firebase",YI="12.6.0";Yr(QI,YI,"app");const Lh={apiKey:"AIzaSyBORovxiVocx_uyIYY5Tx63Dv-Szd7K94U",authDomain:"pilvi-vite-616ba.firebaseapp.com",projectId:"pilvi-vite-616ba",storageBucket:"pilvi-vite-616ba.firebasestorage.app",messagingSenderId:"942850698140",appId:"1:942850698140:web:4e7d07e0122216cbfbf659"};function XI(){const r=Wl(Lh),t=xh(r),[n,s]=F.useState(""),[o,u]=F.useState(""),f=async m=>{m.preventDefault(),await MC(t,n,o).then(g=>{const y=g.user;console.log("User signed in:",y.email)}).catch(g=>{const y=g.code,E=g.message;console.error("Error signing in:",y,E)})};return ht.jsx("div",{children:ht.jsxs("form",{onSubmit:f,children:[ht.jsxs("div",{children:[ht.jsx("label",{htmlFor:"email",children:"Shkposti:"}),ht.jsx("input",{type:"email",id:"email",value:n,onChange:m=>s(m.target.value),required:!0})]}),ht.jsxs("div",{children:[ht.jsx("label",{htmlFor:"password",children:"Salasana:"}),ht.jsx("input",{type:"password",id:"password",value:o,onChange:m=>u(m.target.value),required:!0})]}),ht.jsx("button",{type:"submit",children:"Kirjaudu sisn"})]})})}const $I="/pilviweb/harjoitus/assets/do-it-star-wars-Dz-iYP-W.png";function iE(){return ht.jsxs("div",{className:"card",children:[ht.jsx("img",{src:$I,alt:"Kirjautumissivun kuva",className:"login-image"}),ht.jsx("h2",{children:"Kirjautuminen"}),ht.jsx(XI,{})]})}var rE=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var $r,h0;(function(){var r;function t(C,b){function R(){}R.prototype=b.prototype,C.F=b.prototype,C.prototype=new R,C.prototype.constructor=C,C.D=function(V,N,L){for(var I=Array(arguments.length-2),re=2;re<arguments.length;re++)I[re-2]=arguments[re];return b.prototype[N].apply(V,I)}}function n(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}t(s,n),s.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(C,b,R){R||(R=0);const V=Array(16);if(typeof b=="string")for(var N=0;N<16;++N)V[N]=b.charCodeAt(R++)|b.charCodeAt(R++)<<8|b.charCodeAt(R++)<<16|b.charCodeAt(R++)<<24;else for(N=0;N<16;++N)V[N]=b[R++]|b[R++]<<8|b[R++]<<16|b[R++]<<24;b=C.g[0],R=C.g[1],N=C.g[2];let L=C.g[3],I;I=b+(L^R&(N^L))+V[0]+3614090360&4294967295,b=R+(I<<7&4294967295|I>>>25),I=L+(N^b&(R^N))+V[1]+3905402710&4294967295,L=b+(I<<12&4294967295|I>>>20),I=N+(R^L&(b^R))+V[2]+606105819&4294967295,N=L+(I<<17&4294967295|I>>>15),I=R+(b^N&(L^b))+V[3]+3250441966&4294967295,R=N+(I<<22&4294967295|I>>>10),I=b+(L^R&(N^L))+V[4]+4118548399&4294967295,b=R+(I<<7&4294967295|I>>>25),I=L+(N^b&(R^N))+V[5]+1200080426&4294967295,L=b+(I<<12&4294967295|I>>>20),I=N+(R^L&(b^R))+V[6]+2821735955&4294967295,N=L+(I<<17&4294967295|I>>>15),I=R+(b^N&(L^b))+V[7]+4249261313&4294967295,R=N+(I<<22&4294967295|I>>>10),I=b+(L^R&(N^L))+V[8]+1770035416&4294967295,b=R+(I<<7&4294967295|I>>>25),I=L+(N^b&(R^N))+V[9]+2336552879&4294967295,L=b+(I<<12&4294967295|I>>>20),I=N+(R^L&(b^R))+V[10]+4294925233&4294967295,N=L+(I<<17&4294967295|I>>>15),I=R+(b^N&(L^b))+V[11]+2304563134&4294967295,R=N+(I<<22&4294967295|I>>>10),I=b+(L^R&(N^L))+V[12]+1804603682&4294967295,b=R+(I<<7&4294967295|I>>>25),I=L+(N^b&(R^N))+V[13]+4254626195&4294967295,L=b+(I<<12&4294967295|I>>>20),I=N+(R^L&(b^R))+V[14]+2792965006&4294967295,N=L+(I<<17&4294967295|I>>>15),I=R+(b^N&(L^b))+V[15]+1236535329&4294967295,R=N+(I<<22&4294967295|I>>>10),I=b+(N^L&(R^N))+V[1]+4129170786&4294967295,b=R+(I<<5&4294967295|I>>>27),I=L+(R^N&(b^R))+V[6]+3225465664&4294967295,L=b+(I<<9&4294967295|I>>>23),I=N+(b^R&(L^b))+V[11]+643717713&4294967295,N=L+(I<<14&4294967295|I>>>18),I=R+(L^b&(N^L))+V[0]+3921069994&4294967295,R=N+(I<<20&4294967295|I>>>12),I=b+(N^L&(R^N))+V[5]+3593408605&4294967295,b=R+(I<<5&4294967295|I>>>27),I=L+(R^N&(b^R))+V[10]+38016083&4294967295,L=b+(I<<9&4294967295|I>>>23),I=N+(b^R&(L^b))+V[15]+3634488961&4294967295,N=L+(I<<14&4294967295|I>>>18),I=R+(L^b&(N^L))+V[4]+3889429448&4294967295,R=N+(I<<20&4294967295|I>>>12),I=b+(N^L&(R^N))+V[9]+568446438&4294967295,b=R+(I<<5&4294967295|I>>>27),I=L+(R^N&(b^R))+V[14]+3275163606&4294967295,L=b+(I<<9&4294967295|I>>>23),I=N+(b^R&(L^b))+V[3]+4107603335&4294967295,N=L+(I<<14&4294967295|I>>>18),I=R+(L^b&(N^L))+V[8]+1163531501&4294967295,R=N+(I<<20&4294967295|I>>>12),I=b+(N^L&(R^N))+V[13]+2850285829&4294967295,b=R+(I<<5&4294967295|I>>>27),I=L+(R^N&(b^R))+V[2]+4243563512&4294967295,L=b+(I<<9&4294967295|I>>>23),I=N+(b^R&(L^b))+V[7]+1735328473&4294967295,N=L+(I<<14&4294967295|I>>>18),I=R+(L^b&(N^L))+V[12]+2368359562&4294967295,R=N+(I<<20&4294967295|I>>>12),I=b+(R^N^L)+V[5]+4294588738&4294967295,b=R+(I<<4&4294967295|I>>>28),I=L+(b^R^N)+V[8]+2272392833&4294967295,L=b+(I<<11&4294967295|I>>>21),I=N+(L^b^R)+V[11]+1839030562&4294967295,N=L+(I<<16&4294967295|I>>>16),I=R+(N^L^b)+V[14]+4259657740&4294967295,R=N+(I<<23&4294967295|I>>>9),I=b+(R^N^L)+V[1]+2763975236&4294967295,b=R+(I<<4&4294967295|I>>>28),I=L+(b^R^N)+V[4]+1272893353&4294967295,L=b+(I<<11&4294967295|I>>>21),I=N+(L^b^R)+V[7]+4139469664&4294967295,N=L+(I<<16&4294967295|I>>>16),I=R+(N^L^b)+V[10]+3200236656&4294967295,R=N+(I<<23&4294967295|I>>>9),I=b+(R^N^L)+V[13]+681279174&4294967295,b=R+(I<<4&4294967295|I>>>28),I=L+(b^R^N)+V[0]+3936430074&4294967295,L=b+(I<<11&4294967295|I>>>21),I=N+(L^b^R)+V[3]+3572445317&4294967295,N=L+(I<<16&4294967295|I>>>16),I=R+(N^L^b)+V[6]+76029189&4294967295,R=N+(I<<23&4294967295|I>>>9),I=b+(R^N^L)+V[9]+3654602809&4294967295,b=R+(I<<4&4294967295|I>>>28),I=L+(b^R^N)+V[12]+3873151461&4294967295,L=b+(I<<11&4294967295|I>>>21),I=N+(L^b^R)+V[15]+530742520&4294967295,N=L+(I<<16&4294967295|I>>>16),I=R+(N^L^b)+V[2]+3299628645&4294967295,R=N+(I<<23&4294967295|I>>>9),I=b+(N^(R|~L))+V[0]+4096336452&4294967295,b=R+(I<<6&4294967295|I>>>26),I=L+(R^(b|~N))+V[7]+1126891415&4294967295,L=b+(I<<10&4294967295|I>>>22),I=N+(b^(L|~R))+V[14]+2878612391&4294967295,N=L+(I<<15&4294967295|I>>>17),I=R+(L^(N|~b))+V[5]+4237533241&4294967295,R=N+(I<<21&4294967295|I>>>11),I=b+(N^(R|~L))+V[12]+1700485571&4294967295,b=R+(I<<6&4294967295|I>>>26),I=L+(R^(b|~N))+V[3]+2399980690&4294967295,L=b+(I<<10&4294967295|I>>>22),I=N+(b^(L|~R))+V[10]+4293915773&4294967295,N=L+(I<<15&4294967295|I>>>17),I=R+(L^(N|~b))+V[1]+2240044497&4294967295,R=N+(I<<21&4294967295|I>>>11),I=b+(N^(R|~L))+V[8]+1873313359&4294967295,b=R+(I<<6&4294967295|I>>>26),I=L+(R^(b|~N))+V[15]+4264355552&4294967295,L=b+(I<<10&4294967295|I>>>22),I=N+(b^(L|~R))+V[6]+2734768916&4294967295,N=L+(I<<15&4294967295|I>>>17),I=R+(L^(N|~b))+V[13]+1309151649&4294967295,R=N+(I<<21&4294967295|I>>>11),I=b+(N^(R|~L))+V[4]+4149444226&4294967295,b=R+(I<<6&4294967295|I>>>26),I=L+(R^(b|~N))+V[11]+3174756917&4294967295,L=b+(I<<10&4294967295|I>>>22),I=N+(b^(L|~R))+V[2]+718787259&4294967295,N=L+(I<<15&4294967295|I>>>17),I=R+(L^(N|~b))+V[9]+3951481745&4294967295,C.g[0]=C.g[0]+b&4294967295,C.g[1]=C.g[1]+(N+(I<<21&4294967295|I>>>11))&4294967295,C.g[2]=C.g[2]+N&4294967295,C.g[3]=C.g[3]+L&4294967295}s.prototype.v=function(C,b){b===void 0&&(b=C.length);const R=b-this.blockSize,V=this.C;let N=this.h,L=0;for(;L<b;){if(N==0)for(;L<=R;)o(this,C,L),L+=this.blockSize;if(typeof C=="string"){for(;L<b;)if(V[N++]=C.charCodeAt(L++),N==this.blockSize){o(this,V),N=0;break}}else for(;L<b;)if(V[N++]=C[L++],N==this.blockSize){o(this,V),N=0;break}}this.h=N,this.o+=b},s.prototype.A=function(){var C=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);C[0]=128;for(var b=1;b<C.length-8;++b)C[b]=0;b=this.o*8;for(var R=C.length-8;R<C.length;++R)C[R]=b&255,b/=256;for(this.v(C),C=Array(16),b=0,R=0;R<4;++R)for(let V=0;V<32;V+=8)C[b++]=this.g[R]>>>V&255;return C};function u(C,b){var R=m;return Object.prototype.hasOwnProperty.call(R,C)?R[C]:R[C]=b(C)}function f(C,b){this.h=b;const R=[];let V=!0;for(let N=C.length-1;N>=0;N--){const L=C[N]|0;V&&L==b||(R[N]=L,V=!1)}this.g=R}var m={};function g(C){return-128<=C&&C<128?u(C,function(b){return new f([b|0],b<0?-1:0)}):new f([C|0],C<0?-1:0)}function y(C){if(isNaN(C)||!isFinite(C))return S;if(C<0)return q(y(-C));const b=[];let R=1;for(let V=0;C>=R;V++)b[V]=C/R|0,R*=4294967296;return new f(b,0)}function E(C,b){if(C.length==0)throw Error("number format error: empty string");if(b=b||10,b<2||36<b)throw Error("radix out of range: "+b);if(C.charAt(0)=="-")return q(E(C.substring(1),b));if(C.indexOf("-")>=0)throw Error('number format error: interior "-" character');const R=y(Math.pow(b,8));let V=S;for(let L=0;L<C.length;L+=8){var N=Math.min(8,C.length-L);const I=parseInt(C.substring(L,L+N),b);N<8?(N=y(Math.pow(b,N)),V=V.j(N).add(y(I))):(V=V.j(R),V=V.add(y(I)))}return V}var S=g(0),w=g(1),U=g(16777216);r=f.prototype,r.m=function(){if(J(this))return-q(this).m();let C=0,b=1;for(let R=0;R<this.g.length;R++){const V=this.i(R);C+=(V>=0?V:4294967296+V)*b,b*=4294967296}return C},r.toString=function(C){if(C=C||10,C<2||36<C)throw Error("radix out of range: "+C);if(G(this))return"0";if(J(this))return"-"+q(this).toString(C);const b=y(Math.pow(C,6));var R=this;let V="";for(;;){const N=_t(R,b).g;R=tt(R,N.j(b));let L=((R.g.length>0?R.g[0]:R.h)>>>0).toString(C);if(R=N,G(R))return L+V;for(;L.length<6;)L="0"+L;V=L+V}},r.i=function(C){return C<0?0:C<this.g.length?this.g[C]:this.h};function G(C){if(C.h!=0)return!1;for(let b=0;b<C.g.length;b++)if(C.g[b]!=0)return!1;return!0}function J(C){return C.h==-1}r.l=function(C){return C=tt(this,C),J(C)?-1:G(C)?0:1};function q(C){const b=C.g.length,R=[];for(let V=0;V<b;V++)R[V]=~C.g[V];return new f(R,~C.h).add(w)}r.abs=function(){return J(this)?q(this):this},r.add=function(C){const b=Math.max(this.g.length,C.g.length),R=[];let V=0;for(let N=0;N<=b;N++){let L=V+(this.i(N)&65535)+(C.i(N)&65535),I=(L>>>16)+(this.i(N)>>>16)+(C.i(N)>>>16);V=I>>>16,L&=65535,I&=65535,R[N]=I<<16|L}return new f(R,R[R.length-1]&-2147483648?-1:0)};function tt(C,b){return C.add(q(b))}r.j=function(C){if(G(this)||G(C))return S;if(J(this))return J(C)?q(this).j(q(C)):q(q(this).j(C));if(J(C))return q(this.j(q(C)));if(this.l(U)<0&&C.l(U)<0)return y(this.m()*C.m());const b=this.g.length+C.g.length,R=[];for(var V=0;V<2*b;V++)R[V]=0;for(V=0;V<this.g.length;V++)for(let N=0;N<C.g.length;N++){const L=this.i(V)>>>16,I=this.i(V)&65535,re=C.i(N)>>>16,De=C.i(N)&65535;R[2*V+2*N]+=I*De,et(R,2*V+2*N),R[2*V+2*N+1]+=L*De,et(R,2*V+2*N+1),R[2*V+2*N+1]+=I*re,et(R,2*V+2*N+1),R[2*V+2*N+2]+=L*re,et(R,2*V+2*N+2)}for(C=0;C<b;C++)R[C]=R[2*C+1]<<16|R[2*C];for(C=b;C<2*b;C++)R[C]=0;return new f(R,0)};function et(C,b){for(;(C[b]&65535)!=C[b];)C[b+1]+=C[b]>>>16,C[b]&=65535,b++}function it(C,b){this.g=C,this.h=b}function _t(C,b){if(G(b))throw Error("division by zero");if(G(C))return new it(S,S);if(J(C))return b=_t(q(C),b),new it(q(b.g),q(b.h));if(J(b))return b=_t(C,q(b)),new it(q(b.g),b.h);if(C.g.length>30){if(J(C)||J(b))throw Error("slowDivide_ only works with positive integers.");for(var R=w,V=b;V.l(C)<=0;)R=ut(R),V=ut(V);var N=dt(R,1),L=dt(V,1);for(V=dt(V,2),R=dt(R,2);!G(V);){var I=L.add(V);I.l(C)<=0&&(N=N.add(R),L=I),V=dt(V,1),R=dt(R,1)}return b=tt(C,N.j(b)),new it(N,b)}for(N=S;C.l(b)>=0;){for(R=Math.max(1,Math.floor(C.m()/b.m())),V=Math.ceil(Math.log(R)/Math.LN2),V=V<=48?1:Math.pow(2,V-48),L=y(R),I=L.j(b);J(I)||I.l(C)>0;)R-=V,L=y(R),I=L.j(b);G(L)&&(L=w),N=N.add(L),C=tt(C,I)}return new it(N,C)}r.B=function(C){return _t(this,C).h},r.and=function(C){const b=Math.max(this.g.length,C.g.length),R=[];for(let V=0;V<b;V++)R[V]=this.i(V)&C.i(V);return new f(R,this.h&C.h)},r.or=function(C){const b=Math.max(this.g.length,C.g.length),R=[];for(let V=0;V<b;V++)R[V]=this.i(V)|C.i(V);return new f(R,this.h|C.h)},r.xor=function(C){const b=Math.max(this.g.length,C.g.length),R=[];for(let V=0;V<b;V++)R[V]=this.i(V)^C.i(V);return new f(R,this.h^C.h)};function ut(C){const b=C.g.length+1,R=[];for(let V=0;V<b;V++)R[V]=C.i(V)<<1|C.i(V-1)>>>31;return new f(R,C.h)}function dt(C,b){const R=b>>5;b%=32;const V=C.g.length-R,N=[];for(let L=0;L<V;L++)N[L]=b>0?C.i(L+R)>>>b|C.i(L+R+1)<<32-b:C.i(L+R);return new f(N,C.h)}s.prototype.digest=s.prototype.A,s.prototype.reset=s.prototype.u,s.prototype.update=s.prototype.v,h0=s,f.prototype.add=f.prototype.add,f.prototype.multiply=f.prototype.j,f.prototype.modulo=f.prototype.B,f.prototype.compare=f.prototype.l,f.prototype.toNumber=f.prototype.m,f.prototype.toString=f.prototype.toString,f.prototype.getBits=f.prototype.i,f.fromNumber=y,f.fromString=E,$r=f}).apply(typeof rE<"u"?rE:typeof self<"u"?self:typeof window<"u"?window:{});var jc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var f0,Dl,d0,th,Im,m0,p0,g0;(function(){var r,t=Object.defineProperty;function n(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof jc=="object"&&jc];for(var p=0;p<c.length;++p){var v=c[p];if(v&&v.Math==Math)return v}throw Error("Cannot find global object")}var s=n(this);function o(c,p){if(p)t:{var v=s;c=c.split(".");for(var A=0;A<c.length-1;A++){var P=c[A];if(!(P in v))break t;v=v[P]}c=c[c.length-1],A=v[c],p=p(A),p!=A&&p!=null&&t(v,c,{configurable:!0,writable:!0,value:p})}}o("Symbol.dispose",function(c){return c||Symbol("Symbol.dispose")}),o("Array.prototype.values",function(c){return c||function(){return this[Symbol.iterator]()}}),o("Object.entries",function(c){return c||function(p){var v=[],A;for(A in p)Object.prototype.hasOwnProperty.call(p,A)&&v.push([A,p[A]]);return v}});var u=u||{},f=this||self;function m(c){var p=typeof c;return p=="object"&&c!=null||p=="function"}function g(c,p,v){return c.call.apply(c.bind,arguments)}function y(c,p,v){return y=g,y.apply(null,arguments)}function E(c,p){var v=Array.prototype.slice.call(arguments,1);return function(){var A=v.slice();return A.push.apply(A,arguments),c.apply(this,A)}}function S(c,p){function v(){}v.prototype=p.prototype,c.Z=p.prototype,c.prototype=new v,c.prototype.constructor=c,c.Ob=function(A,P,j){for(var nt=Array(arguments.length-2),wt=2;wt<arguments.length;wt++)nt[wt-2]=arguments[wt];return p.prototype[P].apply(A,nt)}}var w=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?c=>c&&AsyncContext.Snapshot.wrap(c):c=>c;function U(c){const p=c.length;if(p>0){const v=Array(p);for(let A=0;A<p;A++)v[A]=c[A];return v}return[]}function G(c,p){for(let A=1;A<arguments.length;A++){const P=arguments[A];var v=typeof P;if(v=v!="object"?v:P?Array.isArray(P)?"array":v:"null",v=="array"||v=="object"&&typeof P.length=="number"){v=c.length||0;const j=P.length||0;c.length=v+j;for(let nt=0;nt<j;nt++)c[v+nt]=P[nt]}else c.push(P)}}class J{constructor(p,v){this.i=p,this.j=v,this.h=0,this.g=null}get(){let p;return this.h>0?(this.h--,p=this.g,this.g=p.next,p.next=null):p=this.i(),p}}function q(c){f.setTimeout(()=>{throw c},0)}function tt(){var c=C;let p=null;return c.g&&(p=c.g,c.g=c.g.next,c.g||(c.h=null),p.next=null),p}class et{constructor(){this.h=this.g=null}add(p,v){const A=it.get();A.set(p,v),this.h?this.h.next=A:this.g=A,this.h=A}}var it=new J(()=>new _t,c=>c.reset());class _t{constructor(){this.next=this.g=this.h=null}set(p,v){this.h=p,this.g=v,this.next=null}reset(){this.next=this.g=this.h=null}}let ut,dt=!1,C=new et,b=()=>{const c=Promise.resolve(void 0);ut=()=>{c.then(R)}};function R(){for(var c;c=tt();){try{c.h.call(c.g)}catch(v){q(v)}var p=it;p.j(c),p.h<100&&(p.h++,c.next=p.g,p.g=c)}dt=!1}function V(){this.u=this.u,this.C=this.C}V.prototype.u=!1,V.prototype.dispose=function(){this.u||(this.u=!0,this.N())},V.prototype[Symbol.dispose]=function(){this.dispose()},V.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function N(c,p){this.type=c,this.g=this.target=p,this.defaultPrevented=!1}N.prototype.h=function(){this.defaultPrevented=!0};var L=(function(){if(!f.addEventListener||!Object.defineProperty)return!1;var c=!1,p=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const v=()=>{};f.addEventListener("test",v,p),f.removeEventListener("test",v,p)}catch{}return c})();function I(c){return/^[\s\xa0]*$/.test(c)}function re(c,p){N.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c&&this.init(c,p)}S(re,N),re.prototype.init=function(c,p){const v=this.type=c.type,A=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;this.target=c.target||c.srcElement,this.g=p,p=c.relatedTarget,p||(v=="mouseover"?p=c.fromElement:v=="mouseout"&&(p=c.toElement)),this.relatedTarget=p,A?(this.clientX=A.clientX!==void 0?A.clientX:A.pageX,this.clientY=A.clientY!==void 0?A.clientY:A.pageY,this.screenX=A.screenX||0,this.screenY=A.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=c.pointerType,this.state=c.state,this.i=c,c.defaultPrevented&&re.Z.h.call(this)},re.prototype.h=function(){re.Z.h.call(this);const c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var De="closure_listenable_"+(Math.random()*1e6|0),Q=0;function rt(c,p,v,A,P){this.listener=c,this.proxy=null,this.src=p,this.type=v,this.capture=!!A,this.ha=P,this.key=++Q,this.da=this.fa=!1}function gt(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function zt(c,p,v){for(const A in c)p.call(v,c[A],A,c)}function Gt(c,p){for(const v in c)p.call(void 0,c[v],v,c)}function M(c){const p={};for(const v in c)p[v]=c[v];return p}const $="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function st(c,p){let v,A;for(let P=1;P<arguments.length;P++){A=arguments[P];for(v in A)c[v]=A[v];for(let j=0;j<$.length;j++)v=$[j],Object.prototype.hasOwnProperty.call(A,v)&&(c[v]=A[v])}}function lt(c){this.src=c,this.g={},this.h=0}lt.prototype.add=function(c,p,v,A,P){const j=c.toString();c=this.g[j],c||(c=this.g[j]=[],this.h++);const nt=Ct(c,p,A,P);return nt>-1?(p=c[nt],v||(p.fa=!1)):(p=new rt(p,this.src,j,!!A,P),p.fa=v,c.push(p)),p};function Tt(c,p){const v=p.type;if(v in c.g){var A=c.g[v],P=Array.prototype.indexOf.call(A,p,void 0),j;(j=P>=0)&&Array.prototype.splice.call(A,P,1),j&&(gt(p),c.g[v].length==0&&(delete c.g[v],c.h--))}}function Ct(c,p,v,A){for(let P=0;P<c.length;++P){const j=c[P];if(!j.da&&j.listener==p&&j.capture==!!v&&j.ha==A)return P}return-1}var Ut="closure_lm_"+(Math.random()*1e6|0),Ne={};function se(c,p,v,A,P){if(Array.isArray(p)){for(let j=0;j<p.length;j++)se(c,p[j],v,A,P);return null}return v=So(v),c&&c[De]?c.J(p,v,m(A)?!!A.capture:!1,P):us(c,p,v,!1,A,P)}function us(c,p,v,A,P,j){if(!p)throw Error("Invalid event type");const nt=m(P)?!!P.capture:!!P;let wt=cs(c);if(wt||(c[Ut]=wt=new lt(c)),v=wt.add(p,v,A,nt,j),v.proxy)return v;if(A=$s(),v.proxy=A,A.src=c,A.listener=v,c.addEventListener)L||(P=nt),P===void 0&&(P=!1),c.addEventListener(p.toString(),A,P);else if(c.attachEvent)c.attachEvent(ei(p.toString()),A);else if(c.addListener&&c.removeListener)c.addListener(A);else throw Error("addEventListener and attachEvent are unavailable.");return v}function $s(){function c(v){return p.call(c.src,c.listener,v)}const p=Eo;return c}function Js(c,p,v,A,P){if(Array.isArray(p))for(var j=0;j<p.length;j++)Js(c,p[j],v,A,P);else A=m(A)?!!A.capture:!!A,v=So(v),c&&c[De]?(c=c.i,j=String(p).toString(),j in c.g&&(p=c.g[j],v=Ct(p,v,A,P),v>-1&&(gt(p[v]),Array.prototype.splice.call(p,v,1),p.length==0&&(delete c.g[j],c.h--)))):c&&(c=cs(c))&&(p=c.g[p.toString()],c=-1,p&&(c=Ct(p,v,A,P)),(v=c>-1?p[c]:null)&&Zs(v))}function Zs(c){if(typeof c!="number"&&c&&!c.da){var p=c.src;if(p&&p[De])Tt(p.i,c);else{var v=c.type,A=c.proxy;p.removeEventListener?p.removeEventListener(v,A,c.capture):p.detachEvent?p.detachEvent(ei(v),A):p.addListener&&p.removeListener&&p.removeListener(A),(v=cs(p))?(Tt(v,c),v.h==0&&(v.src=null,p[Ut]=null)):gt(c)}}}function ei(c){return c in Ne?Ne[c]:Ne[c]="on"+c}function Eo(c,p){if(c.da)c=!0;else{p=new re(p,this);const v=c.listener,A=c.ha||c.src;c.fa&&Zs(c),c=v.call(A,p)}return c}function cs(c){return c=c[Ut],c instanceof lt?c:null}var To="__closure_events_fn_"+(Math.random()*1e9>>>0);function So(c){return typeof c=="function"?c:(c[To]||(c[To]=function(p){return c.handleEvent(p)}),c[To])}function ye(){V.call(this),this.i=new lt(this),this.M=this,this.G=null}S(ye,V),ye.prototype[De]=!0,ye.prototype.removeEventListener=function(c,p,v,A){Js(this,c,p,v,A)};function Oe(c,p){var v,A=c.G;if(A)for(v=[];A;A=A.G)v.push(A);if(c=c.M,A=p.type||p,typeof p=="string")p=new N(p,c);else if(p instanceof N)p.target=p.target||c;else{var P=p;p=new N(A,c),st(p,P)}P=!0;let j,nt;if(v)for(nt=v.length-1;nt>=0;nt--)j=p.g=v[nt],P=or(j,A,!0,p)&&P;if(j=p.g=c,P=or(j,A,!0,p)&&P,P=or(j,A,!1,p)&&P,v)for(nt=0;nt<v.length;nt++)j=p.g=v[nt],P=or(j,A,!1,p)&&P}ye.prototype.N=function(){if(ye.Z.N.call(this),this.i){var c=this.i;for(const p in c.g){const v=c.g[p];for(let A=0;A<v.length;A++)gt(v[A]);delete c.g[p],c.h--}}this.G=null},ye.prototype.J=function(c,p,v,A){return this.i.add(String(c),p,!1,v,A)},ye.prototype.K=function(c,p,v,A){return this.i.add(String(c),p,!0,v,A)};function or(c,p,v,A){if(p=c.i.g[String(p)],!p)return!0;p=p.concat();let P=!0;for(let j=0;j<p.length;++j){const nt=p[j];if(nt&&!nt.da&&nt.capture==v){const wt=nt.listener,de=nt.ha||nt.src;nt.fa&&Tt(c.i,nt),P=wt.call(de,A)!==!1&&P}}return P&&!A.defaultPrevented}function Wh(c,p){if(typeof c!="function")if(c&&typeof c.handleEvent=="function")c=y(c.handleEvent,c);else throw Error("Invalid listener argument");return Number(p)>2147483647?-1:f.setTimeout(c,p||0)}function cu(c){c.g=Wh(()=>{c.g=null,c.i&&(c.i=!1,cu(c))},c.l);const p=c.h;c.h=null,c.m.apply(null,p)}class tn extends V{constructor(p,v){super(),this.m=p,this.l=v,this.h=null,this.i=!1,this.g=null}j(p){this.h=arguments,this.g?this.i=!0:cu(this)}N(){super.N(),this.g&&(f.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function hs(c){V.call(this),this.h=c,this.g={}}S(hs,V);var Ao=[];function bo(c){zt(c.g,function(p,v){this.g.hasOwnProperty(v)&&Zs(p)},c),c.g={}}hs.prototype.N=function(){hs.Z.N.call(this),bo(this)},hs.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var lr=f.JSON.stringify,tf=f.JSON.parse,hu=class{stringify(c){return f.JSON.stringify(c,void 0)}parse(c){return f.JSON.parse(c,void 0)}};function fu(){}function du(){}var zn={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Be(){N.call(this,"d")}S(Be,N);function An(){N.call(this,"c")}S(An,N);var fe={},mu=null;function Ws(){return mu=mu||new ye}fe.Ia="serverreachability";function pu(c){N.call(this,fe.Ia,c)}S(pu,N);function ni(c){const p=Ws();Oe(p,new pu(p))}fe.STAT_EVENT="statevent";function fs(c,p){N.call(this,fe.STAT_EVENT,c),this.stat=p}S(fs,N);function _e(c){const p=Ws();Oe(p,new fs(p,c))}fe.Ja="timingevent";function ii(c,p){N.call(this,fe.Ja,c),this.size=p}S(ii,N);function ri(c,p){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return f.setTimeout(function(){c()},p)}function Bn(){this.g=!0}Bn.prototype.ua=function(){this.g=!1};function ef(c,p,v,A,P,j){c.info(function(){if(c.g)if(j){var nt="",wt=j.split("&");for(let qt=0;qt<wt.length;qt++){var de=wt[qt].split("=");if(de.length>1){const ae=de[0];de=de[1];const Cn=ae.split("_");nt=Cn.length>=2&&Cn[1]=="type"?nt+(ae+"="+de+"&"):nt+(ae+"=redacted&")}}}else nt=null;else nt=j;return"XMLHTTP REQ ("+A+") [attempt "+P+"]: "+p+`
`+v+`
`+nt})}function gu(c,p,v,A,P,j,nt){c.info(function(){return"XMLHTTP RESP ("+A+") [ attempt "+P+"]: "+p+`
`+v+`
`+j+" "+nt})}function si(c,p,v,A){c.info(function(){return"XMLHTTP TEXT ("+p+"): "+nf(c,v)+(A?" "+A:"")})}function ds(c,p){c.info(function(){return"TIMEOUT: "+p})}Bn.prototype.info=function(){};function nf(c,p){if(!c.g)return p;if(!p)return null;try{const j=JSON.parse(p);if(j){for(c=0;c<j.length;c++)if(Array.isArray(j[c])){var v=j[c];if(!(v.length<2)){var A=v[1];if(Array.isArray(A)&&!(A.length<1)){var P=A[0];if(P!="noop"&&P!="stop"&&P!="close")for(let nt=1;nt<A.length;nt++)A[nt]=""}}}}return lr(j)}catch{return p}}var ms={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},wo={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Ro;function ps(){}S(ps,fu),ps.prototype.g=function(){return new XMLHttpRequest},Ro=new ps;function Vi(c){return encodeURIComponent(String(c))}function yu(c){var p=1;c=c.split(":");const v=[];for(;p>0&&c.length;)v.push(c.shift()),p--;return c.length&&v.push(c.join(":")),v}function jn(c,p,v,A){this.j=c,this.i=p,this.l=v,this.S=A||1,this.V=new hs(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new qn}function qn(){this.i=null,this.g="",this.h=!1}var ve={},Le={};function ai(c,p,v){c.M=1,c.A=gs(Te(p)),c.u=v,c.R=!0,ta(c,null)}function ta(c,p){c.F=Date.now(),oi(c),c.B=Te(c.A);var v=c.B,A=c.S;Array.isArray(A)||(A=[String(A)]),ra(v.i,"t",A),c.C=0,v=c.j.L,c.h=new qn,c.g=Mu(c.j,v?p:null,!c.u),c.P>0&&(c.O=new tn(y(c.Y,c,c.g),c.P)),p=c.V,v=c.g,A=c.ba;var P="readystatechange";Array.isArray(P)||(P&&(Ao[0]=P.toString()),P=Ao);for(let j=0;j<P.length;j++){const nt=se(v,P[j],A||p.handleEvent,!1,p.h||p);if(!nt)break;p.g[nt.key]=nt}p=c.J?M(c.J):{},c.u?(c.v||(c.v="POST"),p["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.B,c.v,c.u,p)):(c.v="GET",c.g.ea(c.B,c.v,null,p)),ni(),ef(c.i,c.v,c.B,c.l,c.S,c.u)}jn.prototype.ba=function(c){c=c.target;const p=this.O;p&&Gn(c)==3?p.j():this.Y(c)},jn.prototype.Y=function(c){try{if(c==this.g)t:{const wt=Gn(this.g),de=this.g.ya(),qt=this.g.ca();if(!(wt<3)&&(wt!=3||this.g&&(this.h.h||this.g.la()||je(this.g)))){this.K||wt!=4||de==7||(de==8||qt<=0?ni(3):ni(2)),li(this);var p=this.g.ca();this.X=p;var v=rf(this);if(this.o=p==200,gu(this.i,this.v,this.B,this.l,this.S,wt,p),this.o){if(this.U&&!this.L){e:{if(this.g){var A,P=this.g;if((A=P.g?P.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!I(A)){var j=A;break e}}j=null}if(c=j)si(this.i,this.l,c,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,ui(this,c);else{this.o=!1,this.m=3,_e(12),dn(this),bn(this);break t}}if(this.R){c=!0;let ae;for(;!this.K&&this.C<v.length;)if(ae=vu(this,v),ae==Le){wt==4&&(this.m=4,_e(14),c=!1),si(this.i,this.l,null,"[Incomplete Response]");break}else if(ae==ve){this.m=4,_e(15),si(this.i,this.l,v,"[Invalid Chunk]"),c=!1;break}else si(this.i,this.l,ae,null),ui(this,ae);if(_u(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),wt!=4||v.length!=0||this.h.h||(this.m=1,_e(16),c=!1),this.o=this.o&&c,!c)si(this.i,this.l,v,"[Invalid Chunked Response]"),dn(this),bn(this);else if(v.length>0&&!this.W){this.W=!0;var nt=this.j;nt.g==this&&nt.aa&&!nt.P&&(nt.j.info("Great, no buffering proxy detected. Bytes received: "+v.length),jo(nt),nt.P=!0,_e(11))}}else si(this.i,this.l,v,null),ui(this,v);wt==4&&dn(this),this.o&&!this.K&&(wt==4?Iu(this.j,this):(this.o=!1,oi(this)))}else Li(this.g),p==400&&v.indexOf("Unknown SID")>0?(this.m=3,_e(12)):(this.m=0,_e(13)),dn(this),bn(this)}}}catch{}finally{}};function rf(c){if(!_u(c))return c.g.la();const p=je(c.g);if(p==="")return"";let v="";const A=p.length,P=Gn(c.g)==4;if(!c.h.i){if(typeof TextDecoder>"u")return dn(c),bn(c),"";c.h.i=new f.TextDecoder}for(let j=0;j<A;j++)c.h.h=!0,v+=c.h.i.decode(p[j],{stream:!(P&&j==A-1)});return p.length=0,c.h.g+=v,c.C=0,c.h.g}function _u(c){return c.g?c.v=="GET"&&c.M!=2&&c.j.Aa:!1}function vu(c,p){var v=c.C,A=p.indexOf(`
`,v);return A==-1?Le:(v=Number(p.substring(v,A)),isNaN(v)?ve:(A+=1,A+v>p.length?Le:(p=p.slice(A,A+v),c.C=A+v,p)))}jn.prototype.cancel=function(){this.K=!0,dn(this)};function oi(c){c.T=Date.now()+c.H,ea(c,c.H)}function ea(c,p){if(c.D!=null)throw Error("WatchDog timer not null");c.D=ri(y(c.aa,c),p)}function li(c){c.D&&(f.clearTimeout(c.D),c.D=null)}jn.prototype.aa=function(){this.D=null;const c=Date.now();c-this.T>=0?(ds(this.i,this.B),this.M!=2&&(ni(),_e(17)),dn(this),this.m=2,bn(this)):ea(this,this.T-c)};function bn(c){c.j.I==0||c.K||Iu(c.j,c)}function dn(c){li(c);var p=c.O;p&&typeof p.dispose=="function"&&p.dispose(),c.O=null,bo(c.V),c.g&&(p=c.g,c.g=null,p.abort(),p.dispose())}function ui(c,p){try{var v=c.j;if(v.I!=0&&(v.g==c||hi(v.h,c))){if(!c.L&&hi(v.h,c)&&v.I==3){try{var A=v.Ba.g.parse(p)}catch{A=null}if(Array.isArray(A)&&A.length==3){var P=A;if(P[0]==0){t:if(!v.v){if(v.g)if(v.g.F+3e3<c.F)ua(v),gr(v);else break t;As(v),_e(18)}}else v.xa=P[1],0<v.xa-v.K&&P[2]<37500&&v.F&&v.A==0&&!v.C&&(v.C=ri(y(v.Va,v),6e3));ci(v.h)<=1&&v.ta&&(v.ta=void 0)}else yi(v,11)}else if((c.L||v.g==c)&&ua(v),!I(p))for(P=v.Ba.g.parse(p),p=0;p<P.length;p++){let qt=P[p];const ae=qt[0];if(!(ae<=v.K))if(v.K=ae,qt=qt[1],v.I==2)if(qt[0]=="c"){v.M=qt[1],v.ba=qt[2];const Cn=qt[3];Cn!=null&&(v.ka=Cn,v.j.info("VER="+v.ka));const _i=qt[4];_i!=null&&(v.za=_i,v.j.info("SVER="+v.za));const Kn=qt[5];Kn!=null&&typeof Kn=="number"&&Kn>0&&(A=1.5*Kn,v.O=A,v.j.info("backChannelRequestTimeoutMs_="+A)),A=v;const Qn=c.g;if(Qn){const bs=Qn.g?Qn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(bs){var j=A.h;j.g||bs.indexOf("spdy")==-1&&bs.indexOf("quic")==-1&&bs.indexOf("h2")==-1||(j.j=j.l,j.g=new Set,j.h&&(Do(j,j.h),j.h=null))}if(A.G){const ca=Qn.g?Qn.g.getResponseHeader("X-HTTP-Session-Id"):null;ca&&(A.wa=ca,Kt(A.J,A.G,ca))}}v.I=3,v.l&&v.l.ra(),v.aa&&(v.T=Date.now()-c.F,v.j.info("Handshake RTT: "+v.T+"ms")),A=v;var nt=c;if(A.na=Ou(A,A.L?A.ba:null,A.W),nt.L){No(A.h,nt);var wt=nt,de=A.O;de&&(wt.H=de),wt.D&&(li(wt),oi(wt)),A.g=nt}else Ru(A);v.i.length>0&&gi(v)}else qt[0]!="stop"&&qt[0]!="close"||yi(v,7);else v.I==3&&(qt[0]=="stop"||qt[0]=="close"?qt[0]=="stop"?yi(v,7):zo(v):qt[0]!="noop"&&v.l&&v.l.qa(qt),v.A=0)}}ni(4)}catch{}}var Ee=class{constructor(c,p){this.g=c,this.map=p}};function Co(c){this.l=c||10,f.PerformanceNavigationTiming?(c=f.performance.getEntriesByType("navigation"),c=c.length>0&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(f.chrome&&f.chrome.loadTimes&&f.chrome.loadTimes()&&f.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Io(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function ci(c){return c.h?1:c.g?c.g.size:0}function hi(c,p){return c.h?c.h==p:c.g?c.g.has(p):!1}function Do(c,p){c.g?c.g.add(p):c.h=p}function No(c,p){c.h&&c.h==p?c.h=null:c.g&&c.g.has(p)&&c.g.delete(p)}Co.prototype.cancel=function(){if(this.i=Oo(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function Oo(c){if(c.h!=null)return c.i.concat(c.h.G);if(c.g!=null&&c.g.size!==0){let p=c.i;for(const v of c.g.values())p=p.concat(v.G);return p}return U(c.i)}var Eu=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function na(c,p){if(c){c=c.split("&");for(let v=0;v<c.length;v++){const A=c[v].indexOf("=");let P,j=null;A>=0?(P=c[v].substring(0,A),j=c[v].substring(A+1)):P=c[v],p(P,j?decodeURIComponent(j.replace(/\+/g," ")):"")}}}function mn(c){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let p;c instanceof mn?(this.l=c.l,Pe(this,c.j),this.o=c.o,this.g=c.g,ur(this,c.u),this.h=c.h,Mo(this,bu(c.i)),this.m=c.m):c&&(p=String(c).match(Eu))?(this.l=!1,Pe(this,p[1]||"",!0),this.o=fi(p[2]||""),this.g=fi(p[3]||"",!0),ur(this,p[4]),this.h=fi(p[5]||"",!0),Mo(this,p[6]||"",!0),this.m=fi(p[7]||"")):(this.l=!1,this.i=new hr(null,this.l))}mn.prototype.toString=function(){const c=[];var p=this.j;p&&c.push(ys(p,ia,!0),":");var v=this.g;return(v||p=="file")&&(c.push("//"),(p=this.o)&&c.push(ys(p,ia,!0),"@"),c.push(Vi(v).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v=this.u,v!=null&&c.push(":",String(v))),(v=this.h)&&(this.g&&v.charAt(0)!="/"&&c.push("/"),c.push(ys(v,v.charAt(0)=="/"?Vo:Tu,!0))),(v=this.i.toString())&&c.push("?",v),(v=this.m)&&c.push("#",ys(v,Su)),c.join("")},mn.prototype.resolve=function(c){const p=Te(this);let v=!!c.j;v?Pe(p,c.j):v=!!c.o,v?p.o=c.o:v=!!c.g,v?p.g=c.g:v=c.u!=null;var A=c.h;if(v)ur(p,c.u);else if(v=!!c.h){if(A.charAt(0)!="/")if(this.g&&!this.h)A="/"+A;else{var P=p.h.lastIndexOf("/");P!=-1&&(A=p.h.slice(0,P+1)+A)}if(P=A,P==".."||P==".")A="";else if(P.indexOf("./")!=-1||P.indexOf("/.")!=-1){A=P.lastIndexOf("/",0)==0,P=P.split("/");const j=[];for(let nt=0;nt<P.length;){const wt=P[nt++];wt=="."?A&&nt==P.length&&j.push(""):wt==".."?((j.length>1||j.length==1&&j[0]!="")&&j.pop(),A&&nt==P.length&&j.push("")):(j.push(wt),A=!0)}A=j.join("/")}else A=P}return v?p.h=A:v=c.i.toString()!=="",v?Mo(p,bu(c.i)):v=!!c.m,v&&(p.m=c.m),p};function Te(c){return new mn(c)}function Pe(c,p,v){c.j=v?fi(p,!0):p,c.j&&(c.j=c.j.replace(/:$/,""))}function ur(c,p){if(p){if(p=Number(p),isNaN(p)||p<0)throw Error("Bad port number "+p);c.u=p}else c.u=null}function Mo(c,p,v){p instanceof hr?(c.i=p,sa(c.i,c.l)):(v||(p=ys(p,cr)),c.i=new hr(p,c.l))}function Kt(c,p,v){c.i.set(p,v)}function gs(c){return Kt(c,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),c}function fi(c,p){return c?p?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function ys(c,p,v){return typeof c=="string"?(c=encodeURI(c).replace(p,rn),v&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function rn(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var ia=/[#\/\?@]/g,Tu=/[#\?:]/g,Vo=/[#\?]/g,cr=/[#\?@]/g,Su=/#/g;function hr(c,p){this.h=this.g=null,this.i=c||null,this.j=!!p}function sn(c){c.g||(c.g=new Map,c.h=0,c.i&&na(c.i,function(p,v){c.add(decodeURIComponent(p.replace(/\+/g," ")),v)}))}r=hr.prototype,r.add=function(c,p){sn(this),this.i=null,c=fr(this,c);let v=this.g.get(c);return v||this.g.set(c,v=[]),v.push(p),this.h+=1,this};function Au(c,p){sn(c),p=fr(c,p),c.g.has(p)&&(c.i=null,c.h-=c.g.get(p).length,c.g.delete(p))}function xo(c,p){return sn(c),p=fr(c,p),c.g.has(p)}r.forEach=function(c,p){sn(this),this.g.forEach(function(v,A){v.forEach(function(P){c.call(p,P,A,this)},this)},this)};function Lo(c,p){sn(c);let v=[];if(typeof p=="string")xo(c,p)&&(v=v.concat(c.g.get(fr(c,p))));else for(c=Array.from(c.g.values()),p=0;p<c.length;p++)v=v.concat(c[p]);return v}r.set=function(c,p){return sn(this),this.i=null,c=fr(this,c),xo(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[p]),this.h+=1,this},r.get=function(c,p){return c?(c=Lo(this,c),c.length>0?String(c[0]):p):p};function ra(c,p,v){Au(c,p),v.length>0&&(c.i=null,c.g.set(fr(c,p),U(v)),c.h+=v.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],p=Array.from(this.g.keys());for(let A=0;A<p.length;A++){var v=p[A];const P=Vi(v);v=Lo(this,v);for(let j=0;j<v.length;j++){let nt=P;v[j]!==""&&(nt+="="+Vi(v[j])),c.push(nt)}}return this.i=c.join("&")};function bu(c){const p=new hr;return p.i=c.i,c.g&&(p.g=new Map(c.g),p.h=c.h),p}function fr(c,p){return p=String(p),c.j&&(p=p.toLowerCase()),p}function sa(c,p){p&&!c.j&&(sn(c),c.i=null,c.g.forEach(function(v,A){const P=A.toLowerCase();A!=P&&(Au(this,A),ra(this,P,v))},c)),c.j=p}function Hn(c,p){const v=new Bn;if(f.Image){const A=new Image;A.onload=E(wn,v,"TestLoadImage: loaded",!0,p,A),A.onerror=E(wn,v,"TestLoadImage: error",!1,p,A),A.onabort=E(wn,v,"TestLoadImage: abort",!1,p,A),A.ontimeout=E(wn,v,"TestLoadImage: timeout",!1,p,A),f.setTimeout(function(){A.ontimeout&&A.ontimeout()},1e4),A.src=c}else p(!1)}function Po(c,p){const v=new Bn,A=new AbortController,P=setTimeout(()=>{A.abort(),wn(v,"TestPingServer: timeout",!1,p)},1e4);fetch(c,{signal:A.signal}).then(j=>{clearTimeout(P),j.ok?wn(v,"TestPingServer: ok",!0,p):wn(v,"TestPingServer: server error",!1,p)}).catch(()=>{clearTimeout(P),wn(v,"TestPingServer: error",!1,p)})}function wn(c,p,v,A,P){try{P&&(P.onload=null,P.onerror=null,P.onabort=null,P.ontimeout=null),A(v)}catch{}}function dr(){this.g=new hu}function di(c){this.i=c.Sb||null,this.h=c.ab||!1}S(di,fu),di.prototype.g=function(){return new _s(this.i,this.h)};function _s(c,p){ye.call(this),this.H=c,this.o=p,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}S(_s,ye),r=_s.prototype,r.open=function(c,p){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=c,this.D=p,this.readyState=1,Fn(this)},r.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const p={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};c&&(p.body=c),(this.H||f).fetch(new Request(this.D,p)).then(this.Pa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,mr(this)),this.readyState=0},r.Pa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,Fn(this)),this.g&&(this.readyState=3,Fn(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof f.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;aa(this)}else c.text().then(this.Oa.bind(this),this.ga.bind(this))};function aa(c){c.j.read().then(c.Ma.bind(c)).catch(c.ga.bind(c))}r.Ma=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var p=c.value?c.value:new Uint8Array(0);(p=this.B.decode(p,{stream:!c.done}))&&(this.response=this.responseText+=p)}c.done?mr(this):Fn(this),this.readyState==3&&aa(this)}},r.Oa=function(c){this.g&&(this.response=this.responseText=c,mr(this))},r.Na=function(c){this.g&&(this.response=c,mr(this))},r.ga=function(){this.g&&mr(this)};function mr(c){c.readyState=4,c.l=null,c.j=null,c.B=null,Fn(c)}r.setRequestHeader=function(c,p){this.A.append(c,p)},r.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],p=this.h.entries();for(var v=p.next();!v.done;)v=v.value,c.push(v[0]+": "+v[1]),v=p.next();return c.join(`\r
`)};function Fn(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(_s.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function Rn(c){let p="";return zt(c,function(v,A){p+=A,p+=":",p+=v,p+=`\r
`}),p}function vs(c,p,v){t:{for(A in v){var A=!1;break t}A=!0}A||(v=Rn(v),typeof c=="string"?v!=null&&Vi(v):Kt(c,p,v))}function Xt(c){ye.call(this),this.headers=new Map,this.L=c||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}S(Xt,ye);var mi=/^https?$/i,Uo=["POST","PUT"];r=Xt.prototype,r.Fa=function(c){this.H=c},r.ea=function(c,p,v,A){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);p=p?p.toUpperCase():"GET",this.D=c,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Ro.g(),this.g.onreadystatechange=w(y(this.Ca,this));try{this.B=!0,this.g.open(p,String(c),!0),this.B=!1}catch(j){Es(this,j);return}if(c=v||"",v=new Map(this.headers),A)if(Object.getPrototypeOf(A)===Object.prototype)for(var P in A)v.set(P,A[P]);else if(typeof A.keys=="function"&&typeof A.get=="function")for(const j of A.keys())v.set(j,A.get(j));else throw Error("Unknown input type for opt_headers: "+String(A));A=Array.from(v.keys()).find(j=>j.toLowerCase()=="content-type"),P=f.FormData&&c instanceof f.FormData,!(Array.prototype.indexOf.call(Uo,p,void 0)>=0)||A||P||v.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[j,nt]of v)this.g.setRequestHeader(j,nt);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(c),this.v=!1}catch(j){Es(this,j)}};function Es(c,p){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=p,c.o=5,ko(c),xi(c)}function ko(c){c.A||(c.A=!0,Oe(c,"complete"),Oe(c,"error"))}r.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=c||7,Oe(this,"complete"),Oe(this,"abort"),xi(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),xi(this,!0)),Xt.Z.N.call(this)},r.Ca=function(){this.u||(this.B||this.v||this.j?Ts(this):this.Xa())},r.Xa=function(){Ts(this)};function Ts(c){if(c.h&&typeof u<"u"){if(c.v&&Gn(c)==4)setTimeout(c.Ca.bind(c),0);else if(Oe(c,"readystatechange"),Gn(c)==4){c.h=!1;try{const j=c.ca();t:switch(j){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var p=!0;break t;default:p=!1}var v;if(!(v=p)){var A;if(A=j===0){let nt=String(c.D).match(Eu)[1]||null;!nt&&f.self&&f.self.location&&(nt=f.self.location.protocol.slice(0,-1)),A=!mi.test(nt?nt.toLowerCase():"")}v=A}if(v)Oe(c,"complete"),Oe(c,"success");else{c.o=6;try{var P=Gn(c)>2?c.g.statusText:""}catch{P=""}c.l=P+" ["+c.ca()+"]",ko(c)}}finally{xi(c)}}}}function xi(c,p){if(c.g){c.m&&(clearTimeout(c.m),c.m=null);const v=c.g;c.g=null,p||Oe(c,"ready");try{v.onreadystatechange=null}catch{}}}r.isActive=function(){return!!this.g};function Gn(c){return c.g?c.g.readyState:0}r.ca=function(){try{return Gn(this)>2?this.g.status:-1}catch{return-1}},r.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.La=function(c){if(this.g){var p=this.g.responseText;return c&&p.indexOf(c)==0&&(p=p.substring(c.length)),tf(p)}};function je(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.F){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function Li(c){const p={};c=(c.g&&Gn(c)>=2&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let A=0;A<c.length;A++){if(I(c[A]))continue;var v=yu(c[A]);const P=v[0];if(v=v[1],typeof v!="string")continue;v=v.trim();const j=p[P]||[];p[P]=j,j.push(v)}Gt(p,function(A){return A.join(", ")})}r.ya=function(){return this.o},r.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function pi(c,p,v){return v&&v.internalChannelParams&&v.internalChannelParams[c]||p}function pr(c){this.za=0,this.i=[],this.j=new Bn,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=pi("failFast",!1,c),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=pi("baseRetryDelayMs",5e3,c),this.Za=pi("retryDelaySeedMs",1e4,c),this.Ta=pi("forwardChannelMaxRetries",2,c),this.va=pi("forwardChannelRequestTimeoutMs",2e4,c),this.ma=c&&c.xmlHttpFactory||void 0,this.Ua=c&&c.Rb||void 0,this.Aa=c&&c.useFetchStreams||!1,this.O=void 0,this.L=c&&c.supportsCrossDomainXhr||!1,this.M="",this.h=new Co(c&&c.concurrentRequestLimit),this.Ba=new dr,this.S=c&&c.fastHandshake||!1,this.R=c&&c.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=c&&c.Pb||!1,c&&c.ua&&this.j.ua(),c&&c.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&c&&c.detectBufferingProxy||!1,this.ia=void 0,c&&c.longPollingTimeout&&c.longPollingTimeout>0&&(this.ia=c.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}r=pr.prototype,r.ka=8,r.I=1,r.connect=function(c,p,v,A){_e(0),this.W=c,this.H=p||{},v&&A!==void 0&&(this.H.OSID=v,this.H.OAID=A),this.F=this.X,this.J=Ou(this,null,this.W),gi(this)};function zo(c){if(oa(c),c.I==3){var p=c.V++,v=Te(c.J);if(Kt(v,"SID",c.M),Kt(v,"RID",p),Kt(v,"TYPE","terminate"),Ss(c,v),p=new jn(c,c.j,p),p.M=2,p.A=gs(Te(v)),v=!1,f.navigator&&f.navigator.sendBeacon)try{v=f.navigator.sendBeacon(p.A.toString(),"")}catch{}!v&&f.Image&&(new Image().src=p.A,v=!0),v||(p.g=Mu(p.j,null),p.g.ea(p.A)),p.F=Date.now(),oi(p)}Nu(c)}function gr(c){c.g&&(jo(c),c.g.cancel(),c.g=null)}function oa(c){gr(c),c.v&&(f.clearTimeout(c.v),c.v=null),ua(c),c.h.cancel(),c.m&&(typeof c.m=="number"&&f.clearTimeout(c.m),c.m=null)}function gi(c){if(!Io(c.h)&&!c.m){c.m=!0;var p=c.Ea;ut||b(),dt||(ut(),dt=!0),C.add(p,c),c.D=0}}function la(c,p){return ci(c.h)>=c.h.j-(c.m?1:0)?!1:c.m?(c.i=p.G.concat(c.i),!0):c.I==1||c.I==2||c.D>=(c.Sa?0:c.Ta)?!1:(c.m=ri(y(c.Ea,c,p),Du(c,c.D)),c.D++,!0)}r.Ea=function(c){if(this.m)if(this.m=null,this.I==1){if(!c){this.V=Math.floor(Math.random()*1e5),c=this.V++;const P=new jn(this,this.j,c);let j=this.o;if(this.U&&(j?(j=M(j),st(j,this.U)):j=this.U),this.u!==null||this.R||(P.J=j,j=null),this.S)t:{for(var p=0,v=0;v<this.i.length;v++){e:{var A=this.i[v];if("__data__"in A.map&&(A=A.map.__data__,typeof A=="string")){A=A.length;break e}A=void 0}if(A===void 0)break;if(p+=A,p>4096){p=v;break t}if(p===4096||v===this.i.length-1){p=v+1;break t}}p=1e3}else p=1e3;p=wu(this,P,p),v=Te(this.J),Kt(v,"RID",c),Kt(v,"CVER",22),this.G&&Kt(v,"X-HTTP-Session-Id",this.G),Ss(this,v),j&&(this.R?p="headers="+Vi(Rn(j))+"&"+p:this.u&&vs(v,this.u,j)),Do(this.h,P),this.Ra&&Kt(v,"TYPE","init"),this.S?(Kt(v,"$req",p),Kt(v,"SID","null"),P.U=!0,ai(P,v,null)):ai(P,v,p),this.I=2}}else this.I==3&&(c?Bo(this,c):this.i.length==0||Io(this.h)||Bo(this))};function Bo(c,p){var v;p?v=p.l:v=c.V++;const A=Te(c.J);Kt(A,"SID",c.M),Kt(A,"RID",v),Kt(A,"AID",c.K),Ss(c,A),c.u&&c.o&&vs(A,c.u,c.o),v=new jn(c,c.j,v,c.D+1),c.u===null&&(v.J=c.o),p&&(c.i=p.G.concat(c.i)),p=wu(c,v,1e3),v.H=Math.round(c.va*.5)+Math.round(c.va*.5*Math.random()),Do(c.h,v),ai(v,A,p)}function Ss(c,p){c.H&&zt(c.H,function(v,A){Kt(p,A,v)}),c.l&&zt({},function(v,A){Kt(p,A,v)})}function wu(c,p,v){v=Math.min(c.i.length,v);const A=c.l?y(c.l.Ka,c.l,c):null;t:{var P=c.i;let wt=-1;for(;;){const de=["count="+v];wt==-1?v>0?(wt=P[0].g,de.push("ofs="+wt)):wt=0:de.push("ofs="+wt);let qt=!0;for(let ae=0;ae<v;ae++){var j=P[ae].g;const Cn=P[ae].map;if(j-=wt,j<0)wt=Math.max(0,P[ae].g-100),qt=!1;else try{j="req"+j+"_"||"";try{var nt=Cn instanceof Map?Cn:Object.entries(Cn);for(const[_i,Kn]of nt){let Qn=Kn;m(Kn)&&(Qn=lr(Kn)),de.push(j+_i+"="+encodeURIComponent(Qn))}}catch(_i){throw de.push(j+"type="+encodeURIComponent("_badmap")),_i}}catch{A&&A(Cn)}}if(qt){nt=de.join("&");break t}}nt=void 0}return c=c.i.splice(0,v),p.G=c,nt}function Ru(c){if(!c.g&&!c.v){c.Y=1;var p=c.Da;ut||b(),dt||(ut(),dt=!0),C.add(p,c),c.A=0}}function As(c){return c.g||c.v||c.A>=3?!1:(c.Y++,c.v=ri(y(c.Da,c),Du(c,c.A)),c.A++,!0)}r.Da=function(){if(this.v=null,Cu(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var c=4*this.T;this.j.info("BP detection timer enabled: "+c),this.B=ri(y(this.Wa,this),c)}},r.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,_e(10),gr(this),Cu(this))};function jo(c){c.B!=null&&(f.clearTimeout(c.B),c.B=null)}function Cu(c){c.g=new jn(c,c.j,"rpc",c.Y),c.u===null&&(c.g.J=c.o),c.g.P=0;var p=Te(c.na);Kt(p,"RID","rpc"),Kt(p,"SID",c.M),Kt(p,"AID",c.K),Kt(p,"CI",c.F?"0":"1"),!c.F&&c.ia&&Kt(p,"TO",c.ia),Kt(p,"TYPE","xmlhttp"),Ss(c,p),c.u&&c.o&&vs(p,c.u,c.o),c.O&&(c.g.H=c.O);var v=c.g;c=c.ba,v.M=1,v.A=gs(Te(p)),v.u=null,v.R=!0,ta(v,c)}r.Va=function(){this.C!=null&&(this.C=null,gr(this),As(this),_e(19))};function ua(c){c.C!=null&&(f.clearTimeout(c.C),c.C=null)}function Iu(c,p){var v=null;if(c.g==p){ua(c),jo(c),c.g=null;var A=2}else if(hi(c.h,p))v=p.G,No(c.h,p),A=1;else return;if(c.I!=0){if(p.o)if(A==1){v=p.u?p.u.length:0,p=Date.now()-p.F;var P=c.D;A=Ws(),Oe(A,new ii(A,v)),gi(c)}else Ru(c);else if(P=p.m,P==3||P==0&&p.X>0||!(A==1&&la(c,p)||A==2&&As(c)))switch(v&&v.length>0&&(p=c.h,p.i=p.i.concat(v)),P){case 1:yi(c,5);break;case 4:yi(c,10);break;case 3:yi(c,6);break;default:yi(c,2)}}}function Du(c,p){let v=c.Qa+Math.floor(Math.random()*c.Za);return c.isActive()||(v*=2),v*p}function yi(c,p){if(c.j.info("Error code "+p),p==2){var v=y(c.bb,c),A=c.Ua;const P=!A;A=new mn(A||"//www.google.com/images/cleardot.gif"),f.location&&f.location.protocol=="http"||Pe(A,"https"),gs(A),P?Hn(A.toString(),v):Po(A.toString(),v)}else _e(2);c.I=0,c.l&&c.l.pa(p),Nu(c),oa(c)}r.bb=function(c){c?(this.j.info("Successfully pinged google.com"),_e(2)):(this.j.info("Failed to ping google.com"),_e(1))};function Nu(c){if(c.I=0,c.ja=[],c.l){const p=Oo(c.h);(p.length!=0||c.i.length!=0)&&(G(c.ja,p),G(c.ja,c.i),c.h.i.length=0,U(c.i),c.i.length=0),c.l.oa()}}function Ou(c,p,v){var A=v instanceof mn?Te(v):new mn(v);if(A.g!="")p&&(A.g=p+"."+A.g),ur(A,A.u);else{var P=f.location;A=P.protocol,p=p?p+"."+P.hostname:P.hostname,P=+P.port;const j=new mn(null);A&&Pe(j,A),p&&(j.g=p),P&&ur(j,P),v&&(j.h=v),A=j}return v=c.G,p=c.wa,v&&p&&Kt(A,v,p),Kt(A,"VER",c.ka),Ss(c,A),A}function Mu(c,p,v){if(p&&!c.L)throw Error("Can't create secondary domain capable XhrIo object.");return p=c.Aa&&!c.ma?new Xt(new di({ab:v})):new Xt(c.ma),p.Fa(c.L),p}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function Vu(){}r=Vu.prototype,r.ra=function(){},r.qa=function(){},r.pa=function(){},r.oa=function(){},r.isActive=function(){return!0},r.Ka=function(){};function yr(){}yr.prototype.g=function(c,p){return new en(c,p)};function en(c,p){ye.call(this),this.g=new pr(p),this.l=c,this.h=p&&p.messageUrlParams||null,c=p&&p.messageHeaders||null,p&&p.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=p&&p.initMessageHeaders||null,p&&p.messageContentType&&(c?c["X-WebChannel-Content-Type"]=p.messageContentType:c={"X-WebChannel-Content-Type":p.messageContentType}),p&&p.sa&&(c?c["X-WebChannel-Client-Profile"]=p.sa:c={"X-WebChannel-Client-Profile":p.sa}),this.g.U=c,(c=p&&p.Qb)&&!I(c)&&(this.g.u=c),this.A=p&&p.supportsCrossDomainXhr||!1,this.v=p&&p.sendRawJson||!1,(p=p&&p.httpSessionIdParam)&&!I(p)&&(this.g.G=p,c=this.h,c!==null&&p in c&&(c=this.h,p in c&&delete c[p])),this.j=new Pi(this)}S(en,ye),en.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},en.prototype.close=function(){zo(this.g)},en.prototype.o=function(c){var p=this.g;if(typeof c=="string"){var v={};v.__data__=c,c=v}else this.v&&(v={},v.__data__=lr(c),c=v);p.i.push(new Ee(p.Ya++,c)),p.I==3&&gi(p)},en.prototype.N=function(){this.g.l=null,delete this.j,zo(this.g),delete this.g,en.Z.N.call(this)};function xu(c){Be.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var p=c.__sm__;if(p){t:{for(const v in p){c=v;break t}c=void 0}(this.i=c)&&(c=this.i,p=p!==null&&c in p?p[c]:void 0),this.data=p}else this.data=c}S(xu,Be);function Lu(){An.call(this),this.status=1}S(Lu,An);function Pi(c){this.g=c}S(Pi,Vu),Pi.prototype.ra=function(){Oe(this.g,"a")},Pi.prototype.qa=function(c){Oe(this.g,new xu(c))},Pi.prototype.pa=function(c){Oe(this.g,new Lu)},Pi.prototype.oa=function(){Oe(this.g,"b")},yr.prototype.createWebChannel=yr.prototype.g,en.prototype.send=en.prototype.o,en.prototype.open=en.prototype.m,en.prototype.close=en.prototype.close,g0=function(){return new yr},p0=function(){return Ws()},m0=fe,Im={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},ms.NO_ERROR=0,ms.TIMEOUT=8,ms.HTTP_ERROR=6,th=ms,wo.COMPLETE="complete",d0=wo,du.EventType=zn,zn.OPEN="a",zn.CLOSE="b",zn.ERROR="c",zn.MESSAGE="d",ye.prototype.listen=ye.prototype.J,Dl=du,Xt.prototype.listenOnce=Xt.prototype.K,Xt.prototype.getLastError=Xt.prototype.Ha,Xt.prototype.getLastErrorCode=Xt.prototype.ya,Xt.prototype.getStatus=Xt.prototype.ca,Xt.prototype.getResponseJson=Xt.prototype.La,Xt.prototype.getResponseText=Xt.prototype.la,Xt.prototype.send=Xt.prototype.ea,Xt.prototype.setWithCredentials=Xt.prototype.Fa,f0=Xt}).apply(typeof jc<"u"?jc:typeof self<"u"?self:typeof window<"u"?window:{});const sE="@firebase/firestore",aE="4.9.2";class Je{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}Je.UNAUTHENTICATED=new Je(null),Je.GOOGLE_CREDENTIALS=new Je("google-credentials-uid"),Je.FIRST_PARTY=new Je("first-party-uid"),Je.MOCK_USER=new Je("mock-user");let po="12.3.0";const Gs=new tp("@firebase/firestore");function Ba(){return Gs.logLevel}function ot(r,...t){if(Gs.logLevel<=Vt.DEBUG){const n=t.map(fp);Gs.debug(`Firestore (${po}): ${r}`,...n)}}function rr(r,...t){if(Gs.logLevel<=Vt.ERROR){const n=t.map(fp);Gs.error(`Firestore (${po}): ${r}`,...n)}}function to(r,...t){if(Gs.logLevel<=Vt.WARN){const n=t.map(fp);Gs.warn(`Firestore (${po}): ${r}`,...n)}}function fp(r){if(typeof r=="string")return r;try{return(function(n){return JSON.stringify(n)})(r)}catch{return r}}function Et(r,t,n){let s="Unexpected state";typeof t=="string"?s=t:n=t,y0(r,s,n)}function y0(r,t,n){let s=`FIRESTORE (${po}) INTERNAL ASSERTION FAILED: ${t} (ID: ${r.toString(16)})`;if(n!==void 0)try{s+=" CONTEXT: "+JSON.stringify(n)}catch{s+=" CONTEXT: "+n}throw rr(s),new Error(s)}function Ft(r,t,n,s){let o="Unexpected state";typeof n=="string"?o=n:s=n,r||y0(t,o,s)}function bt(r,t){return r}const Z={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class at extends ar{constructor(t,n){super(t,n),this.code=t,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Jr{constructor(){this.promise=new Promise(((t,n)=>{this.resolve=t,this.reject=n}))}}class _0{constructor(t,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class JI{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,n){t.enqueueRetryable((()=>n(Je.UNAUTHENTICATED)))}shutdown(){}}class ZI{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,n){this.changeListener=n,t.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class WI{constructor(t){this.t=t,this.currentUser=Je.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,n){Ft(this.o===void 0,42304);let s=this.i;const o=g=>this.i!==s?(s=this.i,n(g)):Promise.resolve();let u=new Jr;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new Jr,t.enqueueRetryable((()=>o(this.currentUser)))};const f=()=>{const g=u;t.enqueueRetryable((async()=>{await g.promise,await o(this.currentUser)}))},m=g=>{ot("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=g,this.o&&(this.auth.addAuthTokenListener(this.o),f())};this.t.onInit((g=>m(g))),setTimeout((()=>{if(!this.auth){const g=this.t.getImmediate({optional:!0});g?m(g):(ot("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new Jr)}}),0),f()}getToken(){const t=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((s=>this.i!==t?(ot("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(Ft(typeof s.accessToken=="string",31837,{l:s}),new _0(s.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return Ft(t===null||typeof t=="string",2055,{h:t}),new Je(t)}}class t2{constructor(t,n,s){this.P=t,this.T=n,this.I=s,this.type="FirstParty",this.user=Je.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const t=this.R();return t&&this.A.set("Authorization",t),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class e2{constructor(t,n,s){this.P=t,this.T=n,this.I=s}getToken(){return Promise.resolve(new t2(this.P,this.T,this.I))}start(t,n){t.enqueueRetryable((()=>n(Je.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class oE{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class n2{constructor(t,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Jn(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,n){Ft(this.o===void 0,3512);const s=u=>{u.error!=null&&ot("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const f=u.token!==this.m;return this.m=u.token,ot("FirebaseAppCheckTokenProvider",`Received ${f?"new":"existing"} token.`),f?n(u.token):Promise.resolve()};this.o=u=>{t.enqueueRetryable((()=>s(u)))};const o=u=>{ot("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((u=>o(u))),setTimeout((()=>{if(!this.appCheck){const u=this.V.getImmediate({optional:!0});u?o(u):ot("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new oE(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((n=>n?(Ft(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new oE(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function i2(r){const t=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(r);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(n);else for(let s=0;s<r;s++)n[s]=Math.floor(256*Math.random());return n}class dp{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const o=i2(40);for(let u=0;u<o.length;++u)s.length<20&&o[u]<n&&(s+=t.charAt(o[u]%62))}return s}}function xt(r,t){return r<t?-1:r>t?1:0}function Dm(r,t){const n=Math.min(r.length,t.length);for(let s=0;s<n;s++){const o=r.charAt(s),u=t.charAt(s);if(o!==u)return dm(o)===dm(u)?xt(o,u):dm(o)?1:-1}return xt(r.length,t.length)}const r2=55296,s2=57343;function dm(r){const t=r.charCodeAt(0);return t>=r2&&t<=s2}function eo(r,t,n){return r.length===t.length&&r.every(((s,o)=>n(s,t[o])))}const lE="__name__";class Ai{constructor(t,n,s){n===void 0?n=0:n>t.length&&Et(637,{offset:n,range:t.length}),s===void 0?s=t.length-n:s>t.length-n&&Et(1746,{length:s,range:t.length-n}),this.segments=t,this.offset=n,this.len=s}get length(){return this.len}isEqual(t){return Ai.comparator(this,t)===0}child(t){const n=this.segments.slice(this.offset,this.limit());return t instanceof Ai?t.forEach((s=>{n.push(s)})):n.push(t),this.construct(n)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}forEach(t){for(let n=this.offset,s=this.limit();n<s;n++)t(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,n){const s=Math.min(t.length,n.length);for(let o=0;o<s;o++){const u=Ai.compareSegments(t.get(o),n.get(o));if(u!==0)return u}return xt(t.length,n.length)}static compareSegments(t,n){const s=Ai.isNumericId(t),o=Ai.isNumericId(n);return s&&!o?-1:!s&&o?1:s&&o?Ai.extractNumericId(t).compare(Ai.extractNumericId(n)):Dm(t,n)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return $r.fromString(t.substring(4,t.length-2))}}class te extends Ai{construct(t,n,s){return new te(t,n,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const n=[];for(const s of t){if(s.indexOf("//")>=0)throw new at(Z.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);n.push(...s.split("/").filter((o=>o.length>0)))}return new te(n)}static emptyPath(){return new te([])}}const a2=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Qe extends Ai{construct(t,n,s){return new Qe(t,n,s)}static isValidIdentifier(t){return a2.test(t)}canonicalString(){return this.toArray().map((t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Qe.isValidIdentifier(t)||(t="`"+t+"`"),t))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===lE}static keyField(){return new Qe([lE])}static fromServerFormat(t){const n=[];let s="",o=0;const u=()=>{if(s.length===0)throw new at(Z.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(s),s=""};let f=!1;for(;o<t.length;){const m=t[o];if(m==="\\"){if(o+1===t.length)throw new at(Z.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const g=t[o+1];if(g!=="\\"&&g!=="."&&g!=="`")throw new at(Z.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);s+=g,o+=2}else m==="`"?(f=!f,o++):m!=="."||f?(s+=m,o++):(u(),o++)}if(u(),f)throw new at(Z.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new Qe(n)}static emptyPath(){return new Qe([])}}class pt{constructor(t){this.path=t}static fromPath(t){return new pt(te.fromString(t))}static fromName(t){return new pt(te.fromString(t).popFirst(5))}static empty(){return new pt(te.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&te.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,n){return te.comparator(t.path,n.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new pt(new te(t.slice()))}}function v0(r,t,n){if(!n)throw new at(Z.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${t}.`)}function o2(r,t,n,s){if(t===!0&&s===!0)throw new at(Z.INVALID_ARGUMENT,`${r} and ${n} cannot be used together.`)}function uE(r){if(!pt.isDocumentKey(r))throw new at(Z.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function cE(r){if(pt.isDocumentKey(r))throw new at(Z.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function E0(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}function Ph(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const t=(function(s){return s.constructor?s.constructor.name:null})(r);return t?`a custom ${t} object`:"an object"}}return typeof r=="function"?"a function":Et(12329,{type:typeof r})}function no(r,t){if("_delegate"in r&&(r=r._delegate),!(r instanceof t)){if(t.name===r.constructor.name)throw new at(Z.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Ph(r);throw new at(Z.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${n}`)}}return r}function Ie(r,t){const n={typeString:r};return t&&(n.value=t),n}function iu(r,t){if(!E0(r))throw new at(Z.INVALID_ARGUMENT,"JSON must be an object");let n;for(const s in t)if(t[s]){const o=t[s].typeString,u="value"in t[s]?{value:t[s].value}:void 0;if(!(s in r)){n=`JSON missing required field: '${s}'`;break}const f=r[s];if(o&&typeof f!==o){n=`JSON field '${s}' must be a ${o}.`;break}if(u!==void 0&&f!==u.value){n=`Expected '${s}' field to equal '${u.value}'`;break}}if(n)throw new at(Z.INVALID_ARGUMENT,n);return!0}const hE=-62135596800,fE=1e6;class ie{static now(){return ie.fromMillis(Date.now())}static fromDate(t){return ie.fromMillis(t.getTime())}static fromMillis(t){const n=Math.floor(t/1e3),s=Math.floor((t-1e3*n)*fE);return new ie(n,s)}constructor(t,n){if(this.seconds=t,this.nanoseconds=n,n<0)throw new at(Z.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new at(Z.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<hE)throw new at(Z.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new at(Z.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/fE}_compareTo(t){return this.seconds===t.seconds?xt(this.nanoseconds,t.nanoseconds):xt(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:ie._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(t){if(iu(t,ie._jsonSchema))return new ie(t.seconds,t.nanoseconds)}valueOf(){const t=this.seconds-hE;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}ie._jsonSchemaVersion="firestore/timestamp/1.0",ie._jsonSchema={type:Ie("string",ie._jsonSchemaVersion),seconds:Ie("number"),nanoseconds:Ie("number")};class St{static fromTimestamp(t){return new St(t)}static min(){return new St(new ie(0,0))}static max(){return new St(new ie(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const Hl=-1;function l2(r,t){const n=r.toTimestamp().seconds,s=r.toTimestamp().nanoseconds+1,o=St.fromTimestamp(s===1e9?new ie(n+1,0):new ie(n,s));return new Wr(o,pt.empty(),t)}function u2(r){return new Wr(r.readTime,r.key,Hl)}class Wr{constructor(t,n,s){this.readTime=t,this.documentKey=n,this.largestBatchId=s}static min(){return new Wr(St.min(),pt.empty(),Hl)}static max(){return new Wr(St.max(),pt.empty(),Hl)}}function c2(r,t){let n=r.readTime.compareTo(t.readTime);return n!==0?n:(n=pt.comparator(r.documentKey,t.documentKey),n!==0?n:xt(r.largestBatchId,t.largestBatchId))}const h2="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class f2{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((t=>t()))}}async function go(r){if(r.code!==Z.FAILED_PRECONDITION||r.message!==h2)throw r;ot("LocalStore","Unexpectedly lost primary lease")}class W{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(t){return this.next(void 0,t)}next(t,n){return this.callbackAttached&&Et(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new W(((s,o)=>{this.nextCallback=u=>{this.wrapSuccess(t,u).next(s,o)},this.catchCallback=u=>{this.wrapFailure(n,u).next(s,o)}}))}toPromise(){return new Promise(((t,n)=>{this.next(t,n)}))}wrapUserFunction(t){try{const n=t();return n instanceof W?n:W.resolve(n)}catch(n){return W.reject(n)}}wrapSuccess(t,n){return t?this.wrapUserFunction((()=>t(n))):W.resolve(n)}wrapFailure(t,n){return t?this.wrapUserFunction((()=>t(n))):W.reject(n)}static resolve(t){return new W(((n,s)=>{n(t)}))}static reject(t){return new W(((n,s)=>{s(t)}))}static waitFor(t){return new W(((n,s)=>{let o=0,u=0,f=!1;t.forEach((m=>{++o,m.next((()=>{++u,f&&u===o&&n()}),(g=>s(g)))})),f=!0,u===o&&n()}))}static or(t){let n=W.resolve(!1);for(const s of t)n=n.next((o=>o?W.resolve(o):s()));return n}static forEach(t,n){const s=[];return t.forEach(((o,u)=>{s.push(n.call(this,o,u))})),this.waitFor(s)}static mapArray(t,n){return new W(((s,o)=>{const u=t.length,f=new Array(u);let m=0;for(let g=0;g<u;g++){const y=g;n(t[y]).next((E=>{f[y]=E,++m,m===u&&s(f)}),(E=>o(E)))}}))}static doWhile(t,n){return new W(((s,o)=>{const u=()=>{t()===!0?n().next((()=>{u()}),o):s()};u()}))}}function d2(r){const t=r.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function yo(r){return r.name==="IndexedDbTransactionError"}class Uh{constructor(t,n){this.previousValue=t,n&&(n.sequenceNumberHandler=s=>this.ae(s),this.ue=s=>n.writeSequenceNumber(s))}ae(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ue&&this.ue(t),t}}Uh.ce=-1;const mp=-1;function kh(r){return r==null}function ph(r){return r===0&&1/r==-1/0}function m2(r){return typeof r=="number"&&Number.isInteger(r)&&!ph(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}const T0="";function p2(r){let t="";for(let n=0;n<r.length;n++)t.length>0&&(t=dE(t)),t=g2(r.get(n),t);return dE(t)}function g2(r,t){let n=t;const s=r.length;for(let o=0;o<s;o++){const u=r.charAt(o);switch(u){case"\0":n+="";break;case T0:n+="";break;default:n+=u}}return n}function dE(r){return r+T0+""}function mE(r){let t=0;for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&t++;return t}function os(r,t){for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&t(n,r[n])}function S0(r){for(const t in r)if(Object.prototype.hasOwnProperty.call(r,t))return!1;return!0}class ue{constructor(t,n){this.comparator=t,this.root=n||Ke.EMPTY}insert(t,n){return new ue(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,Ke.BLACK,null,null))}remove(t){return new ue(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Ke.BLACK,null,null))}get(t){let n=this.root;for(;!n.isEmpty();){const s=this.comparator(t,n.key);if(s===0)return n.value;s<0?n=n.left:s>0&&(n=n.right)}return null}indexOf(t){let n=0,s=this.root;for(;!s.isEmpty();){const o=this.comparator(t,s.key);if(o===0)return n+s.left.size;o<0?s=s.left:(n+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal(((n,s)=>(t(n,s),!1)))}toString(){const t=[];return this.inorderTraversal(((n,s)=>(t.push(`${n}:${s}`),!1))),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new qc(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new qc(this.root,t,this.comparator,!1)}getReverseIterator(){return new qc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new qc(this.root,t,this.comparator,!0)}}class qc{constructor(t,n,s,o){this.isReverse=o,this.nodeStack=[];let u=1;for(;!t.isEmpty();)if(u=n?s(t.key,n):1,n&&o&&(u*=-1),u<0)t=this.isReverse?t.left:t.right;else{if(u===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const n={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class Ke{constructor(t,n,s,o,u){this.key=t,this.value=n,this.color=s??Ke.RED,this.left=o??Ke.EMPTY,this.right=u??Ke.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,n,s,o,u){return new Ke(t??this.key,n??this.value,s??this.color,o??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,n,s){let o=this;const u=s(t,o.key);return o=u<0?o.copy(null,null,null,o.left.insert(t,n,s),null):u===0?o.copy(null,n,null,null,null):o.copy(null,null,null,null,o.right.insert(t,n,s)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Ke.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,n){let s,o=this;if(n(t,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(t,n),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),n(t,o.key)===0){if(o.right.isEmpty())return Ke.EMPTY;s=o.right.min(),o=o.copy(s.key,s.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(t,n))}return o.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,Ke.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,Ke.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,n)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Et(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Et(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw Et(27949);return t+(this.isRed()?0:1)}}Ke.EMPTY=null,Ke.RED=!0,Ke.BLACK=!1;Ke.EMPTY=new class{constructor(){this.size=0}get key(){throw Et(57766)}get value(){throw Et(16141)}get color(){throw Et(16727)}get left(){throw Et(29726)}get right(){throw Et(36894)}copy(t,n,s,o,u){return this}insert(t,n,s){return new Ke(t,n)}remove(t,n){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class xe{constructor(t){this.comparator=t,this.data=new ue(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal(((n,s)=>(t(n),!1)))}forEachInRange(t,n){const s=this.data.getIteratorFrom(t[0]);for(;s.hasNext();){const o=s.getNext();if(this.comparator(o.key,t[1])>=0)return;n(o.key)}}forEachWhile(t,n){let s;for(s=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();s.hasNext();)if(!t(s.getNext().key))return}firstAfterOrEqual(t){const n=this.data.getIteratorFrom(t);return n.hasNext()?n.getNext().key:null}getIterator(){return new pE(this.data.getIterator())}getIteratorFrom(t){return new pE(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let n=this;return n.size<t.size&&(n=t,t=this),t.forEach((s=>{n=n.add(s)})),n}isEqual(t){if(!(t instanceof xe)||this.size!==t.size)return!1;const n=this.data.getIterator(),s=t.data.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=s.getNext().key;if(this.comparator(o,u)!==0)return!1}return!0}toArray(){const t=[];return this.forEach((n=>{t.push(n)})),t}toString(){const t=[];return this.forEach((n=>t.push(n))),"SortedSet("+t.toString()+")"}copy(t){const n=new xe(this.comparator);return n.data=t,n}}class pE{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class Sn{constructor(t){this.fields=t,t.sort(Qe.comparator)}static empty(){return new Sn([])}unionWith(t){let n=new xe(Qe.comparator);for(const s of this.fields)n=n.add(s);for(const s of t)n=n.add(s);return new Sn(n.toArray())}covers(t){for(const n of this.fields)if(n.isPrefixOf(t))return!0;return!1}isEqual(t){return eo(this.fields,t.fields,((n,s)=>n.isEqual(s)))}}class A0 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Ye{constructor(t){this.binaryString=t}static fromBase64String(t){const n=(function(o){try{return atob(o)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new A0("Invalid base64 string: "+u):u}})(t);return new Ye(n)}static fromUint8Array(t){const n=(function(o){let u="";for(let f=0;f<o.length;++f)u+=String.fromCharCode(o[f]);return u})(t);return new Ye(n)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const s=new Uint8Array(n.length);for(let o=0;o<n.length;o++)s[o]=n.charCodeAt(o);return s})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return xt(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}Ye.EMPTY_BYTE_STRING=new Ye("");const y2=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ts(r){if(Ft(!!r,39018),typeof r=="string"){let t=0;const n=y2.exec(r);if(Ft(!!n,46558,{timestamp:r}),n[1]){let o=n[1];o=(o+"000000000").substr(0,9),t=Number(o)}const s=new Date(r);return{seconds:Math.floor(s.getTime()/1e3),nanos:t}}return{seconds:ge(r.seconds),nanos:ge(r.nanos)}}function ge(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function es(r){return typeof r=="string"?Ye.fromBase64String(r):Ye.fromUint8Array(r)}const b0="server_timestamp",w0="__type__",R0="__previous_value__",C0="__local_write_time__";function pp(r){return(r?.mapValue?.fields||{})[w0]?.stringValue===b0}function zh(r){const t=r.mapValue.fields[R0];return pp(t)?zh(t):t}function Fl(r){const t=ts(r.mapValue.fields[C0].timestampValue);return new ie(t.seconds,t.nanos)}class _2{constructor(t,n,s,o,u,f,m,g,y,E){this.databaseId=t,this.appId=n,this.persistenceKey=s,this.host=o,this.ssl=u,this.forceLongPolling=f,this.autoDetectLongPolling=m,this.longPollingOptions=g,this.useFetchStreams=y,this.isUsingEmulator=E}}const gh="(default)";class Gl{constructor(t,n){this.projectId=t,this.database=n||gh}static empty(){return new Gl("","")}get isDefaultDatabase(){return this.database===gh}isEqual(t){return t instanceof Gl&&t.projectId===this.projectId&&t.database===this.database}}const I0="__type__",v2="__max__",Hc={mapValue:{}},D0="__vector__",yh="value";function ns(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?pp(r)?4:T2(r)?9007199254740991:E2(r)?10:11:Et(28295,{value:r})}function Oi(r,t){if(r===t)return!0;const n=ns(r);if(n!==ns(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===t.booleanValue;case 4:return Fl(r).isEqual(Fl(t));case 3:return(function(o,u){if(typeof o.timestampValue=="string"&&typeof u.timestampValue=="string"&&o.timestampValue.length===u.timestampValue.length)return o.timestampValue===u.timestampValue;const f=ts(o.timestampValue),m=ts(u.timestampValue);return f.seconds===m.seconds&&f.nanos===m.nanos})(r,t);case 5:return r.stringValue===t.stringValue;case 6:return(function(o,u){return es(o.bytesValue).isEqual(es(u.bytesValue))})(r,t);case 7:return r.referenceValue===t.referenceValue;case 8:return(function(o,u){return ge(o.geoPointValue.latitude)===ge(u.geoPointValue.latitude)&&ge(o.geoPointValue.longitude)===ge(u.geoPointValue.longitude)})(r,t);case 2:return(function(o,u){if("integerValue"in o&&"integerValue"in u)return ge(o.integerValue)===ge(u.integerValue);if("doubleValue"in o&&"doubleValue"in u){const f=ge(o.doubleValue),m=ge(u.doubleValue);return f===m?ph(f)===ph(m):isNaN(f)&&isNaN(m)}return!1})(r,t);case 9:return eo(r.arrayValue.values||[],t.arrayValue.values||[],Oi);case 10:case 11:return(function(o,u){const f=o.mapValue.fields||{},m=u.mapValue.fields||{};if(mE(f)!==mE(m))return!1;for(const g in f)if(f.hasOwnProperty(g)&&(m[g]===void 0||!Oi(f[g],m[g])))return!1;return!0})(r,t);default:return Et(52216,{left:r})}}function Kl(r,t){return(r.values||[]).find((n=>Oi(n,t)))!==void 0}function io(r,t){if(r===t)return 0;const n=ns(r),s=ns(t);if(n!==s)return xt(n,s);switch(n){case 0:case 9007199254740991:return 0;case 1:return xt(r.booleanValue,t.booleanValue);case 2:return(function(u,f){const m=ge(u.integerValue||u.doubleValue),g=ge(f.integerValue||f.doubleValue);return m<g?-1:m>g?1:m===g?0:isNaN(m)?isNaN(g)?0:-1:1})(r,t);case 3:return gE(r.timestampValue,t.timestampValue);case 4:return gE(Fl(r),Fl(t));case 5:return Dm(r.stringValue,t.stringValue);case 6:return(function(u,f){const m=es(u),g=es(f);return m.compareTo(g)})(r.bytesValue,t.bytesValue);case 7:return(function(u,f){const m=u.split("/"),g=f.split("/");for(let y=0;y<m.length&&y<g.length;y++){const E=xt(m[y],g[y]);if(E!==0)return E}return xt(m.length,g.length)})(r.referenceValue,t.referenceValue);case 8:return(function(u,f){const m=xt(ge(u.latitude),ge(f.latitude));return m!==0?m:xt(ge(u.longitude),ge(f.longitude))})(r.geoPointValue,t.geoPointValue);case 9:return yE(r.arrayValue,t.arrayValue);case 10:return(function(u,f){const m=u.fields||{},g=f.fields||{},y=m[yh]?.arrayValue,E=g[yh]?.arrayValue,S=xt(y?.values?.length||0,E?.values?.length||0);return S!==0?S:yE(y,E)})(r.mapValue,t.mapValue);case 11:return(function(u,f){if(u===Hc.mapValue&&f===Hc.mapValue)return 0;if(u===Hc.mapValue)return 1;if(f===Hc.mapValue)return-1;const m=u.fields||{},g=Object.keys(m),y=f.fields||{},E=Object.keys(y);g.sort(),E.sort();for(let S=0;S<g.length&&S<E.length;++S){const w=Dm(g[S],E[S]);if(w!==0)return w;const U=io(m[g[S]],y[E[S]]);if(U!==0)return U}return xt(g.length,E.length)})(r.mapValue,t.mapValue);default:throw Et(23264,{he:n})}}function gE(r,t){if(typeof r=="string"&&typeof t=="string"&&r.length===t.length)return xt(r,t);const n=ts(r),s=ts(t),o=xt(n.seconds,s.seconds);return o!==0?o:xt(n.nanos,s.nanos)}function yE(r,t){const n=r.values||[],s=t.values||[];for(let o=0;o<n.length&&o<s.length;++o){const u=io(n[o],s[o]);if(u)return u}return xt(n.length,s.length)}function ro(r){return Nm(r)}function Nm(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?(function(n){const s=ts(n);return`time(${s.seconds},${s.nanos})`})(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?(function(n){return es(n).toBase64()})(r.bytesValue):"referenceValue"in r?(function(n){return pt.fromName(n).toString()})(r.referenceValue):"geoPointValue"in r?(function(n){return`geo(${n.latitude},${n.longitude})`})(r.geoPointValue):"arrayValue"in r?(function(n){let s="[",o=!0;for(const u of n.values||[])o?o=!1:s+=",",s+=Nm(u);return s+"]"})(r.arrayValue):"mapValue"in r?(function(n){const s=Object.keys(n.fields||{}).sort();let o="{",u=!0;for(const f of s)u?u=!1:o+=",",o+=`${f}:${Nm(n.fields[f])}`;return o+"}"})(r.mapValue):Et(61005,{value:r})}function eh(r){switch(ns(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=zh(r);return t?16+eh(t):16;case 5:return 2*r.stringValue.length;case 6:return es(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return(function(s){return(s.values||[]).reduce(((o,u)=>o+eh(u)),0)})(r.arrayValue);case 10:case 11:return(function(s){let o=0;return os(s.fields,((u,f)=>{o+=u.length+eh(f)})),o})(r.mapValue);default:throw Et(13486,{value:r})}}function _E(r,t){return{referenceValue:`projects/${r.projectId}/databases/${r.database}/documents/${t.path.canonicalString()}`}}function Om(r){return!!r&&"integerValue"in r}function gp(r){return!!r&&"arrayValue"in r}function vE(r){return!!r&&"nullValue"in r}function EE(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function nh(r){return!!r&&"mapValue"in r}function E2(r){return(r?.mapValue?.fields||{})[I0]?.stringValue===D0}function xl(r){if(r.geoPointValue)return{geoPointValue:{...r.geoPointValue}};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:{...r.timestampValue}};if(r.mapValue){const t={mapValue:{fields:{}}};return os(r.mapValue.fields,((n,s)=>t.mapValue.fields[n]=xl(s))),t}if(r.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(r.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=xl(r.arrayValue.values[n]);return t}return{...r}}function T2(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===v2}class fn{constructor(t){this.value=t}static empty(){return new fn({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let n=this.value;for(let s=0;s<t.length-1;++s)if(n=(n.mapValue.fields||{})[t.get(s)],!nh(n))return null;return n=(n.mapValue.fields||{})[t.lastSegment()],n||null}}set(t,n){this.getFieldsMap(t.popLast())[t.lastSegment()]=xl(n)}setAll(t){let n=Qe.emptyPath(),s={},o=[];t.forEach(((f,m)=>{if(!n.isImmediateParentOf(m)){const g=this.getFieldsMap(n);this.applyChanges(g,s,o),s={},o=[],n=m.popLast()}f?s[m.lastSegment()]=xl(f):o.push(m.lastSegment())}));const u=this.getFieldsMap(n);this.applyChanges(u,s,o)}delete(t){const n=this.field(t.popLast());nh(n)&&n.mapValue.fields&&delete n.mapValue.fields[t.lastSegment()]}isEqual(t){return Oi(this.value,t.value)}getFieldsMap(t){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let s=0;s<t.length;++s){let o=n.mapValue.fields[t.get(s)];nh(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},n.mapValue.fields[t.get(s)]=o),n=o}return n.mapValue.fields}applyChanges(t,n,s){os(n,((o,u)=>t[o]=u));for(const o of s)delete t[o]}clone(){return new fn(xl(this.value))}}function N0(r){const t=[];return os(r.fields,((n,s)=>{const o=new Qe([n]);if(nh(s)){const u=N0(s.mapValue).fields;if(u.length===0)t.push(o);else for(const f of u)t.push(o.child(f))}else t.push(o)})),new Sn(t)}class Ze{constructor(t,n,s,o,u,f,m){this.key=t,this.documentType=n,this.version=s,this.readTime=o,this.createTime=u,this.data=f,this.documentState=m}static newInvalidDocument(t){return new Ze(t,0,St.min(),St.min(),St.min(),fn.empty(),0)}static newFoundDocument(t,n,s,o){return new Ze(t,1,n,St.min(),s,o,0)}static newNoDocument(t,n){return new Ze(t,2,n,St.min(),St.min(),fn.empty(),0)}static newUnknownDocument(t,n){return new Ze(t,3,n,St.min(),St.min(),fn.empty(),2)}convertToFoundDocument(t,n){return!this.createTime.isEqual(St.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=fn.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=fn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=St.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof Ze&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new Ze(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class _h{constructor(t,n){this.position=t,this.inclusive=n}}function TE(r,t,n){let s=0;for(let o=0;o<r.position.length;o++){const u=t[o],f=r.position[o];if(u.field.isKeyField()?s=pt.comparator(pt.fromName(f.referenceValue),n.key):s=io(f,n.data.field(u.field)),u.dir==="desc"&&(s*=-1),s!==0)break}return s}function SE(r,t){if(r===null)return t===null;if(t===null||r.inclusive!==t.inclusive||r.position.length!==t.position.length)return!1;for(let n=0;n<r.position.length;n++)if(!Oi(r.position[n],t.position[n]))return!1;return!0}class vh{constructor(t,n="asc"){this.field=t,this.dir=n}}function S2(r,t){return r.dir===t.dir&&r.field.isEqual(t.field)}class O0{}class Ce extends O0{constructor(t,n,s){super(),this.field=t,this.op=n,this.value=s}static create(t,n,s){return t.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(t,n,s):new b2(t,n,s):n==="array-contains"?new C2(t,s):n==="in"?new I2(t,s):n==="not-in"?new D2(t,s):n==="array-contains-any"?new N2(t,s):new Ce(t,n,s)}static createKeyFieldInFilter(t,n,s){return n==="in"?new w2(t,s):new R2(t,s)}matches(t){const n=t.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(io(n,this.value)):n!==null&&ns(this.value)===ns(n)&&this.matchesComparison(io(n,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return Et(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class ti extends O0{constructor(t,n){super(),this.filters=t,this.op=n,this.Pe=null}static create(t,n){return new ti(t,n)}matches(t){return M0(this)?this.filters.find((n=>!n.matches(t)))===void 0:this.filters.find((n=>n.matches(t)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((t,n)=>t.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function M0(r){return r.op==="and"}function V0(r){return A2(r)&&M0(r)}function A2(r){for(const t of r.filters)if(t instanceof ti)return!1;return!0}function Mm(r){if(r instanceof Ce)return r.field.canonicalString()+r.op.toString()+ro(r.value);if(V0(r))return r.filters.map((t=>Mm(t))).join(",");{const t=r.filters.map((n=>Mm(n))).join(",");return`${r.op}(${t})`}}function x0(r,t){return r instanceof Ce?(function(s,o){return o instanceof Ce&&s.op===o.op&&s.field.isEqual(o.field)&&Oi(s.value,o.value)})(r,t):r instanceof ti?(function(s,o){return o instanceof ti&&s.op===o.op&&s.filters.length===o.filters.length?s.filters.reduce(((u,f,m)=>u&&x0(f,o.filters[m])),!0):!1})(r,t):void Et(19439)}function L0(r){return r instanceof Ce?(function(n){return`${n.field.canonicalString()} ${n.op} ${ro(n.value)}`})(r):r instanceof ti?(function(n){return n.op.toString()+" {"+n.getFilters().map(L0).join(" ,")+"}"})(r):"Filter"}class b2 extends Ce{constructor(t,n,s){super(t,n,s),this.key=pt.fromName(s.referenceValue)}matches(t){const n=pt.comparator(t.key,this.key);return this.matchesComparison(n)}}class w2 extends Ce{constructor(t,n){super(t,"in",n),this.keys=P0("in",n)}matches(t){return this.keys.some((n=>n.isEqual(t.key)))}}class R2 extends Ce{constructor(t,n){super(t,"not-in",n),this.keys=P0("not-in",n)}matches(t){return!this.keys.some((n=>n.isEqual(t.key)))}}function P0(r,t){return(t.arrayValue?.values||[]).map((n=>pt.fromName(n.referenceValue)))}class C2 extends Ce{constructor(t,n){super(t,"array-contains",n)}matches(t){const n=t.data.field(this.field);return gp(n)&&Kl(n.arrayValue,this.value)}}class I2 extends Ce{constructor(t,n){super(t,"in",n)}matches(t){const n=t.data.field(this.field);return n!==null&&Kl(this.value.arrayValue,n)}}class D2 extends Ce{constructor(t,n){super(t,"not-in",n)}matches(t){if(Kl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=t.data.field(this.field);return n!==null&&n.nullValue===void 0&&!Kl(this.value.arrayValue,n)}}class N2 extends Ce{constructor(t,n){super(t,"array-contains-any",n)}matches(t){const n=t.data.field(this.field);return!(!gp(n)||!n.arrayValue.values)&&n.arrayValue.values.some((s=>Kl(this.value.arrayValue,s)))}}class O2{constructor(t,n=null,s=[],o=[],u=null,f=null,m=null){this.path=t,this.collectionGroup=n,this.orderBy=s,this.filters=o,this.limit=u,this.startAt=f,this.endAt=m,this.Te=null}}function AE(r,t=null,n=[],s=[],o=null,u=null,f=null){return new O2(r,t,n,s,o,u,f)}function yp(r){const t=bt(r);if(t.Te===null){let n=t.path.canonicalString();t.collectionGroup!==null&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map((s=>Mm(s))).join(","),n+="|ob:",n+=t.orderBy.map((s=>(function(u){return u.field.canonicalString()+u.dir})(s))).join(","),kh(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map((s=>ro(s))).join(",")),t.endAt&&(n+="|ub:",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map((s=>ro(s))).join(",")),t.Te=n}return t.Te}function _p(r,t){if(r.limit!==t.limit||r.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<r.orderBy.length;n++)if(!S2(r.orderBy[n],t.orderBy[n]))return!1;if(r.filters.length!==t.filters.length)return!1;for(let n=0;n<r.filters.length;n++)if(!x0(r.filters[n],t.filters[n]))return!1;return r.collectionGroup===t.collectionGroup&&!!r.path.isEqual(t.path)&&!!SE(r.startAt,t.startAt)&&SE(r.endAt,t.endAt)}function Vm(r){return pt.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}class ru{constructor(t,n=null,s=[],o=[],u=null,f="F",m=null,g=null){this.path=t,this.collectionGroup=n,this.explicitOrderBy=s,this.filters=o,this.limit=u,this.limitType=f,this.startAt=m,this.endAt=g,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function M2(r,t,n,s,o,u,f,m){return new ru(r,t,n,s,o,u,f,m)}function U0(r){return new ru(r)}function bE(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function k0(r){return r.collectionGroup!==null}function Ll(r){const t=bt(r);if(t.Ie===null){t.Ie=[];const n=new Set;for(const u of t.explicitOrderBy)t.Ie.push(u),n.add(u.field.canonicalString());const s=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(f){let m=new xe(Qe.comparator);return f.filters.forEach((g=>{g.getFlattenedFilters().forEach((y=>{y.isInequality()&&(m=m.add(y.field))}))})),m})(t).forEach((u=>{n.has(u.canonicalString())||u.isKeyField()||t.Ie.push(new vh(u,s))})),n.has(Qe.keyField().canonicalString())||t.Ie.push(new vh(Qe.keyField(),s))}return t.Ie}function Ri(r){const t=bt(r);return t.Ee||(t.Ee=V2(t,Ll(r))),t.Ee}function V2(r,t){if(r.limitType==="F")return AE(r.path,r.collectionGroup,t,r.filters,r.limit,r.startAt,r.endAt);{t=t.map((o=>{const u=o.dir==="desc"?"asc":"desc";return new vh(o.field,u)}));const n=r.endAt?new _h(r.endAt.position,r.endAt.inclusive):null,s=r.startAt?new _h(r.startAt.position,r.startAt.inclusive):null;return AE(r.path,r.collectionGroup,t,r.filters,r.limit,n,s)}}function xm(r,t){const n=r.filters.concat([t]);return new ru(r.path,r.collectionGroup,r.explicitOrderBy.slice(),n,r.limit,r.limitType,r.startAt,r.endAt)}function Lm(r,t,n){return new ru(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),t,n,r.startAt,r.endAt)}function Bh(r,t){return _p(Ri(r),Ri(t))&&r.limitType===t.limitType}function z0(r){return`${yp(Ri(r))}|lt:${r.limitType}`}function ja(r){return`Query(target=${(function(n){let s=n.path.canonicalString();return n.collectionGroup!==null&&(s+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(s+=`, filters: [${n.filters.map((o=>L0(o))).join(", ")}]`),kh(n.limit)||(s+=", limit: "+n.limit),n.orderBy.length>0&&(s+=`, orderBy: [${n.orderBy.map((o=>(function(f){return`${f.field.canonicalString()} (${f.dir})`})(o))).join(", ")}]`),n.startAt&&(s+=", startAt: ",s+=n.startAt.inclusive?"b:":"a:",s+=n.startAt.position.map((o=>ro(o))).join(",")),n.endAt&&(s+=", endAt: ",s+=n.endAt.inclusive?"a:":"b:",s+=n.endAt.position.map((o=>ro(o))).join(",")),`Target(${s})`})(Ri(r))}; limitType=${r.limitType})`}function jh(r,t){return t.isFoundDocument()&&(function(s,o){const u=o.key.path;return s.collectionGroup!==null?o.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(u):pt.isDocumentKey(s.path)?s.path.isEqual(u):s.path.isImmediateParentOf(u)})(r,t)&&(function(s,o){for(const u of Ll(s))if(!u.field.isKeyField()&&o.data.field(u.field)===null)return!1;return!0})(r,t)&&(function(s,o){for(const u of s.filters)if(!u.matches(o))return!1;return!0})(r,t)&&(function(s,o){return!(s.startAt&&!(function(f,m,g){const y=TE(f,m,g);return f.inclusive?y<=0:y<0})(s.startAt,Ll(s),o)||s.endAt&&!(function(f,m,g){const y=TE(f,m,g);return f.inclusive?y>=0:y>0})(s.endAt,Ll(s),o))})(r,t)}function x2(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function B0(r){return(t,n)=>{let s=!1;for(const o of Ll(r)){const u=L2(o,t,n);if(u!==0)return u;s=s||o.field.isKeyField()}return 0}}function L2(r,t,n){const s=r.field.isKeyField()?pt.comparator(t.key,n.key):(function(u,f,m){const g=f.data.field(u),y=m.data.field(u);return g!==null&&y!==null?io(g,y):Et(42886)})(r.field,t,n);switch(r.dir){case"asc":return s;case"desc":return-1*s;default:return Et(19790,{direction:r.dir})}}class Ys{constructor(t,n){this.mapKeyFn=t,this.equalsFn=n,this.inner={},this.innerSize=0}get(t){const n=this.mapKeyFn(t),s=this.inner[n];if(s!==void 0){for(const[o,u]of s)if(this.equalsFn(o,t))return u}}has(t){return this.get(t)!==void 0}set(t,n){const s=this.mapKeyFn(t),o=this.inner[s];if(o===void 0)return this.inner[s]=[[t,n]],void this.innerSize++;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],t))return void(o[u]=[t,n]);o.push([t,n]),this.innerSize++}delete(t){const n=this.mapKeyFn(t),s=this.inner[n];if(s===void 0)return!1;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],t))return s.length===1?delete this.inner[n]:s.splice(o,1),this.innerSize--,!0;return!1}forEach(t){os(this.inner,((n,s)=>{for(const[o,u]of s)t(o,u)}))}isEmpty(){return S0(this.inner)}size(){return this.innerSize}}const P2=new ue(pt.comparator);function sr(){return P2}const j0=new ue(pt.comparator);function Nl(...r){let t=j0;for(const n of r)t=t.insert(n.key,n);return t}function q0(r){let t=j0;return r.forEach(((n,s)=>t=t.insert(n,s.overlayedDocument))),t}function js(){return Pl()}function H0(){return Pl()}function Pl(){return new Ys((r=>r.toString()),((r,t)=>r.isEqual(t)))}const U2=new ue(pt.comparator),k2=new xe(pt.comparator);function Lt(...r){let t=k2;for(const n of r)t=t.add(n);return t}const z2=new xe(xt);function B2(){return z2}function vp(r,t){if(r.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:ph(t)?"-0":t}}function F0(r){return{integerValue:""+r}}function j2(r,t){return m2(t)?F0(t):vp(r,t)}class qh{constructor(){this._=void 0}}function q2(r,t,n){return r instanceof Eh?(function(o,u){const f={fields:{[w0]:{stringValue:b0},[C0]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return u&&pp(u)&&(u=zh(u)),u&&(f.fields[R0]=u),{mapValue:f}})(n,t):r instanceof Ql?K0(r,t):r instanceof Yl?Q0(r,t):(function(o,u){const f=G0(o,u),m=wE(f)+wE(o.Ae);return Om(f)&&Om(o.Ae)?F0(m):vp(o.serializer,m)})(r,t)}function H2(r,t,n){return r instanceof Ql?K0(r,t):r instanceof Yl?Q0(r,t):n}function G0(r,t){return r instanceof Th?(function(s){return Om(s)||(function(u){return!!u&&"doubleValue"in u})(s)})(t)?t:{integerValue:0}:null}class Eh extends qh{}class Ql extends qh{constructor(t){super(),this.elements=t}}function K0(r,t){const n=Y0(t);for(const s of r.elements)n.some((o=>Oi(o,s)))||n.push(s);return{arrayValue:{values:n}}}class Yl extends qh{constructor(t){super(),this.elements=t}}function Q0(r,t){let n=Y0(t);for(const s of r.elements)n=n.filter((o=>!Oi(o,s)));return{arrayValue:{values:n}}}class Th extends qh{constructor(t,n){super(),this.serializer=t,this.Ae=n}}function wE(r){return ge(r.integerValue||r.doubleValue)}function Y0(r){return gp(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}function F2(r,t){return r.field.isEqual(t.field)&&(function(s,o){return s instanceof Ql&&o instanceof Ql||s instanceof Yl&&o instanceof Yl?eo(s.elements,o.elements,Oi):s instanceof Th&&o instanceof Th?Oi(s.Ae,o.Ae):s instanceof Eh&&o instanceof Eh})(r.transform,t.transform)}class G2{constructor(t,n){this.version=t,this.transformResults=n}}class Ci{constructor(t,n){this.updateTime=t,this.exists=n}static none(){return new Ci}static exists(t){return new Ci(void 0,t)}static updateTime(t){return new Ci(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function ih(r,t){return r.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(r.updateTime):r.exists===void 0||r.exists===t.isFoundDocument()}class Hh{}function X0(r,t){if(!r.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return r.isNoDocument()?new J0(r.key,Ci.none()):new su(r.key,r.data,Ci.none());{const n=r.data,s=fn.empty();let o=new xe(Qe.comparator);for(let u of t.fields)if(!o.has(u)){let f=n.field(u);f===null&&u.length>1&&(u=u.popLast(),f=n.field(u)),f===null?s.delete(u):s.set(u,f),o=o.add(u)}return new ls(r.key,s,new Sn(o.toArray()),Ci.none())}}function K2(r,t,n){r instanceof su?(function(o,u,f){const m=o.value.clone(),g=CE(o.fieldTransforms,u,f.transformResults);m.setAll(g),u.convertToFoundDocument(f.version,m).setHasCommittedMutations()})(r,t,n):r instanceof ls?(function(o,u,f){if(!ih(o.precondition,u))return void u.convertToUnknownDocument(f.version);const m=CE(o.fieldTransforms,u,f.transformResults),g=u.data;g.setAll($0(o)),g.setAll(m),u.convertToFoundDocument(f.version,g).setHasCommittedMutations()})(r,t,n):(function(o,u,f){u.convertToNoDocument(f.version).setHasCommittedMutations()})(0,t,n)}function Ul(r,t,n,s){return r instanceof su?(function(u,f,m,g){if(!ih(u.precondition,f))return m;const y=u.value.clone(),E=IE(u.fieldTransforms,g,f);return y.setAll(E),f.convertToFoundDocument(f.version,y).setHasLocalMutations(),null})(r,t,n,s):r instanceof ls?(function(u,f,m,g){if(!ih(u.precondition,f))return m;const y=IE(u.fieldTransforms,g,f),E=f.data;return E.setAll($0(u)),E.setAll(y),f.convertToFoundDocument(f.version,E).setHasLocalMutations(),m===null?null:m.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map((S=>S.field)))})(r,t,n,s):(function(u,f,m){return ih(u.precondition,f)?(f.convertToNoDocument(f.version).setHasLocalMutations(),null):m})(r,t,n)}function Q2(r,t){let n=null;for(const s of r.fieldTransforms){const o=t.data.field(s.field),u=G0(s.transform,o||null);u!=null&&(n===null&&(n=fn.empty()),n.set(s.field,u))}return n||null}function RE(r,t){return r.type===t.type&&!!r.key.isEqual(t.key)&&!!r.precondition.isEqual(t.precondition)&&!!(function(s,o){return s===void 0&&o===void 0||!(!s||!o)&&eo(s,o,((u,f)=>F2(u,f)))})(r.fieldTransforms,t.fieldTransforms)&&(r.type===0?r.value.isEqual(t.value):r.type!==1||r.data.isEqual(t.data)&&r.fieldMask.isEqual(t.fieldMask))}class su extends Hh{constructor(t,n,s,o=[]){super(),this.key=t,this.value=n,this.precondition=s,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class ls extends Hh{constructor(t,n,s,o,u=[]){super(),this.key=t,this.data=n,this.fieldMask=s,this.precondition=o,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function $0(r){const t=new Map;return r.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const s=r.data.field(n);t.set(n,s)}})),t}function CE(r,t,n){const s=new Map;Ft(r.length===n.length,32656,{Re:n.length,Ve:r.length});for(let o=0;o<n.length;o++){const u=r[o],f=u.transform,m=t.data.field(u.field);s.set(u.field,H2(f,m,n[o]))}return s}function IE(r,t,n){const s=new Map;for(const o of r){const u=o.transform,f=n.data.field(o.field);s.set(o.field,q2(u,f,t))}return s}class J0 extends Hh{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Y2 extends Hh{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class X2{constructor(t,n,s,o){this.batchId=t,this.localWriteTime=n,this.baseMutations=s,this.mutations=o}applyToRemoteDocument(t,n){const s=n.mutationResults;for(let o=0;o<this.mutations.length;o++){const u=this.mutations[o];u.key.isEqual(t.key)&&K2(u,t,s[o])}}applyToLocalView(t,n){for(const s of this.baseMutations)s.key.isEqual(t.key)&&(n=Ul(s,t,n,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(t.key)&&(n=Ul(s,t,n,this.localWriteTime));return n}applyToLocalDocumentSet(t,n){const s=H0();return this.mutations.forEach((o=>{const u=t.get(o.key),f=u.overlayedDocument;let m=this.applyToLocalView(f,u.mutatedFields);m=n.has(o.key)?null:m;const g=X0(f,m);g!==null&&s.set(o.key,g),f.isValidDocument()||f.convertToNoDocument(St.min())})),s}keys(){return this.mutations.reduce(((t,n)=>t.add(n.key)),Lt())}isEqual(t){return this.batchId===t.batchId&&eo(this.mutations,t.mutations,((n,s)=>RE(n,s)))&&eo(this.baseMutations,t.baseMutations,((n,s)=>RE(n,s)))}}class Ep{constructor(t,n,s,o){this.batch=t,this.commitVersion=n,this.mutationResults=s,this.docVersions=o}static from(t,n,s){Ft(t.mutations.length===s.length,58842,{me:t.mutations.length,fe:s.length});let o=(function(){return U2})();const u=t.mutations;for(let f=0;f<u.length;f++)o=o.insert(u[f].key,s[f].version);return new Ep(t,n,s,o)}}class $2{constructor(t,n){this.largestBatchId=t,this.mutation=n}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class J2{constructor(t,n){this.count=t,this.unchangedNames=n}}var Re,kt;function Z2(r){switch(r){case Z.OK:return Et(64938);case Z.CANCELLED:case Z.UNKNOWN:case Z.DEADLINE_EXCEEDED:case Z.RESOURCE_EXHAUSTED:case Z.INTERNAL:case Z.UNAVAILABLE:case Z.UNAUTHENTICATED:return!1;case Z.INVALID_ARGUMENT:case Z.NOT_FOUND:case Z.ALREADY_EXISTS:case Z.PERMISSION_DENIED:case Z.FAILED_PRECONDITION:case Z.ABORTED:case Z.OUT_OF_RANGE:case Z.UNIMPLEMENTED:case Z.DATA_LOSS:return!0;default:return Et(15467,{code:r})}}function Z0(r){if(r===void 0)return rr("GRPC error has no .code"),Z.UNKNOWN;switch(r){case Re.OK:return Z.OK;case Re.CANCELLED:return Z.CANCELLED;case Re.UNKNOWN:return Z.UNKNOWN;case Re.DEADLINE_EXCEEDED:return Z.DEADLINE_EXCEEDED;case Re.RESOURCE_EXHAUSTED:return Z.RESOURCE_EXHAUSTED;case Re.INTERNAL:return Z.INTERNAL;case Re.UNAVAILABLE:return Z.UNAVAILABLE;case Re.UNAUTHENTICATED:return Z.UNAUTHENTICATED;case Re.INVALID_ARGUMENT:return Z.INVALID_ARGUMENT;case Re.NOT_FOUND:return Z.NOT_FOUND;case Re.ALREADY_EXISTS:return Z.ALREADY_EXISTS;case Re.PERMISSION_DENIED:return Z.PERMISSION_DENIED;case Re.FAILED_PRECONDITION:return Z.FAILED_PRECONDITION;case Re.ABORTED:return Z.ABORTED;case Re.OUT_OF_RANGE:return Z.OUT_OF_RANGE;case Re.UNIMPLEMENTED:return Z.UNIMPLEMENTED;case Re.DATA_LOSS:return Z.DATA_LOSS;default:return Et(39323,{code:r})}}(kt=Re||(Re={}))[kt.OK=0]="OK",kt[kt.CANCELLED=1]="CANCELLED",kt[kt.UNKNOWN=2]="UNKNOWN",kt[kt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",kt[kt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",kt[kt.NOT_FOUND=5]="NOT_FOUND",kt[kt.ALREADY_EXISTS=6]="ALREADY_EXISTS",kt[kt.PERMISSION_DENIED=7]="PERMISSION_DENIED",kt[kt.UNAUTHENTICATED=16]="UNAUTHENTICATED",kt[kt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",kt[kt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",kt[kt.ABORTED=10]="ABORTED",kt[kt.OUT_OF_RANGE=11]="OUT_OF_RANGE",kt[kt.UNIMPLEMENTED=12]="UNIMPLEMENTED",kt[kt.INTERNAL=13]="INTERNAL",kt[kt.UNAVAILABLE=14]="UNAVAILABLE",kt[kt.DATA_LOSS=15]="DATA_LOSS";function W2(){return new TextEncoder}const tD=new $r([4294967295,4294967295],0);function DE(r){const t=W2().encode(r),n=new h0;return n.update(t),new Uint8Array(n.digest())}function NE(r){const t=new DataView(r.buffer),n=t.getUint32(0,!0),s=t.getUint32(4,!0),o=t.getUint32(8,!0),u=t.getUint32(12,!0);return[new $r([n,s],0),new $r([o,u],0)]}class Tp{constructor(t,n,s){if(this.bitmap=t,this.padding=n,this.hashCount=s,n<0||n>=8)throw new Ol(`Invalid padding: ${n}`);if(s<0)throw new Ol(`Invalid hash count: ${s}`);if(t.length>0&&this.hashCount===0)throw new Ol(`Invalid hash count: ${s}`);if(t.length===0&&n!==0)throw new Ol(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*t.length-n,this.pe=$r.fromNumber(this.ge)}ye(t,n,s){let o=t.add(n.multiply($r.fromNumber(s)));return o.compare(tD)===1&&(o=new $r([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.ge===0)return!1;const n=DE(t),[s,o]=NE(n);for(let u=0;u<this.hashCount;u++){const f=this.ye(s,o,u);if(!this.we(f))return!1}return!0}static create(t,n,s){const o=t%8==0?0:8-t%8,u=new Uint8Array(Math.ceil(t/8)),f=new Tp(u,o,n);return s.forEach((m=>f.insert(m))),f}insert(t){if(this.ge===0)return;const n=DE(t),[s,o]=NE(n);for(let u=0;u<this.hashCount;u++){const f=this.ye(s,o,u);this.Se(f)}}Se(t){const n=Math.floor(t/8),s=t%8;this.bitmap[n]|=1<<s}}class Ol extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Fh{constructor(t,n,s,o,u){this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=s,this.documentUpdates=o,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(t,n,s){const o=new Map;return o.set(t,au.createSynthesizedTargetChangeForCurrentChange(t,n,s)),new Fh(St.min(),o,new ue(xt),sr(),Lt())}}class au{constructor(t,n,s,o,u){this.resumeToken=t,this.current=n,this.addedDocuments=s,this.modifiedDocuments=o,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(t,n,s){return new au(s,n,Lt(),Lt(),Lt())}}class rh{constructor(t,n,s,o){this.be=t,this.removedTargetIds=n,this.key=s,this.De=o}}class W0{constructor(t,n){this.targetId=t,this.Ce=n}}class tS{constructor(t,n,s=Ye.EMPTY_BYTE_STRING,o=null){this.state=t,this.targetIds=n,this.resumeToken=s,this.cause=o}}class OE{constructor(){this.ve=0,this.Fe=ME(),this.Me=Ye.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(t){t.approximateByteSize()>0&&(this.Oe=!0,this.Me=t)}ke(){let t=Lt(),n=Lt(),s=Lt();return this.Fe.forEach(((o,u)=>{switch(u){case 0:t=t.add(o);break;case 2:n=n.add(o);break;case 1:s=s.add(o);break;default:Et(38017,{changeType:u})}})),new au(this.Me,this.xe,t,n,s)}qe(){this.Oe=!1,this.Fe=ME()}Qe(t,n){this.Oe=!0,this.Fe=this.Fe.insert(t,n)}$e(t){this.Oe=!0,this.Fe=this.Fe.remove(t)}Ue(){this.ve+=1}Ke(){this.ve-=1,Ft(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class eD{constructor(t){this.Ge=t,this.ze=new Map,this.je=sr(),this.Je=Fc(),this.He=Fc(),this.Ye=new ue(xt)}Ze(t){for(const n of t.be)t.De&&t.De.isFoundDocument()?this.Xe(n,t.De):this.et(n,t.key,t.De);for(const n of t.removedTargetIds)this.et(n,t.key,t.De)}tt(t){this.forEachTarget(t,(n=>{const s=this.nt(n);switch(t.state){case 0:this.rt(n)&&s.Le(t.resumeToken);break;case 1:s.Ke(),s.Ne||s.qe(),s.Le(t.resumeToken);break;case 2:s.Ke(),s.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(s.We(),s.Le(t.resumeToken));break;case 4:this.rt(n)&&(this.it(n),s.Le(t.resumeToken));break;default:Et(56790,{state:t.state})}}))}forEachTarget(t,n){t.targetIds.length>0?t.targetIds.forEach(n):this.ze.forEach(((s,o)=>{this.rt(o)&&n(o)}))}st(t){const n=t.targetId,s=t.Ce.count,o=this.ot(n);if(o){const u=o.target;if(Vm(u))if(s===0){const f=new pt(u.path);this.et(n,f,Ze.newNoDocument(f,St.min()))}else Ft(s===1,20013,{expectedCount:s});else{const f=this._t(n);if(f!==s){const m=this.ut(t),g=m?this.ct(m,t,f):1;if(g!==0){this.it(n);const y=g===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,y)}}}}}ut(t){const n=t.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:s="",padding:o=0},hashCount:u=0}=n;let f,m;try{f=es(s).toUint8Array()}catch(g){if(g instanceof A0)return to("Decoding the base64 bloom filter in existence filter failed ("+g.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw g}try{m=new Tp(f,o,u)}catch(g){return to(g instanceof Ol?"BloomFilter error: ":"Applying bloom filter failed: ",g),null}return m.ge===0?null:m}ct(t,n,s){return n.Ce.count===s-this.Pt(t,n.targetId)?0:2}Pt(t,n){const s=this.Ge.getRemoteKeysForTarget(n);let o=0;return s.forEach((u=>{const f=this.Ge.ht(),m=`projects/${f.projectId}/databases/${f.database}/documents/${u.path.canonicalString()}`;t.mightContain(m)||(this.et(n,u,null),o++)})),o}Tt(t){const n=new Map;this.ze.forEach(((u,f)=>{const m=this.ot(f);if(m){if(u.current&&Vm(m.target)){const g=new pt(m.target.path);this.It(g).has(f)||this.Et(f,g)||this.et(f,g,Ze.newNoDocument(g,t))}u.Be&&(n.set(f,u.ke()),u.qe())}}));let s=Lt();this.He.forEach(((u,f)=>{let m=!0;f.forEachWhile((g=>{const y=this.ot(g);return!y||y.purpose==="TargetPurposeLimboResolution"||(m=!1,!1)})),m&&(s=s.add(u))})),this.je.forEach(((u,f)=>f.setReadTime(t)));const o=new Fh(t,n,this.Ye,this.je,s);return this.je=sr(),this.Je=Fc(),this.He=Fc(),this.Ye=new ue(xt),o}Xe(t,n){if(!this.rt(t))return;const s=this.Et(t,n.key)?2:0;this.nt(t).Qe(n.key,s),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(t)),this.He=this.He.insert(n.key,this.dt(n.key).add(t))}et(t,n,s){if(!this.rt(t))return;const o=this.nt(t);this.Et(t,n)?o.Qe(n,1):o.$e(n),this.He=this.He.insert(n,this.dt(n).delete(t)),this.He=this.He.insert(n,this.dt(n).add(t)),s&&(this.je=this.je.insert(n,s))}removeTarget(t){this.ze.delete(t)}_t(t){const n=this.nt(t).ke();return this.Ge.getRemoteKeysForTarget(t).size+n.addedDocuments.size-n.removedDocuments.size}Ue(t){this.nt(t).Ue()}nt(t){let n=this.ze.get(t);return n||(n=new OE,this.ze.set(t,n)),n}dt(t){let n=this.He.get(t);return n||(n=new xe(xt),this.He=this.He.insert(t,n)),n}It(t){let n=this.Je.get(t);return n||(n=new xe(xt),this.Je=this.Je.insert(t,n)),n}rt(t){const n=this.ot(t)!==null;return n||ot("WatchChangeAggregator","Detected inactive target",t),n}ot(t){const n=this.ze.get(t);return n&&n.Ne?null:this.Ge.At(t)}it(t){this.ze.set(t,new OE),this.Ge.getRemoteKeysForTarget(t).forEach((n=>{this.et(t,n,null)}))}Et(t,n){return this.Ge.getRemoteKeysForTarget(t).has(n)}}function Fc(){return new ue(pt.comparator)}function ME(){return new ue(pt.comparator)}const nD={asc:"ASCENDING",desc:"DESCENDING"},iD={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},rD={and:"AND",or:"OR"};class sD{constructor(t,n){this.databaseId=t,this.useProto3Json=n}}function Pm(r,t){return r.useProto3Json||kh(t)?t:{value:t}}function Sh(r,t){return r.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function eS(r,t){return r.useProto3Json?t.toBase64():t.toUint8Array()}function aD(r,t){return Sh(r,t.toTimestamp())}function Ii(r){return Ft(!!r,49232),St.fromTimestamp((function(n){const s=ts(n);return new ie(s.seconds,s.nanos)})(r))}function Sp(r,t){return Um(r,t).canonicalString()}function Um(r,t){const n=(function(o){return new te(["projects",o.projectId,"databases",o.database])})(r).child("documents");return t===void 0?n:n.child(t)}function nS(r){const t=te.fromString(r);return Ft(oS(t),10190,{key:t.toString()}),t}function km(r,t){return Sp(r.databaseId,t.path)}function mm(r,t){const n=nS(t);if(n.get(1)!==r.databaseId.projectId)throw new at(Z.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+r.databaseId.projectId);if(n.get(3)!==r.databaseId.database)throw new at(Z.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+r.databaseId.database);return new pt(rS(n))}function iS(r,t){return Sp(r.databaseId,t)}function oD(r){const t=nS(r);return t.length===4?te.emptyPath():rS(t)}function zm(r){return new te(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function rS(r){return Ft(r.length>4&&r.get(4)==="documents",29091,{key:r.toString()}),r.popFirst(5)}function VE(r,t,n){return{name:km(r,t),fields:n.value.mapValue.fields}}function lD(r,t){let n;if("targetChange"in t){t.targetChange;const s=(function(y){return y==="NO_CHANGE"?0:y==="ADD"?1:y==="REMOVE"?2:y==="CURRENT"?3:y==="RESET"?4:Et(39313,{state:y})})(t.targetChange.targetChangeType||"NO_CHANGE"),o=t.targetChange.targetIds||[],u=(function(y,E){return y.useProto3Json?(Ft(E===void 0||typeof E=="string",58123),Ye.fromBase64String(E||"")):(Ft(E===void 0||E instanceof Buffer||E instanceof Uint8Array,16193),Ye.fromUint8Array(E||new Uint8Array))})(r,t.targetChange.resumeToken),f=t.targetChange.cause,m=f&&(function(y){const E=y.code===void 0?Z.UNKNOWN:Z0(y.code);return new at(E,y.message||"")})(f);n=new tS(s,o,u,m||null)}else if("documentChange"in t){t.documentChange;const s=t.documentChange;s.document,s.document.name,s.document.updateTime;const o=mm(r,s.document.name),u=Ii(s.document.updateTime),f=s.document.createTime?Ii(s.document.createTime):St.min(),m=new fn({mapValue:{fields:s.document.fields}}),g=Ze.newFoundDocument(o,u,f,m),y=s.targetIds||[],E=s.removedTargetIds||[];n=new rh(y,E,g.key,g)}else if("documentDelete"in t){t.documentDelete;const s=t.documentDelete;s.document;const o=mm(r,s.document),u=s.readTime?Ii(s.readTime):St.min(),f=Ze.newNoDocument(o,u),m=s.removedTargetIds||[];n=new rh([],m,f.key,f)}else if("documentRemove"in t){t.documentRemove;const s=t.documentRemove;s.document;const o=mm(r,s.document),u=s.removedTargetIds||[];n=new rh([],u,o,null)}else{if(!("filter"in t))return Et(11601,{Rt:t});{t.filter;const s=t.filter;s.targetId;const{count:o=0,unchangedNames:u}=s,f=new J2(o,u),m=s.targetId;n=new W0(m,f)}}return n}function uD(r,t){let n;if(t instanceof su)n={update:VE(r,t.key,t.value)};else if(t instanceof J0)n={delete:km(r,t.key)};else if(t instanceof ls)n={update:VE(r,t.key,t.data),updateMask:_D(t.fieldMask)};else{if(!(t instanceof Y2))return Et(16599,{Vt:t.type});n={verify:km(r,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map((s=>(function(u,f){const m=f.transform;if(m instanceof Eh)return{fieldPath:f.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(m instanceof Ql)return{fieldPath:f.field.canonicalString(),appendMissingElements:{values:m.elements}};if(m instanceof Yl)return{fieldPath:f.field.canonicalString(),removeAllFromArray:{values:m.elements}};if(m instanceof Th)return{fieldPath:f.field.canonicalString(),increment:m.Ae};throw Et(20930,{transform:f.transform})})(0,s)))),t.precondition.isNone||(n.currentDocument=(function(o,u){return u.updateTime!==void 0?{updateTime:aD(o,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:Et(27497)})(r,t.precondition)),n}function cD(r,t){return r&&r.length>0?(Ft(t!==void 0,14353),r.map((n=>(function(o,u){let f=o.updateTime?Ii(o.updateTime):Ii(u);return f.isEqual(St.min())&&(f=Ii(u)),new G2(f,o.transformResults||[])})(n,t)))):[]}function hD(r,t){return{documents:[iS(r,t.path)]}}function fD(r,t){const n={structuredQuery:{}},s=t.path;let o;t.collectionGroup!==null?(o=s,n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(o=s.popLast(),n.structuredQuery.from=[{collectionId:s.lastSegment()}]),n.parent=iS(r,o);const u=(function(y){if(y.length!==0)return aS(ti.create(y,"and"))})(t.filters);u&&(n.structuredQuery.where=u);const f=(function(y){if(y.length!==0)return y.map((E=>(function(w){return{field:qa(w.field),direction:pD(w.dir)}})(E)))})(t.orderBy);f&&(n.structuredQuery.orderBy=f);const m=Pm(r,t.limit);return m!==null&&(n.structuredQuery.limit=m),t.startAt&&(n.structuredQuery.startAt=(function(y){return{before:y.inclusive,values:y.position}})(t.startAt)),t.endAt&&(n.structuredQuery.endAt=(function(y){return{before:!y.inclusive,values:y.position}})(t.endAt)),{ft:n,parent:o}}function dD(r){let t=oD(r.parent);const n=r.structuredQuery,s=n.from?n.from.length:0;let o=null;if(s>0){Ft(s===1,65062);const E=n.from[0];E.allDescendants?o=E.collectionId:t=t.child(E.collectionId)}let u=[];n.where&&(u=(function(S){const w=sS(S);return w instanceof ti&&V0(w)?w.getFilters():[w]})(n.where));let f=[];n.orderBy&&(f=(function(S){return S.map((w=>(function(G){return new vh(Ha(G.field),(function(q){switch(q){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(G.direction))})(w)))})(n.orderBy));let m=null;n.limit&&(m=(function(S){let w;return w=typeof S=="object"?S.value:S,kh(w)?null:w})(n.limit));let g=null;n.startAt&&(g=(function(S){const w=!!S.before,U=S.values||[];return new _h(U,w)})(n.startAt));let y=null;return n.endAt&&(y=(function(S){const w=!S.before,U=S.values||[];return new _h(U,w)})(n.endAt)),M2(t,o,f,u,m,"F",g,y)}function mD(r,t){const n=(function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Et(28987,{purpose:o})}})(t.purpose);return n==null?null:{"goog-listen-tags":n}}function sS(r){return r.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const s=Ha(n.unaryFilter.field);return Ce.create(s,"==",{doubleValue:NaN});case"IS_NULL":const o=Ha(n.unaryFilter.field);return Ce.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=Ha(n.unaryFilter.field);return Ce.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const f=Ha(n.unaryFilter.field);return Ce.create(f,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Et(61313);default:return Et(60726)}})(r):r.fieldFilter!==void 0?(function(n){return Ce.create(Ha(n.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Et(58110);default:return Et(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(r):r.compositeFilter!==void 0?(function(n){return ti.create(n.compositeFilter.filters.map((s=>sS(s))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return Et(1026)}})(n.compositeFilter.op))})(r):Et(30097,{filter:r})}function pD(r){return nD[r]}function gD(r){return iD[r]}function yD(r){return rD[r]}function qa(r){return{fieldPath:r.canonicalString()}}function Ha(r){return Qe.fromServerFormat(r.fieldPath)}function aS(r){return r instanceof Ce?(function(n){if(n.op==="=="){if(EE(n.value))return{unaryFilter:{field:qa(n.field),op:"IS_NAN"}};if(vE(n.value))return{unaryFilter:{field:qa(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(EE(n.value))return{unaryFilter:{field:qa(n.field),op:"IS_NOT_NAN"}};if(vE(n.value))return{unaryFilter:{field:qa(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:qa(n.field),op:gD(n.op),value:n.value}}})(r):r instanceof ti?(function(n){const s=n.getFilters().map((o=>aS(o)));return s.length===1?s[0]:{compositeFilter:{op:yD(n.op),filters:s}}})(r):Et(54877,{filter:r})}function _D(r){const t=[];return r.fields.forEach((n=>t.push(n.canonicalString()))),{fieldPaths:t}}function oS(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}class Gr{constructor(t,n,s,o,u=St.min(),f=St.min(),m=Ye.EMPTY_BYTE_STRING,g=null){this.target=t,this.targetId=n,this.purpose=s,this.sequenceNumber=o,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=f,this.resumeToken=m,this.expectedCount=g}withSequenceNumber(t){return new Gr(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,n){return new Gr(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new Gr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new Gr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}class vD{constructor(t){this.yt=t}}function ED(r){const t=dD({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?Lm(t,t.limit,"L"):t}class TD{constructor(){this.Cn=new SD}addToCollectionParentIndex(t,n){return this.Cn.add(n),W.resolve()}getCollectionParents(t,n){return W.resolve(this.Cn.getEntries(n))}addFieldIndex(t,n){return W.resolve()}deleteFieldIndex(t,n){return W.resolve()}deleteAllFieldIndexes(t){return W.resolve()}createTargetIndexes(t,n){return W.resolve()}getDocumentsMatchingTarget(t,n){return W.resolve(null)}getIndexType(t,n){return W.resolve(0)}getFieldIndexes(t,n){return W.resolve([])}getNextCollectionGroupToUpdate(t){return W.resolve(null)}getMinOffset(t,n){return W.resolve(Wr.min())}getMinOffsetFromCollectionGroup(t,n){return W.resolve(Wr.min())}updateCollectionGroup(t,n,s){return W.resolve()}updateIndexEntries(t,n){return W.resolve()}}class SD{constructor(){this.index={}}add(t){const n=t.lastSegment(),s=t.popLast(),o=this.index[n]||new xe(te.comparator),u=!o.has(s);return this.index[n]=o.add(s),u}has(t){const n=t.lastSegment(),s=t.popLast(),o=this.index[n];return o&&o.has(s)}getEntries(t){return(this.index[t]||new xe(te.comparator)).toArray()}}const xE={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},lS=41943040;class hn{static withCacheSize(t){return new hn(t,hn.DEFAULT_COLLECTION_PERCENTILE,hn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,n,s){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=s}}hn.DEFAULT_COLLECTION_PERCENTILE=10,hn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,hn.DEFAULT=new hn(lS,hn.DEFAULT_COLLECTION_PERCENTILE,hn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),hn.DISABLED=new hn(-1,0,0);class so{constructor(t){this.ar=t}next(){return this.ar+=2,this.ar}static ur(){return new so(0)}static cr(){return new so(-1)}}const LE="LruGarbageCollector",AD=1048576;function PE([r,t],[n,s]){const o=xt(r,n);return o===0?xt(t,s):o}class bD{constructor(t){this.Ir=t,this.buffer=new xe(PE),this.Er=0}dr(){return++this.Er}Ar(t){const n=[t,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const s=this.buffer.last();PE(n,s)<0&&(this.buffer=this.buffer.delete(s).add(n))}}get maxValue(){return this.buffer.last()[0]}}class wD{constructor(t,n,s){this.garbageCollector=t,this.asyncQueue=n,this.localStore=s,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(t){ot(LE,`Garbage collection scheduled in ${t}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){yo(n)?ot(LE,"Ignoring IndexedDB error during garbage collection: ",n):await go(n)}await this.Vr(3e5)}))}}class RD{constructor(t,n){this.mr=t,this.params=n}calculateTargetCount(t,n){return this.mr.gr(t).next((s=>Math.floor(n/100*s)))}nthSequenceNumber(t,n){if(n===0)return W.resolve(Uh.ce);const s=new bD(n);return this.mr.forEachTarget(t,(o=>s.Ar(o.sequenceNumber))).next((()=>this.mr.pr(t,(o=>s.Ar(o))))).next((()=>s.maxValue))}removeTargets(t,n,s){return this.mr.removeTargets(t,n,s)}removeOrphanedDocuments(t,n){return this.mr.removeOrphanedDocuments(t,n)}collect(t,n){return this.params.cacheSizeCollectionThreshold===-1?(ot("LruGarbageCollector","Garbage collection skipped; disabled"),W.resolve(xE)):this.getCacheSize(t).next((s=>s<this.params.cacheSizeCollectionThreshold?(ot("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),xE):this.yr(t,n)))}getCacheSize(t){return this.mr.getCacheSize(t)}yr(t,n){let s,o,u,f,m,g,y;const E=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next((S=>(S>this.params.maximumSequenceNumbersToCollect?(ot("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${S}`),o=this.params.maximumSequenceNumbersToCollect):o=S,f=Date.now(),this.nthSequenceNumber(t,o)))).next((S=>(s=S,m=Date.now(),this.removeTargets(t,s,n)))).next((S=>(u=S,g=Date.now(),this.removeOrphanedDocuments(t,s)))).next((S=>(y=Date.now(),Ba()<=Vt.DEBUG&&ot("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${f-E}ms
	Determined least recently used ${o} in `+(m-f)+`ms
	Removed ${u} targets in `+(g-m)+`ms
	Removed ${S} documents in `+(y-g)+`ms
Total Duration: ${y-E}ms`),W.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:u,documentsRemoved:S}))))}}function CD(r,t){return new RD(r,t)}class ID{constructor(){this.changes=new Ys((t=>t.toString()),((t,n)=>t.isEqual(n))),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,n){this.assertNotApplied(),this.changes.set(t,Ze.newInvalidDocument(t).setReadTime(n))}getEntry(t,n){this.assertNotApplied();const s=this.changes.get(n);return s!==void 0?W.resolve(s):this.getFromCache(t,n)}getEntries(t,n){return this.getAllFromCache(t,n)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}class DD{constructor(t,n){this.overlayedDocument=t,this.mutatedFields=n}}class ND{constructor(t,n,s,o){this.remoteDocumentCache=t,this.mutationQueue=n,this.documentOverlayCache=s,this.indexManager=o}getDocument(t,n){let s=null;return this.documentOverlayCache.getOverlay(t,n).next((o=>(s=o,this.remoteDocumentCache.getEntry(t,n)))).next((o=>(s!==null&&Ul(s.mutation,o,Sn.empty(),ie.now()),o)))}getDocuments(t,n){return this.remoteDocumentCache.getEntries(t,n).next((s=>this.getLocalViewOfDocuments(t,s,Lt()).next((()=>s))))}getLocalViewOfDocuments(t,n,s=Lt()){const o=js();return this.populateOverlays(t,o,n).next((()=>this.computeViews(t,n,o,s).next((u=>{let f=Nl();return u.forEach(((m,g)=>{f=f.insert(m,g.overlayedDocument)})),f}))))}getOverlayedDocuments(t,n){const s=js();return this.populateOverlays(t,s,n).next((()=>this.computeViews(t,n,s,Lt())))}populateOverlays(t,n,s){const o=[];return s.forEach((u=>{n.has(u)||o.push(u)})),this.documentOverlayCache.getOverlays(t,o).next((u=>{u.forEach(((f,m)=>{n.set(f,m)}))}))}computeViews(t,n,s,o){let u=sr();const f=Pl(),m=(function(){return Pl()})();return n.forEach(((g,y)=>{const E=s.get(y.key);o.has(y.key)&&(E===void 0||E.mutation instanceof ls)?u=u.insert(y.key,y):E!==void 0?(f.set(y.key,E.mutation.getFieldMask()),Ul(E.mutation,y,E.mutation.getFieldMask(),ie.now())):f.set(y.key,Sn.empty())})),this.recalculateAndSaveOverlays(t,u).next((g=>(g.forEach(((y,E)=>f.set(y,E))),n.forEach(((y,E)=>m.set(y,new DD(E,f.get(y)??null)))),m)))}recalculateAndSaveOverlays(t,n){const s=Pl();let o=new ue(((f,m)=>f-m)),u=Lt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,n).next((f=>{for(const m of f)m.keys().forEach((g=>{const y=n.get(g);if(y===null)return;let E=s.get(g)||Sn.empty();E=m.applyToLocalView(y,E),s.set(g,E);const S=(o.get(m.batchId)||Lt()).add(g);o=o.insert(m.batchId,S)}))})).next((()=>{const f=[],m=o.getReverseIterator();for(;m.hasNext();){const g=m.getNext(),y=g.key,E=g.value,S=H0();E.forEach((w=>{if(!u.has(w)){const U=X0(n.get(w),s.get(w));U!==null&&S.set(w,U),u=u.add(w)}})),f.push(this.documentOverlayCache.saveOverlays(t,y,S))}return W.waitFor(f)})).next((()=>s))}recalculateAndSaveOverlaysForDocumentKeys(t,n){return this.remoteDocumentCache.getEntries(t,n).next((s=>this.recalculateAndSaveOverlays(t,s)))}getDocumentsMatchingQuery(t,n,s,o){return(function(f){return pt.isDocumentKey(f.path)&&f.collectionGroup===null&&f.filters.length===0})(n)?this.getDocumentsMatchingDocumentQuery(t,n.path):k0(n)?this.getDocumentsMatchingCollectionGroupQuery(t,n,s,o):this.getDocumentsMatchingCollectionQuery(t,n,s,o)}getNextDocuments(t,n,s,o){return this.remoteDocumentCache.getAllFromCollectionGroup(t,n,s,o).next((u=>{const f=o-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,n,s.largestBatchId,o-u.size):W.resolve(js());let m=Hl,g=u;return f.next((y=>W.forEach(y,((E,S)=>(m<S.largestBatchId&&(m=S.largestBatchId),u.get(E)?W.resolve():this.remoteDocumentCache.getEntry(t,E).next((w=>{g=g.insert(E,w)}))))).next((()=>this.populateOverlays(t,y,u))).next((()=>this.computeViews(t,g,y,Lt()))).next((E=>({batchId:m,changes:q0(E)})))))}))}getDocumentsMatchingDocumentQuery(t,n){return this.getDocument(t,new pt(n)).next((s=>{let o=Nl();return s.isFoundDocument()&&(o=o.insert(s.key,s)),o}))}getDocumentsMatchingCollectionGroupQuery(t,n,s,o){const u=n.collectionGroup;let f=Nl();return this.indexManager.getCollectionParents(t,u).next((m=>W.forEach(m,(g=>{const y=(function(S,w){return new ru(w,null,S.explicitOrderBy.slice(),S.filters.slice(),S.limit,S.limitType,S.startAt,S.endAt)})(n,g.child(u));return this.getDocumentsMatchingCollectionQuery(t,y,s,o).next((E=>{E.forEach(((S,w)=>{f=f.insert(S,w)}))}))})).next((()=>f))))}getDocumentsMatchingCollectionQuery(t,n,s,o){let u;return this.documentOverlayCache.getOverlaysForCollection(t,n.path,s.largestBatchId).next((f=>(u=f,this.remoteDocumentCache.getDocumentsMatchingQuery(t,n,s,u,o)))).next((f=>{u.forEach(((g,y)=>{const E=y.getKey();f.get(E)===null&&(f=f.insert(E,Ze.newInvalidDocument(E)))}));let m=Nl();return f.forEach(((g,y)=>{const E=u.get(g);E!==void 0&&Ul(E.mutation,y,Sn.empty(),ie.now()),jh(n,y)&&(m=m.insert(g,y))})),m}))}}class OD{constructor(t){this.serializer=t,this.Lr=new Map,this.kr=new Map}getBundleMetadata(t,n){return W.resolve(this.Lr.get(n))}saveBundleMetadata(t,n){return this.Lr.set(n.id,(function(o){return{id:o.id,version:o.version,createTime:Ii(o.createTime)}})(n)),W.resolve()}getNamedQuery(t,n){return W.resolve(this.kr.get(n))}saveNamedQuery(t,n){return this.kr.set(n.name,(function(o){return{name:o.name,query:ED(o.bundledQuery),readTime:Ii(o.readTime)}})(n)),W.resolve()}}class MD{constructor(){this.overlays=new ue(pt.comparator),this.qr=new Map}getOverlay(t,n){return W.resolve(this.overlays.get(n))}getOverlays(t,n){const s=js();return W.forEach(n,(o=>this.getOverlay(t,o).next((u=>{u!==null&&s.set(o,u)})))).next((()=>s))}saveOverlays(t,n,s){return s.forEach(((o,u)=>{this.St(t,n,u)})),W.resolve()}removeOverlaysForBatchId(t,n,s){const o=this.qr.get(s);return o!==void 0&&(o.forEach((u=>this.overlays=this.overlays.remove(u))),this.qr.delete(s)),W.resolve()}getOverlaysForCollection(t,n,s){const o=js(),u=n.length+1,f=new pt(n.child("")),m=this.overlays.getIteratorFrom(f);for(;m.hasNext();){const g=m.getNext().value,y=g.getKey();if(!n.isPrefixOf(y.path))break;y.path.length===u&&g.largestBatchId>s&&o.set(g.getKey(),g)}return W.resolve(o)}getOverlaysForCollectionGroup(t,n,s,o){let u=new ue(((y,E)=>y-E));const f=this.overlays.getIterator();for(;f.hasNext();){const y=f.getNext().value;if(y.getKey().getCollectionGroup()===n&&y.largestBatchId>s){let E=u.get(y.largestBatchId);E===null&&(E=js(),u=u.insert(y.largestBatchId,E)),E.set(y.getKey(),y)}}const m=js(),g=u.getIterator();for(;g.hasNext()&&(g.getNext().value.forEach(((y,E)=>m.set(y,E))),!(m.size()>=o)););return W.resolve(m)}St(t,n,s){const o=this.overlays.get(s.key);if(o!==null){const f=this.qr.get(o.largestBatchId).delete(s.key);this.qr.set(o.largestBatchId,f)}this.overlays=this.overlays.insert(s.key,new $2(n,s));let u=this.qr.get(n);u===void 0&&(u=Lt(),this.qr.set(n,u)),this.qr.set(n,u.add(s.key))}}class VD{constructor(){this.sessionToken=Ye.EMPTY_BYTE_STRING}getSessionToken(t){return W.resolve(this.sessionToken)}setSessionToken(t,n){return this.sessionToken=n,W.resolve()}}class Ap{constructor(){this.Qr=new xe(ke.$r),this.Ur=new xe(ke.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(t,n){const s=new ke(t,n);this.Qr=this.Qr.add(s),this.Ur=this.Ur.add(s)}Wr(t,n){t.forEach((s=>this.addReference(s,n)))}removeReference(t,n){this.Gr(new ke(t,n))}zr(t,n){t.forEach((s=>this.removeReference(s,n)))}jr(t){const n=new pt(new te([])),s=new ke(n,t),o=new ke(n,t+1),u=[];return this.Ur.forEachInRange([s,o],(f=>{this.Gr(f),u.push(f.key)})),u}Jr(){this.Qr.forEach((t=>this.Gr(t)))}Gr(t){this.Qr=this.Qr.delete(t),this.Ur=this.Ur.delete(t)}Hr(t){const n=new pt(new te([])),s=new ke(n,t),o=new ke(n,t+1);let u=Lt();return this.Ur.forEachInRange([s,o],(f=>{u=u.add(f.key)})),u}containsKey(t){const n=new ke(t,0),s=this.Qr.firstAfterOrEqual(n);return s!==null&&t.isEqual(s.key)}}class ke{constructor(t,n){this.key=t,this.Yr=n}static $r(t,n){return pt.comparator(t.key,n.key)||xt(t.Yr,n.Yr)}static Kr(t,n){return xt(t.Yr,n.Yr)||pt.comparator(t.key,n.key)}}class xD{constructor(t,n){this.indexManager=t,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new xe(ke.$r)}checkEmpty(t){return W.resolve(this.mutationQueue.length===0)}addMutationBatch(t,n,s,o){const u=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const f=new X2(u,n,s,o);this.mutationQueue.push(f);for(const m of o)this.Zr=this.Zr.add(new ke(m.key,u)),this.indexManager.addToCollectionParentIndex(t,m.key.path.popLast());return W.resolve(f)}lookupMutationBatch(t,n){return W.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(t,n){const s=n+1,o=this.ei(s),u=o<0?0:o;return W.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return W.resolve(this.mutationQueue.length===0?mp:this.tr-1)}getAllMutationBatches(t){return W.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,n){const s=new ke(n,0),o=new ke(n,Number.POSITIVE_INFINITY),u=[];return this.Zr.forEachInRange([s,o],(f=>{const m=this.Xr(f.Yr);u.push(m)})),W.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(t,n){let s=new xe(xt);return n.forEach((o=>{const u=new ke(o,0),f=new ke(o,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([u,f],(m=>{s=s.add(m.Yr)}))})),W.resolve(this.ti(s))}getAllMutationBatchesAffectingQuery(t,n){const s=n.path,o=s.length+1;let u=s;pt.isDocumentKey(u)||(u=u.child(""));const f=new ke(new pt(u),0);let m=new xe(xt);return this.Zr.forEachWhile((g=>{const y=g.key.path;return!!s.isPrefixOf(y)&&(y.length===o&&(m=m.add(g.Yr)),!0)}),f),W.resolve(this.ti(m))}ti(t){const n=[];return t.forEach((s=>{const o=this.Xr(s);o!==null&&n.push(o)})),n}removeMutationBatch(t,n){Ft(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Zr;return W.forEach(n.mutations,(o=>{const u=new ke(o.key,n.batchId);return s=s.delete(u),this.referenceDelegate.markPotentiallyOrphaned(t,o.key)})).next((()=>{this.Zr=s}))}ir(t){}containsKey(t,n){const s=new ke(n,0),o=this.Zr.firstAfterOrEqual(s);return W.resolve(n.isEqual(o&&o.key))}performConsistencyCheck(t){return this.mutationQueue.length,W.resolve()}ni(t,n){return this.ei(t)}ei(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Xr(t){const n=this.ei(t);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}class LD{constructor(t){this.ri=t,this.docs=(function(){return new ue(pt.comparator)})(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,n){const s=n.key,o=this.docs.get(s),u=o?o.size:0,f=this.ri(n);return this.docs=this.docs.insert(s,{document:n.mutableCopy(),size:f}),this.size+=f-u,this.indexManager.addToCollectionParentIndex(t,s.path.popLast())}removeEntry(t){const n=this.docs.get(t);n&&(this.docs=this.docs.remove(t),this.size-=n.size)}getEntry(t,n){const s=this.docs.get(n);return W.resolve(s?s.document.mutableCopy():Ze.newInvalidDocument(n))}getEntries(t,n){let s=sr();return n.forEach((o=>{const u=this.docs.get(o);s=s.insert(o,u?u.document.mutableCopy():Ze.newInvalidDocument(o))})),W.resolve(s)}getDocumentsMatchingQuery(t,n,s,o){let u=sr();const f=n.path,m=new pt(f.child("__id-9223372036854775808__")),g=this.docs.getIteratorFrom(m);for(;g.hasNext();){const{key:y,value:{document:E}}=g.getNext();if(!f.isPrefixOf(y.path))break;y.path.length>f.length+1||c2(u2(E),s)<=0||(o.has(E.key)||jh(n,E))&&(u=u.insert(E.key,E.mutableCopy()))}return W.resolve(u)}getAllFromCollectionGroup(t,n,s,o){Et(9500)}ii(t,n){return W.forEach(this.docs,(s=>n(s)))}newChangeBuffer(t){return new PD(this)}getSize(t){return W.resolve(this.size)}}class PD extends ID{constructor(t){super(),this.Nr=t}applyChanges(t){const n=[];return this.changes.forEach(((s,o)=>{o.isValidDocument()?n.push(this.Nr.addEntry(t,o)):this.Nr.removeEntry(s)})),W.waitFor(n)}getFromCache(t,n){return this.Nr.getEntry(t,n)}getAllFromCache(t,n){return this.Nr.getEntries(t,n)}}class UD{constructor(t){this.persistence=t,this.si=new Ys((n=>yp(n)),_p),this.lastRemoteSnapshotVersion=St.min(),this.highestTargetId=0,this.oi=0,this._i=new Ap,this.targetCount=0,this.ai=so.ur()}forEachTarget(t,n){return this.si.forEach(((s,o)=>n(o))),W.resolve()}getLastRemoteSnapshotVersion(t){return W.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return W.resolve(this.oi)}allocateTargetId(t){return this.highestTargetId=this.ai.next(),W.resolve(this.highestTargetId)}setTargetsMetadata(t,n,s){return s&&(this.lastRemoteSnapshotVersion=s),n>this.oi&&(this.oi=n),W.resolve()}Pr(t){this.si.set(t.target,t);const n=t.targetId;n>this.highestTargetId&&(this.ai=new so(n),this.highestTargetId=n),t.sequenceNumber>this.oi&&(this.oi=t.sequenceNumber)}addTargetData(t,n){return this.Pr(n),this.targetCount+=1,W.resolve()}updateTargetData(t,n){return this.Pr(n),W.resolve()}removeTargetData(t,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,W.resolve()}removeTargets(t,n,s){let o=0;const u=[];return this.si.forEach(((f,m)=>{m.sequenceNumber<=n&&s.get(m.targetId)===null&&(this.si.delete(f),u.push(this.removeMatchingKeysForTargetId(t,m.targetId)),o++)})),W.waitFor(u).next((()=>o))}getTargetCount(t){return W.resolve(this.targetCount)}getTargetData(t,n){const s=this.si.get(n)||null;return W.resolve(s)}addMatchingKeys(t,n,s){return this._i.Wr(n,s),W.resolve()}removeMatchingKeys(t,n,s){this._i.zr(n,s);const o=this.persistence.referenceDelegate,u=[];return o&&n.forEach((f=>{u.push(o.markPotentiallyOrphaned(t,f))})),W.waitFor(u)}removeMatchingKeysForTargetId(t,n){return this._i.jr(n),W.resolve()}getMatchingKeysForTargetId(t,n){const s=this._i.Hr(n);return W.resolve(s)}containsKey(t,n){return W.resolve(this._i.containsKey(n))}}class uS{constructor(t,n){this.ui={},this.overlays={},this.ci=new Uh(0),this.li=!1,this.li=!0,this.hi=new VD,this.referenceDelegate=t(this),this.Pi=new UD(this),this.indexManager=new TD,this.remoteDocumentCache=(function(o){return new LD(o)})((s=>this.referenceDelegate.Ti(s))),this.serializer=new vD(n),this.Ii=new OD(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let n=this.overlays[t.toKey()];return n||(n=new MD,this.overlays[t.toKey()]=n),n}getMutationQueue(t,n){let s=this.ui[t.toKey()];return s||(s=new xD(n,this.referenceDelegate),this.ui[t.toKey()]=s),s}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(t,n,s){ot("MemoryPersistence","Starting transaction:",t);const o=new kD(this.ci.next());return this.referenceDelegate.Ei(),s(o).next((u=>this.referenceDelegate.di(o).next((()=>u)))).toPromise().then((u=>(o.raiseOnCommittedEvent(),u)))}Ai(t,n){return W.or(Object.values(this.ui).map((s=>()=>s.containsKey(t,n))))}}class kD extends f2{constructor(t){super(),this.currentSequenceNumber=t}}class bp{constructor(t){this.persistence=t,this.Ri=new Ap,this.Vi=null}static mi(t){return new bp(t)}get fi(){if(this.Vi)return this.Vi;throw Et(60996)}addReference(t,n,s){return this.Ri.addReference(s,n),this.fi.delete(s.toString()),W.resolve()}removeReference(t,n,s){return this.Ri.removeReference(s,n),this.fi.add(s.toString()),W.resolve()}markPotentiallyOrphaned(t,n){return this.fi.add(n.toString()),W.resolve()}removeTarget(t,n){this.Ri.jr(n.targetId).forEach((o=>this.fi.add(o.toString())));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(t,n.targetId).next((o=>{o.forEach((u=>this.fi.add(u.toString())))})).next((()=>s.removeTargetData(t,n)))}Ei(){this.Vi=new Set}di(t){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return W.forEach(this.fi,(s=>{const o=pt.fromPath(s);return this.gi(t,o).next((u=>{u||n.removeEntry(o,St.min())}))})).next((()=>(this.Vi=null,n.apply(t))))}updateLimboDocument(t,n){return this.gi(t,n).next((s=>{s?this.fi.delete(n.toString()):this.fi.add(n.toString())}))}Ti(t){return 0}gi(t,n){return W.or([()=>W.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(t,n),()=>this.persistence.Ai(t,n)])}}class Ah{constructor(t,n){this.persistence=t,this.pi=new Ys((s=>p2(s.path)),((s,o)=>s.isEqual(o))),this.garbageCollector=CD(this,n)}static mi(t,n){return new Ah(t,n)}Ei(){}di(t){return W.resolve()}forEachTarget(t,n){return this.persistence.getTargetCache().forEachTarget(t,n)}gr(t){const n=this.wr(t);return this.persistence.getTargetCache().getTargetCount(t).next((s=>n.next((o=>s+o))))}wr(t){let n=0;return this.pr(t,(s=>{n++})).next((()=>n))}pr(t,n){return W.forEach(this.pi,((s,o)=>this.br(t,s,o).next((u=>u?W.resolve():n(o)))))}removeTargets(t,n,s){return this.persistence.getTargetCache().removeTargets(t,n,s)}removeOrphanedDocuments(t,n){let s=0;const o=this.persistence.getRemoteDocumentCache(),u=o.newChangeBuffer();return o.ii(t,(f=>this.br(t,f,n).next((m=>{m||(s++,u.removeEntry(f,St.min()))})))).next((()=>u.apply(t))).next((()=>s))}markPotentiallyOrphaned(t,n){return this.pi.set(n,t.currentSequenceNumber),W.resolve()}removeTarget(t,n){const s=n.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,s)}addReference(t,n,s){return this.pi.set(s,t.currentSequenceNumber),W.resolve()}removeReference(t,n,s){return this.pi.set(s,t.currentSequenceNumber),W.resolve()}updateLimboDocument(t,n){return this.pi.set(n,t.currentSequenceNumber),W.resolve()}Ti(t){let n=t.key.toString().length;return t.isFoundDocument()&&(n+=eh(t.data.value)),n}br(t,n,s){return W.or([()=>this.persistence.Ai(t,n),()=>this.persistence.getTargetCache().containsKey(t,n),()=>{const o=this.pi.get(n);return W.resolve(o!==void 0&&o>s)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}class wp{constructor(t,n,s,o){this.targetId=t,this.fromCache=n,this.Es=s,this.ds=o}static As(t,n){let s=Lt(),o=Lt();for(const u of n.docChanges)switch(u.type){case 0:s=s.add(u.doc.key);break;case 1:o=o.add(u.doc.key)}return new wp(t,n.fromCache,s,o)}}class zD{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}class BD{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return yw()?8:d2(We())>0?6:4})()}initialize(t,n){this.ps=t,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(t,n,s,o){const u={result:null};return this.ys(t,n).next((f=>{u.result=f})).next((()=>{if(!u.result)return this.ws(t,n,o,s).next((f=>{u.result=f}))})).next((()=>{if(u.result)return;const f=new zD;return this.Ss(t,n,f).next((m=>{if(u.result=m,this.Vs)return this.bs(t,n,f,m.size)}))})).next((()=>u.result))}bs(t,n,s,o){return s.documentReadCount<this.fs?(Ba()<=Vt.DEBUG&&ot("QueryEngine","SDK will not create cache indexes for query:",ja(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),W.resolve()):(Ba()<=Vt.DEBUG&&ot("QueryEngine","Query:",ja(n),"scans",s.documentReadCount,"local documents and returns",o,"documents as results."),s.documentReadCount>this.gs*o?(Ba()<=Vt.DEBUG&&ot("QueryEngine","The SDK decides to create cache indexes for query:",ja(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,Ri(n))):W.resolve())}ys(t,n){if(bE(n))return W.resolve(null);let s=Ri(n);return this.indexManager.getIndexType(t,s).next((o=>o===0?null:(n.limit!==null&&o===1&&(n=Lm(n,null,"F"),s=Ri(n)),this.indexManager.getDocumentsMatchingTarget(t,s).next((u=>{const f=Lt(...u);return this.ps.getDocuments(t,f).next((m=>this.indexManager.getMinOffset(t,s).next((g=>{const y=this.Ds(n,m);return this.Cs(n,y,f,g.readTime)?this.ys(t,Lm(n,null,"F")):this.vs(t,y,n,g)}))))})))))}ws(t,n,s,o){return bE(n)||o.isEqual(St.min())?W.resolve(null):this.ps.getDocuments(t,s).next((u=>{const f=this.Ds(n,u);return this.Cs(n,f,s,o)?W.resolve(null):(Ba()<=Vt.DEBUG&&ot("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),ja(n)),this.vs(t,f,n,l2(o,Hl)).next((m=>m)))}))}Ds(t,n){let s=new xe(B0(t));return n.forEach(((o,u)=>{jh(t,u)&&(s=s.add(u))})),s}Cs(t,n,s,o){if(t.limit===null)return!1;if(s.size!==n.size)return!0;const u=t.limitType==="F"?n.last():n.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(o)>0)}Ss(t,n,s){return Ba()<=Vt.DEBUG&&ot("QueryEngine","Using full collection scan to execute query:",ja(n)),this.ps.getDocumentsMatchingQuery(t,n,Wr.min(),s)}vs(t,n,s,o){return this.ps.getDocumentsMatchingQuery(t,s,o).next((u=>(n.forEach((f=>{u=u.insert(f.key,f)})),u)))}}const Rp="LocalStore",jD=3e8;class qD{constructor(t,n,s,o){this.persistence=t,this.Fs=n,this.serializer=o,this.Ms=new ue(xt),this.xs=new Ys((u=>yp(u)),_p),this.Os=new Map,this.Ns=t.getRemoteDocumentCache(),this.Pi=t.getTargetCache(),this.Ii=t.getBundleCache(),this.Bs(s)}Bs(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new ND(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>t.collect(n,this.Ms)))}}function HD(r,t,n,s){return new qD(r,t,n,s)}async function cS(r,t){const n=bt(r);return await n.persistence.runTransaction("Handle user change","readonly",(s=>{let o;return n.mutationQueue.getAllMutationBatches(s).next((u=>(o=u,n.Bs(t),n.mutationQueue.getAllMutationBatches(s)))).next((u=>{const f=[],m=[];let g=Lt();for(const y of o){f.push(y.batchId);for(const E of y.mutations)g=g.add(E.key)}for(const y of u){m.push(y.batchId);for(const E of y.mutations)g=g.add(E.key)}return n.localDocuments.getDocuments(s,g).next((y=>({Ls:y,removedBatchIds:f,addedBatchIds:m})))}))}))}function FD(r,t){const n=bt(r);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(s=>{const o=t.batch.keys(),u=n.Ns.newChangeBuffer({trackRemovals:!0});return(function(m,g,y,E){const S=y.batch,w=S.keys();let U=W.resolve();return w.forEach((G=>{U=U.next((()=>E.getEntry(g,G))).next((J=>{const q=y.docVersions.get(G);Ft(q!==null,48541),J.version.compareTo(q)<0&&(S.applyToRemoteDocument(J,y),J.isValidDocument()&&(J.setReadTime(y.commitVersion),E.addEntry(J)))}))})),U.next((()=>m.mutationQueue.removeMutationBatch(g,S)))})(n,s,t,u).next((()=>u.apply(s))).next((()=>n.mutationQueue.performConsistencyCheck(s))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(s,o,t.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,(function(m){let g=Lt();for(let y=0;y<m.mutationResults.length;++y)m.mutationResults[y].transformResults.length>0&&(g=g.add(m.batch.mutations[y].key));return g})(t)))).next((()=>n.localDocuments.getDocuments(s,o)))}))}function hS(r){const t=bt(r);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>t.Pi.getLastRemoteSnapshotVersion(n)))}function GD(r,t){const n=bt(r),s=t.snapshotVersion;let o=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(u=>{const f=n.Ns.newChangeBuffer({trackRemovals:!0});o=n.Ms;const m=[];t.targetChanges.forEach(((E,S)=>{const w=o.get(S);if(!w)return;m.push(n.Pi.removeMatchingKeys(u,E.removedDocuments,S).next((()=>n.Pi.addMatchingKeys(u,E.addedDocuments,S))));let U=w.withSequenceNumber(u.currentSequenceNumber);t.targetMismatches.get(S)!==null?U=U.withResumeToken(Ye.EMPTY_BYTE_STRING,St.min()).withLastLimboFreeSnapshotVersion(St.min()):E.resumeToken.approximateByteSize()>0&&(U=U.withResumeToken(E.resumeToken,s)),o=o.insert(S,U),(function(J,q,tt){return J.resumeToken.approximateByteSize()===0||q.snapshotVersion.toMicroseconds()-J.snapshotVersion.toMicroseconds()>=jD?!0:tt.addedDocuments.size+tt.modifiedDocuments.size+tt.removedDocuments.size>0})(w,U,E)&&m.push(n.Pi.updateTargetData(u,U))}));let g=sr(),y=Lt();if(t.documentUpdates.forEach((E=>{t.resolvedLimboDocuments.has(E)&&m.push(n.persistence.referenceDelegate.updateLimboDocument(u,E))})),m.push(KD(u,f,t.documentUpdates).next((E=>{g=E.ks,y=E.qs}))),!s.isEqual(St.min())){const E=n.Pi.getLastRemoteSnapshotVersion(u).next((S=>n.Pi.setTargetsMetadata(u,u.currentSequenceNumber,s)));m.push(E)}return W.waitFor(m).next((()=>f.apply(u))).next((()=>n.localDocuments.getLocalViewOfDocuments(u,g,y))).next((()=>g))})).then((u=>(n.Ms=o,u)))}function KD(r,t,n){let s=Lt(),o=Lt();return n.forEach((u=>s=s.add(u))),t.getEntries(r,s).next((u=>{let f=sr();return n.forEach(((m,g)=>{const y=u.get(m);g.isFoundDocument()!==y.isFoundDocument()&&(o=o.add(m)),g.isNoDocument()&&g.version.isEqual(St.min())?(t.removeEntry(m,g.readTime),f=f.insert(m,g)):!y.isValidDocument()||g.version.compareTo(y.version)>0||g.version.compareTo(y.version)===0&&y.hasPendingWrites?(t.addEntry(g),f=f.insert(m,g)):ot(Rp,"Ignoring outdated watch update for ",m,". Current version:",y.version," Watch version:",g.version)})),{ks:f,qs:o}}))}function QD(r,t){const n=bt(r);return n.persistence.runTransaction("Get next mutation batch","readonly",(s=>(t===void 0&&(t=mp),n.mutationQueue.getNextMutationBatchAfterBatchId(s,t))))}function YD(r,t){const n=bt(r);return n.persistence.runTransaction("Allocate target","readwrite",(s=>{let o;return n.Pi.getTargetData(s,t).next((u=>u?(o=u,W.resolve(o)):n.Pi.allocateTargetId(s).next((f=>(o=new Gr(t,f,"TargetPurposeListen",s.currentSequenceNumber),n.Pi.addTargetData(s,o).next((()=>o)))))))})).then((s=>{const o=n.Ms.get(s.targetId);return(o===null||s.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(s.targetId,s),n.xs.set(t,s.targetId)),s}))}async function Bm(r,t,n){const s=bt(r),o=s.Ms.get(t),u=n?"readwrite":"readwrite-primary";try{n||await s.persistence.runTransaction("Release target",u,(f=>s.persistence.referenceDelegate.removeTarget(f,o)))}catch(f){if(!yo(f))throw f;ot(Rp,`Failed to update sequence numbers for target ${t}: ${f}`)}s.Ms=s.Ms.remove(t),s.xs.delete(o.target)}function UE(r,t,n){const s=bt(r);let o=St.min(),u=Lt();return s.persistence.runTransaction("Execute query","readwrite",(f=>(function(g,y,E){const S=bt(g),w=S.xs.get(E);return w!==void 0?W.resolve(S.Ms.get(w)):S.Pi.getTargetData(y,E)})(s,f,Ri(t)).next((m=>{if(m)return o=m.lastLimboFreeSnapshotVersion,s.Pi.getMatchingKeysForTargetId(f,m.targetId).next((g=>{u=g}))})).next((()=>s.Fs.getDocumentsMatchingQuery(f,t,n?o:St.min(),n?u:Lt()))).next((m=>(XD(s,x2(t),m),{documents:m,Qs:u})))))}function XD(r,t,n){let s=r.Os.get(t)||St.min();n.forEach(((o,u)=>{u.readTime.compareTo(s)>0&&(s=u.readTime)})),r.Os.set(t,s)}class kE{constructor(){this.activeTargetIds=B2()}zs(t){this.activeTargetIds=this.activeTargetIds.add(t)}js(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Gs(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class $D{constructor(){this.Mo=new kE,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,n,s){}addLocalQueryTarget(t,n=!0){return n&&this.Mo.zs(t),this.xo[t]||"not-current"}updateQueryState(t,n,s){this.xo[t]=n}removeLocalQueryTarget(t){this.Mo.js(t)}isLocalQueryTarget(t){return this.Mo.activeTargetIds.has(t)}clearQueryState(t){delete this.xo[t]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(t){return this.Mo.activeTargetIds.has(t)}start(){return this.Mo=new kE,Promise.resolve()}handleUserChange(t,n,s){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}class JD{Oo(t){}shutdown(){}}const zE="ConnectivityMonitor";class BE{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(t){this.qo.push(t)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){ot(zE,"Network connectivity changed: AVAILABLE");for(const t of this.qo)t(0)}ko(){ot(zE,"Network connectivity changed: UNAVAILABLE");for(const t of this.qo)t(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let Gc=null;function jm(){return Gc===null?Gc=(function(){return 268435456+Math.round(2147483648*Math.random())})():Gc++,"0x"+Gc.toString(16)}const pm="RestConnection",ZD={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class WD{get $o(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const n=t.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+t.host,this.Ko=`projects/${s}/databases/${o}`,this.Wo=this.databaseId.database===gh?`project_id=${s}`:`project_id=${s}&database_id=${o}`}Go(t,n,s,o,u){const f=jm(),m=this.zo(t,n.toUriEncodedString());ot(pm,`Sending RPC '${t}' ${f}:`,m,s);const g={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(g,o,u);const{host:y}=new URL(m),E=co(y);return this.Jo(t,m,g,s,E).then((S=>(ot(pm,`Received RPC '${t}' ${f}: `,S),S)),(S=>{throw to(pm,`RPC '${t}' ${f} failed with error: `,S,"url: ",m,"request:",s),S}))}Ho(t,n,s,o,u,f){return this.Go(t,n,s,o,u)}jo(t,n,s){t["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+po})(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((o,u)=>t[u]=o)),s&&s.headers.forEach(((o,u)=>t[u]=o))}zo(t,n){const s=ZD[t];return`${this.Uo}/v1/${n}:${s}`}terminate(){}}class tN{constructor(t){this.Yo=t.Yo,this.Zo=t.Zo}Xo(t){this.e_=t}t_(t){this.n_=t}r_(t){this.i_=t}onMessage(t){this.s_=t}close(){this.Zo()}send(t){this.Yo(t)}o_(){this.e_()}__(){this.n_()}a_(t){this.i_(t)}u_(t){this.s_(t)}}const $e="WebChannelConnection";class eN extends WD{constructor(t){super(t),this.c_=[],this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}Jo(t,n,s,o,u){const f=jm();return new Promise(((m,g)=>{const y=new f0;y.setWithCredentials(!0),y.listenOnce(d0.COMPLETE,(()=>{try{switch(y.getLastErrorCode()){case th.NO_ERROR:const S=y.getResponseJson();ot($e,`XHR for RPC '${t}' ${f} received:`,JSON.stringify(S)),m(S);break;case th.TIMEOUT:ot($e,`RPC '${t}' ${f} timed out`),g(new at(Z.DEADLINE_EXCEEDED,"Request time out"));break;case th.HTTP_ERROR:const w=y.getStatus();if(ot($e,`RPC '${t}' ${f} failed with status:`,w,"response text:",y.getResponseText()),w>0){let U=y.getResponseJson();Array.isArray(U)&&(U=U[0]);const G=U?.error;if(G&&G.status&&G.message){const J=(function(tt){const et=tt.toLowerCase().replace(/_/g,"-");return Object.values(Z).indexOf(et)>=0?et:Z.UNKNOWN})(G.status);g(new at(J,G.message))}else g(new at(Z.UNKNOWN,"Server responded with status "+y.getStatus()))}else g(new at(Z.UNAVAILABLE,"Connection failed."));break;default:Et(9055,{l_:t,streamId:f,h_:y.getLastErrorCode(),P_:y.getLastError()})}}finally{ot($e,`RPC '${t}' ${f} completed.`)}}));const E=JSON.stringify(o);ot($e,`RPC '${t}' ${f} sending request:`,o),y.send(n,"POST",E,s,15)}))}T_(t,n,s){const o=jm(),u=[this.Uo,"/","google.firestore.v1.Firestore","/",t,"/channel"],f=g0(),m=p0(),g={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},y=this.longPollingOptions.timeoutSeconds;y!==void 0&&(g.longPollingTimeout=Math.round(1e3*y)),this.useFetchStreams&&(g.useFetchStreams=!0),this.jo(g.initMessageHeaders,n,s),g.encodeInitMessageHeaders=!0;const E=u.join("");ot($e,`Creating RPC '${t}' stream ${o}: ${E}`,g);const S=f.createWebChannel(E,g);this.I_(S);let w=!1,U=!1;const G=new tN({Yo:q=>{U?ot($e,`Not sending because RPC '${t}' stream ${o} is closed:`,q):(w||(ot($e,`Opening RPC '${t}' stream ${o} transport.`),S.open(),w=!0),ot($e,`RPC '${t}' stream ${o} sending:`,q),S.send(q))},Zo:()=>S.close()}),J=(q,tt,et)=>{q.listen(tt,(it=>{try{et(it)}catch(_t){setTimeout((()=>{throw _t}),0)}}))};return J(S,Dl.EventType.OPEN,(()=>{U||(ot($e,`RPC '${t}' stream ${o} transport opened.`),G.o_())})),J(S,Dl.EventType.CLOSE,(()=>{U||(U=!0,ot($e,`RPC '${t}' stream ${o} transport closed`),G.a_(),this.E_(S))})),J(S,Dl.EventType.ERROR,(q=>{U||(U=!0,to($e,`RPC '${t}' stream ${o} transport errored. Name:`,q.name,"Message:",q.message),G.a_(new at(Z.UNAVAILABLE,"The operation could not be completed")))})),J(S,Dl.EventType.MESSAGE,(q=>{if(!U){const tt=q.data[0];Ft(!!tt,16349);const et=tt,it=et?.error||et[0]?.error;if(it){ot($e,`RPC '${t}' stream ${o} received error:`,it);const _t=it.status;let ut=(function(b){const R=Re[b];if(R!==void 0)return Z0(R)})(_t),dt=it.message;ut===void 0&&(ut=Z.INTERNAL,dt="Unknown error status: "+_t+" with message "+it.message),U=!0,G.a_(new at(ut,dt)),S.close()}else ot($e,`RPC '${t}' stream ${o} received:`,tt),G.u_(tt)}})),J(m,m0.STAT_EVENT,(q=>{q.stat===Im.PROXY?ot($e,`RPC '${t}' stream ${o} detected buffering proxy`):q.stat===Im.NOPROXY&&ot($e,`RPC '${t}' stream ${o} detected no buffering proxy`)})),setTimeout((()=>{G.__()}),0),G}terminate(){this.c_.forEach((t=>t.close())),this.c_=[]}I_(t){this.c_.push(t)}E_(t){this.c_=this.c_.filter((n=>n===t))}}function gm(){return typeof document<"u"?document:null}function Gh(r){return new sD(r,!0)}class fS{constructor(t,n,s=1e3,o=1.5,u=6e4){this.Mi=t,this.timerId=n,this.d_=s,this.A_=o,this.R_=u,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(t){this.cancel();const n=Math.floor(this.V_+this.y_()),s=Math.max(0,Date.now()-this.f_),o=Math.max(0,n-s);o>0&&ot("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${s} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,o,(()=>(this.f_=Date.now(),t()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}const jE="PersistentStream";class dS{constructor(t,n,s,o,u,f,m,g){this.Mi=t,this.S_=s,this.b_=o,this.connection=u,this.authCredentialsProvider=f,this.appCheckCredentialsProvider=m,this.listener=g,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new fS(t,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(t){this.Q_(),this.stream.send(t)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(t,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,t!==4?this.M_.reset():n&&n.code===Z.RESOURCE_EXHAUSTED?(rr(n.toString()),rr("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===Z.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.r_(n)}K_(){}auth(){this.state=1;const t=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([s,o])=>{this.D_===n&&this.G_(s,o)}),(s=>{t((()=>{const o=new at(Z.UNKNOWN,"Fetching auth token failed: "+s.message);return this.z_(o)}))}))}G_(t,n){const s=this.W_(this.D_);this.stream=this.j_(t,n),this.stream.Xo((()=>{s((()=>this.listener.Xo()))})),this.stream.t_((()=>{s((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((o=>{s((()=>this.z_(o)))})),this.stream.onMessage((o=>{s((()=>++this.F_==1?this.J_(o):this.onNext(o)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(t){return ot(jE,`close with error: ${t}`),this.stream=null,this.close(4,t)}W_(t){return n=>{this.Mi.enqueueAndForget((()=>this.D_===t?n():(ot(jE,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class nN extends dS{constructor(t,n,s,o,u,f){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,s,o,f),this.serializer=u}j_(t,n){return this.connection.T_("Listen",t,n)}J_(t){return this.onNext(t)}onNext(t){this.M_.reset();const n=lD(this.serializer,t),s=(function(u){if(!("targetChange"in u))return St.min();const f=u.targetChange;return f.targetIds&&f.targetIds.length?St.min():f.readTime?Ii(f.readTime):St.min()})(t);return this.listener.H_(n,s)}Y_(t){const n={};n.database=zm(this.serializer),n.addTarget=(function(u,f){let m;const g=f.target;if(m=Vm(g)?{documents:hD(u,g)}:{query:fD(u,g).ft},m.targetId=f.targetId,f.resumeToken.approximateByteSize()>0){m.resumeToken=eS(u,f.resumeToken);const y=Pm(u,f.expectedCount);y!==null&&(m.expectedCount=y)}else if(f.snapshotVersion.compareTo(St.min())>0){m.readTime=Sh(u,f.snapshotVersion.toTimestamp());const y=Pm(u,f.expectedCount);y!==null&&(m.expectedCount=y)}return m})(this.serializer,t);const s=mD(this.serializer,t);s&&(n.labels=s),this.q_(n)}Z_(t){const n={};n.database=zm(this.serializer),n.removeTarget=t,this.q_(n)}}class iN extends dS{constructor(t,n,s,o,u,f){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,s,o,f),this.serializer=u}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(t,n){return this.connection.T_("Write",t,n)}J_(t){return Ft(!!t.streamToken,31322),this.lastStreamToken=t.streamToken,Ft(!t.writeResults||t.writeResults.length===0,55816),this.listener.ta()}onNext(t){Ft(!!t.streamToken,12678),this.lastStreamToken=t.streamToken,this.M_.reset();const n=cD(t.writeResults,t.commitTime),s=Ii(t.commitTime);return this.listener.na(s,n)}ra(){const t={};t.database=zm(this.serializer),this.q_(t)}ea(t){const n={streamToken:this.lastStreamToken,writes:t.map((s=>uD(this.serializer,s)))};this.q_(n)}}class rN{}class sN extends rN{constructor(t,n,s,o){super(),this.authCredentials=t,this.appCheckCredentials=n,this.connection=s,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new at(Z.FAILED_PRECONDITION,"The client has already been terminated.")}Go(t,n,s,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([u,f])=>this.connection.Go(t,Um(n,s),o,u,f))).catch((u=>{throw u.name==="FirebaseError"?(u.code===Z.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new at(Z.UNKNOWN,u.toString())}))}Ho(t,n,s,o,u){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([f,m])=>this.connection.Ho(t,Um(n,s),o,f,m,u))).catch((f=>{throw f.name==="FirebaseError"?(f.code===Z.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),f):new at(Z.UNKNOWN,f.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class aN{constructor(t,n){this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(t){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.ca("Offline")))}set(t){this.Pa(),this.oa=0,t==="Online"&&(this.aa=!1),this.ca(t)}ca(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}la(t){const n=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(rr(n),this.aa=!1):ot("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const Ks="RemoteStore";class oN{constructor(t,n,s,o,u){this.localStore=t,this.datastore=n,this.asyncQueue=s,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=u,this.Aa.Oo((f=>{s.enqueueAndForget((async()=>{Xs(this)&&(ot(Ks,"Restarting streams for network reachability change."),await(async function(g){const y=bt(g);y.Ea.add(4),await ou(y),y.Ra.set("Unknown"),y.Ea.delete(4),await Kh(y)})(this))}))})),this.Ra=new aN(s,o)}}async function Kh(r){if(Xs(r))for(const t of r.da)await t(!0)}async function ou(r){for(const t of r.da)await t(!1)}function mS(r,t){const n=bt(r);n.Ia.has(t.targetId)||(n.Ia.set(t.targetId,t),Np(n)?Dp(n):_o(n).O_()&&Ip(n,t))}function Cp(r,t){const n=bt(r),s=_o(n);n.Ia.delete(t),s.O_()&&pS(n,t),n.Ia.size===0&&(s.O_()?s.L_():Xs(n)&&n.Ra.set("Unknown"))}function Ip(r,t){if(r.Va.Ue(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(St.min())>0){const n=r.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}_o(r).Y_(t)}function pS(r,t){r.Va.Ue(t),_o(r).Z_(t)}function Dp(r){r.Va=new eD({getRemoteKeysForTarget:t=>r.remoteSyncer.getRemoteKeysForTarget(t),At:t=>r.Ia.get(t)||null,ht:()=>r.datastore.serializer.databaseId}),_o(r).start(),r.Ra.ua()}function Np(r){return Xs(r)&&!_o(r).x_()&&r.Ia.size>0}function Xs(r){return bt(r).Ea.size===0}function gS(r){r.Va=void 0}async function lN(r){r.Ra.set("Online")}async function uN(r){r.Ia.forEach(((t,n)=>{Ip(r,t)}))}async function cN(r,t){gS(r),Np(r)?(r.Ra.ha(t),Dp(r)):r.Ra.set("Unknown")}async function hN(r,t,n){if(r.Ra.set("Online"),t instanceof tS&&t.state===2&&t.cause)try{await(async function(o,u){const f=u.cause;for(const m of u.targetIds)o.Ia.has(m)&&(await o.remoteSyncer.rejectListen(m,f),o.Ia.delete(m),o.Va.removeTarget(m))})(r,t)}catch(s){ot(Ks,"Failed to remove targets %s: %s ",t.targetIds.join(","),s),await bh(r,s)}else if(t instanceof rh?r.Va.Ze(t):t instanceof W0?r.Va.st(t):r.Va.tt(t),!n.isEqual(St.min()))try{const s=await hS(r.localStore);n.compareTo(s)>=0&&await(function(u,f){const m=u.Va.Tt(f);return m.targetChanges.forEach(((g,y)=>{if(g.resumeToken.approximateByteSize()>0){const E=u.Ia.get(y);E&&u.Ia.set(y,E.withResumeToken(g.resumeToken,f))}})),m.targetMismatches.forEach(((g,y)=>{const E=u.Ia.get(g);if(!E)return;u.Ia.set(g,E.withResumeToken(Ye.EMPTY_BYTE_STRING,E.snapshotVersion)),pS(u,g);const S=new Gr(E.target,g,y,E.sequenceNumber);Ip(u,S)})),u.remoteSyncer.applyRemoteEvent(m)})(r,n)}catch(s){ot(Ks,"Failed to raise snapshot:",s),await bh(r,s)}}async function bh(r,t,n){if(!yo(t))throw t;r.Ea.add(1),await ou(r),r.Ra.set("Offline"),n||(n=()=>hS(r.localStore)),r.asyncQueue.enqueueRetryable((async()=>{ot(Ks,"Retrying IndexedDB access"),await n(),r.Ea.delete(1),await Kh(r)}))}function yS(r,t){return t().catch((n=>bh(r,n,t)))}async function Qh(r){const t=bt(r),n=is(t);let s=t.Ta.length>0?t.Ta[t.Ta.length-1].batchId:mp;for(;fN(t);)try{const o=await QD(t.localStore,s);if(o===null){t.Ta.length===0&&n.L_();break}s=o.batchId,dN(t,o)}catch(o){await bh(t,o)}_S(t)&&vS(t)}function fN(r){return Xs(r)&&r.Ta.length<10}function dN(r,t){r.Ta.push(t);const n=is(r);n.O_()&&n.X_&&n.ea(t.mutations)}function _S(r){return Xs(r)&&!is(r).x_()&&r.Ta.length>0}function vS(r){is(r).start()}async function mN(r){is(r).ra()}async function pN(r){const t=is(r);for(const n of r.Ta)t.ea(n.mutations)}async function gN(r,t,n){const s=r.Ta.shift(),o=Ep.from(s,t,n);await yS(r,(()=>r.remoteSyncer.applySuccessfulWrite(o))),await Qh(r)}async function yN(r,t){t&&is(r).X_&&await(async function(s,o){if((function(f){return Z2(f)&&f!==Z.ABORTED})(o.code)){const u=s.Ta.shift();is(s).B_(),await yS(s,(()=>s.remoteSyncer.rejectFailedWrite(u.batchId,o))),await Qh(s)}})(r,t),_S(r)&&vS(r)}async function qE(r,t){const n=bt(r);n.asyncQueue.verifyOperationInProgress(),ot(Ks,"RemoteStore received new credentials");const s=Xs(n);n.Ea.add(3),await ou(n),s&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.Ea.delete(3),await Kh(n)}async function _N(r,t){const n=bt(r);t?(n.Ea.delete(2),await Kh(n)):t||(n.Ea.add(2),await ou(n),n.Ra.set("Unknown"))}function _o(r){return r.ma||(r.ma=(function(n,s,o){const u=bt(n);return u.sa(),new nN(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)})(r.datastore,r.asyncQueue,{Xo:lN.bind(null,r),t_:uN.bind(null,r),r_:cN.bind(null,r),H_:hN.bind(null,r)}),r.da.push((async t=>{t?(r.ma.B_(),Np(r)?Dp(r):r.Ra.set("Unknown")):(await r.ma.stop(),gS(r))}))),r.ma}function is(r){return r.fa||(r.fa=(function(n,s,o){const u=bt(n);return u.sa(),new iN(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)})(r.datastore,r.asyncQueue,{Xo:()=>Promise.resolve(),t_:mN.bind(null,r),r_:yN.bind(null,r),ta:pN.bind(null,r),na:gN.bind(null,r)}),r.da.push((async t=>{t?(r.fa.B_(),await Qh(r)):(await r.fa.stop(),r.Ta.length>0&&(ot(Ks,`Stopping write stream with ${r.Ta.length} pending writes`),r.Ta=[]))}))),r.fa}class Op{constructor(t,n,s,o,u){this.asyncQueue=t,this.timerId=n,this.targetTimeMs=s,this.op=o,this.removalCallback=u,this.deferred=new Jr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((f=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(t,n,s,o,u){const f=Date.now()+s,m=new Op(t,n,f,o,u);return m.start(s),m}start(t){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new at(Z.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((t=>this.deferred.resolve(t)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Mp(r,t){if(rr("AsyncQueue",`${t}: ${r}`),yo(r))return new at(Z.UNAVAILABLE,`${t}: ${r}`);throw r}class Ya{static emptySet(t){return new Ya(t.comparator)}constructor(t){this.comparator=t?(n,s)=>t(n,s)||pt.comparator(n.key,s.key):(n,s)=>pt.comparator(n.key,s.key),this.keyedMap=Nl(),this.sortedSet=new ue(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const n=this.keyedMap.get(t);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal(((n,s)=>(t(n),!1)))}add(t){const n=this.delete(t.key);return n.copy(n.keyedMap.insert(t.key,t),n.sortedSet.insert(t,null))}delete(t){const n=this.get(t);return n?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(n)):this}isEqual(t){if(!(t instanceof Ya)||this.size!==t.size)return!1;const n=this.sortedSet.getIterator(),s=t.sortedSet.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=s.getNext().key;if(!o.isEqual(u))return!1}return!0}toString(){const t=[];return this.forEach((n=>{t.push(n.toString())})),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,n){const s=new Ya;return s.comparator=this.comparator,s.keyedMap=t,s.sortedSet=n,s}}class HE{constructor(){this.ga=new ue(pt.comparator)}track(t){const n=t.doc.key,s=this.ga.get(n);s?t.type!==0&&s.type===3?this.ga=this.ga.insert(n,t):t.type===3&&s.type!==1?this.ga=this.ga.insert(n,{type:s.type,doc:t.doc}):t.type===2&&s.type===2?this.ga=this.ga.insert(n,{type:2,doc:t.doc}):t.type===2&&s.type===0?this.ga=this.ga.insert(n,{type:0,doc:t.doc}):t.type===1&&s.type===0?this.ga=this.ga.remove(n):t.type===1&&s.type===2?this.ga=this.ga.insert(n,{type:1,doc:s.doc}):t.type===0&&s.type===1?this.ga=this.ga.insert(n,{type:2,doc:t.doc}):Et(63341,{Rt:t,pa:s}):this.ga=this.ga.insert(n,t)}ya(){const t=[];return this.ga.inorderTraversal(((n,s)=>{t.push(s)})),t}}class ao{constructor(t,n,s,o,u,f,m,g,y){this.query=t,this.docs=n,this.oldDocs=s,this.docChanges=o,this.mutatedKeys=u,this.fromCache=f,this.syncStateChanged=m,this.excludesMetadataChanges=g,this.hasCachedResults=y}static fromInitialDocuments(t,n,s,o,u){const f=[];return n.forEach((m=>{f.push({type:0,doc:m})})),new ao(t,n,Ya.emptySet(n),f,s,o,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&Bh(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const n=this.docChanges,s=t.docChanges;if(n.length!==s.length)return!1;for(let o=0;o<n.length;o++)if(n[o].type!==s[o].type||!n[o].doc.isEqual(s[o].doc))return!1;return!0}}class vN{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((t=>t.Da()))}}class EN{constructor(){this.queries=FE(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,s){const o=bt(n),u=o.queries;o.queries=FE(),u.forEach(((f,m)=>{for(const g of m.Sa)g.onError(s)}))})(this,new at(Z.ABORTED,"Firestore shutting down"))}}function FE(){return new Ys((r=>z0(r)),Bh)}async function TN(r,t){const n=bt(r);let s=3;const o=t.query;let u=n.queries.get(o);u?!u.ba()&&t.Da()&&(s=2):(u=new vN,s=t.Da()?0:1);try{switch(s){case 0:u.wa=await n.onListen(o,!0);break;case 1:u.wa=await n.onListen(o,!1);break;case 2:await n.onFirstRemoteStoreListen(o)}}catch(f){const m=Mp(f,`Initialization of query '${ja(t.query)}' failed`);return void t.onError(m)}n.queries.set(o,u),u.Sa.push(t),t.va(n.onlineState),u.wa&&t.Fa(u.wa)&&Vp(n)}async function SN(r,t){const n=bt(r),s=t.query;let o=3;const u=n.queries.get(s);if(u){const f=u.Sa.indexOf(t);f>=0&&(u.Sa.splice(f,1),u.Sa.length===0?o=t.Da()?0:1:!u.ba()&&t.Da()&&(o=2))}switch(o){case 0:return n.queries.delete(s),n.onUnlisten(s,!0);case 1:return n.queries.delete(s),n.onUnlisten(s,!1);case 2:return n.onLastRemoteStoreUnlisten(s);default:return}}function AN(r,t){const n=bt(r);let s=!1;for(const o of t){const u=o.query,f=n.queries.get(u);if(f){for(const m of f.Sa)m.Fa(o)&&(s=!0);f.wa=o}}s&&Vp(n)}function bN(r,t,n){const s=bt(r),o=s.queries.get(t);if(o)for(const u of o.Sa)u.onError(n);s.queries.delete(t)}function Vp(r){r.Ca.forEach((t=>{t.next()}))}var qm,GE;(GE=qm||(qm={})).Ma="default",GE.Cache="cache";class wN{constructor(t,n,s){this.query=t,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=s||{}}Fa(t){if(!this.options.includeMetadataChanges){const s=[];for(const o of t.docChanges)o.type!==3&&s.push(o);t=new ao(t.query,t.docs,t.oldDocs,s,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let n=!1;return this.Oa?this.Ba(t)&&(this.xa.next(t),n=!0):this.La(t,this.onlineState)&&(this.ka(t),n=!0),this.Na=t,n}onError(t){this.xa.error(t)}va(t){this.onlineState=t;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,t)&&(this.ka(this.Na),n=!0),n}La(t,n){if(!t.fromCache||!this.Da())return!0;const s=n!=="Offline";return(!this.options.qa||!s)&&(!t.docs.isEmpty()||t.hasCachedResults||n==="Offline")}Ba(t){if(t.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(t){t=ao.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Oa=!0,this.xa.next(t)}Da(){return this.options.source!==qm.Cache}}class ES{constructor(t){this.key=t}}class TS{constructor(t){this.key=t}}class RN{constructor(t,n){this.query=t,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Lt(),this.mutatedKeys=Lt(),this.eu=B0(t),this.tu=new Ya(this.eu)}get nu(){return this.Ya}ru(t,n){const s=n?n.iu:new HE,o=n?n.tu:this.tu;let u=n?n.mutatedKeys:this.mutatedKeys,f=o,m=!1;const g=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,y=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(t.inorderTraversal(((E,S)=>{const w=o.get(E),U=jh(this.query,S)?S:null,G=!!w&&this.mutatedKeys.has(w.key),J=!!U&&(U.hasLocalMutations||this.mutatedKeys.has(U.key)&&U.hasCommittedMutations);let q=!1;w&&U?w.data.isEqual(U.data)?G!==J&&(s.track({type:3,doc:U}),q=!0):this.su(w,U)||(s.track({type:2,doc:U}),q=!0,(g&&this.eu(U,g)>0||y&&this.eu(U,y)<0)&&(m=!0)):!w&&U?(s.track({type:0,doc:U}),q=!0):w&&!U&&(s.track({type:1,doc:w}),q=!0,(g||y)&&(m=!0)),q&&(U?(f=f.add(U),u=J?u.add(E):u.delete(E)):(f=f.delete(E),u=u.delete(E)))})),this.query.limit!==null)for(;f.size>this.query.limit;){const E=this.query.limitType==="F"?f.last():f.first();f=f.delete(E.key),u=u.delete(E.key),s.track({type:1,doc:E})}return{tu:f,iu:s,Cs:m,mutatedKeys:u}}su(t,n){return t.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(t,n,s,o){const u=this.tu;this.tu=t.tu,this.mutatedKeys=t.mutatedKeys;const f=t.iu.ya();f.sort(((E,S)=>(function(U,G){const J=q=>{switch(q){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Et(20277,{Rt:q})}};return J(U)-J(G)})(E.type,S.type)||this.eu(E.doc,S.doc))),this.ou(s),o=o??!1;const m=n&&!o?this._u():[],g=this.Xa.size===0&&this.current&&!o?1:0,y=g!==this.Za;return this.Za=g,f.length!==0||y?{snapshot:new ao(this.query,t.tu,u,f,t.mutatedKeys,g===0,y,!1,!!s&&s.resumeToken.approximateByteSize()>0),au:m}:{au:m}}va(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new HE,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(t){return!this.Ya.has(t)&&!!this.tu.has(t)&&!this.tu.get(t).hasLocalMutations}ou(t){t&&(t.addedDocuments.forEach((n=>this.Ya=this.Ya.add(n))),t.modifiedDocuments.forEach((n=>{})),t.removedDocuments.forEach((n=>this.Ya=this.Ya.delete(n))),this.current=t.current)}_u(){if(!this.current)return[];const t=this.Xa;this.Xa=Lt(),this.tu.forEach((s=>{this.uu(s.key)&&(this.Xa=this.Xa.add(s.key))}));const n=[];return t.forEach((s=>{this.Xa.has(s)||n.push(new TS(s))})),this.Xa.forEach((s=>{t.has(s)||n.push(new ES(s))})),n}cu(t){this.Ya=t.Qs,this.Xa=Lt();const n=this.ru(t.documents);return this.applyChanges(n,!0)}lu(){return ao.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const xp="SyncEngine";class CN{constructor(t,n,s){this.query=t,this.targetId=n,this.view=s}}class IN{constructor(t){this.key=t,this.hu=!1}}class DN{constructor(t,n,s,o,u,f){this.localStore=t,this.remoteStore=n,this.eventManager=s,this.sharedClientState=o,this.currentUser=u,this.maxConcurrentLimboResolutions=f,this.Pu={},this.Tu=new Ys((m=>z0(m)),Bh),this.Iu=new Map,this.Eu=new Set,this.du=new ue(pt.comparator),this.Au=new Map,this.Ru=new Ap,this.Vu={},this.mu=new Map,this.fu=so.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function NN(r,t,n=!0){const s=CS(r);let o;const u=s.Tu.get(t);return u?(s.sharedClientState.addLocalQueryTarget(u.targetId),o=u.view.lu()):o=await SS(s,t,n,!0),o}async function ON(r,t){const n=CS(r);await SS(n,t,!0,!1)}async function SS(r,t,n,s){const o=await YD(r.localStore,Ri(t)),u=o.targetId,f=r.sharedClientState.addLocalQueryTarget(u,n);let m;return s&&(m=await MN(r,t,u,f==="current",o.resumeToken)),r.isPrimaryClient&&n&&mS(r.remoteStore,o),m}async function MN(r,t,n,s,o){r.pu=(S,w,U)=>(async function(J,q,tt,et){let it=q.view.ru(tt);it.Cs&&(it=await UE(J.localStore,q.query,!1).then((({documents:C})=>q.view.ru(C,it))));const _t=et&&et.targetChanges.get(q.targetId),ut=et&&et.targetMismatches.get(q.targetId)!=null,dt=q.view.applyChanges(it,J.isPrimaryClient,_t,ut);return QE(J,q.targetId,dt.au),dt.snapshot})(r,S,w,U);const u=await UE(r.localStore,t,!0),f=new RN(t,u.Qs),m=f.ru(u.documents),g=au.createSynthesizedTargetChangeForCurrentChange(n,s&&r.onlineState!=="Offline",o),y=f.applyChanges(m,r.isPrimaryClient,g);QE(r,n,y.au);const E=new CN(t,n,f);return r.Tu.set(t,E),r.Iu.has(n)?r.Iu.get(n).push(t):r.Iu.set(n,[t]),y.snapshot}async function VN(r,t,n){const s=bt(r),o=s.Tu.get(t),u=s.Iu.get(o.targetId);if(u.length>1)return s.Iu.set(o.targetId,u.filter((f=>!Bh(f,t)))),void s.Tu.delete(t);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(o.targetId),s.sharedClientState.isActiveQueryTarget(o.targetId)||await Bm(s.localStore,o.targetId,!1).then((()=>{s.sharedClientState.clearQueryState(o.targetId),n&&Cp(s.remoteStore,o.targetId),Hm(s,o.targetId)})).catch(go)):(Hm(s,o.targetId),await Bm(s.localStore,o.targetId,!0))}async function xN(r,t){const n=bt(r),s=n.Tu.get(t),o=n.Iu.get(s.targetId);n.isPrimaryClient&&o.length===1&&(n.sharedClientState.removeLocalQueryTarget(s.targetId),Cp(n.remoteStore,s.targetId))}async function LN(r,t,n){const s=qN(r);try{const o=await(function(f,m){const g=bt(f),y=ie.now(),E=m.reduce(((U,G)=>U.add(G.key)),Lt());let S,w;return g.persistence.runTransaction("Locally write mutations","readwrite",(U=>{let G=sr(),J=Lt();return g.Ns.getEntries(U,E).next((q=>{G=q,G.forEach(((tt,et)=>{et.isValidDocument()||(J=J.add(tt))}))})).next((()=>g.localDocuments.getOverlayedDocuments(U,G))).next((q=>{S=q;const tt=[];for(const et of m){const it=Q2(et,S.get(et.key).overlayedDocument);it!=null&&tt.push(new ls(et.key,it,N0(it.value.mapValue),Ci.exists(!0)))}return g.mutationQueue.addMutationBatch(U,y,tt,m)})).next((q=>{w=q;const tt=q.applyToLocalDocumentSet(S,J);return g.documentOverlayCache.saveOverlays(U,q.batchId,tt)}))})).then((()=>({batchId:w.batchId,changes:q0(S)})))})(s.localStore,t);s.sharedClientState.addPendingMutation(o.batchId),(function(f,m,g){let y=f.Vu[f.currentUser.toKey()];y||(y=new ue(xt)),y=y.insert(m,g),f.Vu[f.currentUser.toKey()]=y})(s,o.batchId,n),await lu(s,o.changes),await Qh(s.remoteStore)}catch(o){const u=Mp(o,"Failed to persist write");n.reject(u)}}async function AS(r,t){const n=bt(r);try{const s=await GD(n.localStore,t);t.targetChanges.forEach(((o,u)=>{const f=n.Au.get(u);f&&(Ft(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?f.hu=!0:o.modifiedDocuments.size>0?Ft(f.hu,14607):o.removedDocuments.size>0&&(Ft(f.hu,42227),f.hu=!1))})),await lu(n,s,t)}catch(s){await go(s)}}function KE(r,t,n){const s=bt(r);if(s.isPrimaryClient&&n===0||!s.isPrimaryClient&&n===1){const o=[];s.Tu.forEach(((u,f)=>{const m=f.view.va(t);m.snapshot&&o.push(m.snapshot)})),(function(f,m){const g=bt(f);g.onlineState=m;let y=!1;g.queries.forEach(((E,S)=>{for(const w of S.Sa)w.va(m)&&(y=!0)})),y&&Vp(g)})(s.eventManager,t),o.length&&s.Pu.H_(o),s.onlineState=t,s.isPrimaryClient&&s.sharedClientState.setOnlineState(t)}}async function PN(r,t,n){const s=bt(r);s.sharedClientState.updateQueryState(t,"rejected",n);const o=s.Au.get(t),u=o&&o.key;if(u){let f=new ue(pt.comparator);f=f.insert(u,Ze.newNoDocument(u,St.min()));const m=Lt().add(u),g=new Fh(St.min(),new Map,new ue(xt),f,m);await AS(s,g),s.du=s.du.remove(u),s.Au.delete(t),Lp(s)}else await Bm(s.localStore,t,!1).then((()=>Hm(s,t,n))).catch(go)}async function UN(r,t){const n=bt(r),s=t.batch.batchId;try{const o=await FD(n.localStore,t);wS(n,s,null),bS(n,s),n.sharedClientState.updateMutationState(s,"acknowledged"),await lu(n,o)}catch(o){await go(o)}}async function kN(r,t,n){const s=bt(r);try{const o=await(function(f,m){const g=bt(f);return g.persistence.runTransaction("Reject batch","readwrite-primary",(y=>{let E;return g.mutationQueue.lookupMutationBatch(y,m).next((S=>(Ft(S!==null,37113),E=S.keys(),g.mutationQueue.removeMutationBatch(y,S)))).next((()=>g.mutationQueue.performConsistencyCheck(y))).next((()=>g.documentOverlayCache.removeOverlaysForBatchId(y,E,m))).next((()=>g.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(y,E))).next((()=>g.localDocuments.getDocuments(y,E)))}))})(s.localStore,t);wS(s,t,n),bS(s,t),s.sharedClientState.updateMutationState(t,"rejected",n),await lu(s,o)}catch(o){await go(o)}}function bS(r,t){(r.mu.get(t)||[]).forEach((n=>{n.resolve()})),r.mu.delete(t)}function wS(r,t,n){const s=bt(r);let o=s.Vu[s.currentUser.toKey()];if(o){const u=o.get(t);u&&(n?u.reject(n):u.resolve(),o=o.remove(t)),s.Vu[s.currentUser.toKey()]=o}}function Hm(r,t,n=null){r.sharedClientState.removeLocalQueryTarget(t);for(const s of r.Iu.get(t))r.Tu.delete(s),n&&r.Pu.yu(s,n);r.Iu.delete(t),r.isPrimaryClient&&r.Ru.jr(t).forEach((s=>{r.Ru.containsKey(s)||RS(r,s)}))}function RS(r,t){r.Eu.delete(t.path.canonicalString());const n=r.du.get(t);n!==null&&(Cp(r.remoteStore,n),r.du=r.du.remove(t),r.Au.delete(n),Lp(r))}function QE(r,t,n){for(const s of n)s instanceof ES?(r.Ru.addReference(s.key,t),zN(r,s)):s instanceof TS?(ot(xp,"Document no longer in limbo: "+s.key),r.Ru.removeReference(s.key,t),r.Ru.containsKey(s.key)||RS(r,s.key)):Et(19791,{wu:s})}function zN(r,t){const n=t.key,s=n.path.canonicalString();r.du.get(n)||r.Eu.has(s)||(ot(xp,"New document in limbo: "+n),r.Eu.add(s),Lp(r))}function Lp(r){for(;r.Eu.size>0&&r.du.size<r.maxConcurrentLimboResolutions;){const t=r.Eu.values().next().value;r.Eu.delete(t);const n=new pt(te.fromString(t)),s=r.fu.next();r.Au.set(s,new IN(n)),r.du=r.du.insert(n,s),mS(r.remoteStore,new Gr(Ri(U0(n.path)),s,"TargetPurposeLimboResolution",Uh.ce))}}async function lu(r,t,n){const s=bt(r),o=[],u=[],f=[];s.Tu.isEmpty()||(s.Tu.forEach(((m,g)=>{f.push(s.pu(g,t,n).then((y=>{if((y||n)&&s.isPrimaryClient){const E=y?!y.fromCache:n?.targetChanges.get(g.targetId)?.current;s.sharedClientState.updateQueryState(g.targetId,E?"current":"not-current")}if(y){o.push(y);const E=wp.As(g.targetId,y);u.push(E)}})))})),await Promise.all(f),s.Pu.H_(o),await(async function(g,y){const E=bt(g);try{await E.persistence.runTransaction("notifyLocalViewChanges","readwrite",(S=>W.forEach(y,(w=>W.forEach(w.Es,(U=>E.persistence.referenceDelegate.addReference(S,w.targetId,U))).next((()=>W.forEach(w.ds,(U=>E.persistence.referenceDelegate.removeReference(S,w.targetId,U)))))))))}catch(S){if(!yo(S))throw S;ot(Rp,"Failed to update sequence numbers: "+S)}for(const S of y){const w=S.targetId;if(!S.fromCache){const U=E.Ms.get(w),G=U.snapshotVersion,J=U.withLastLimboFreeSnapshotVersion(G);E.Ms=E.Ms.insert(w,J)}}})(s.localStore,u))}async function BN(r,t){const n=bt(r);if(!n.currentUser.isEqual(t)){ot(xp,"User change. New user:",t.toKey());const s=await cS(n.localStore,t);n.currentUser=t,(function(u,f){u.mu.forEach((m=>{m.forEach((g=>{g.reject(new at(Z.CANCELLED,f))}))})),u.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(t,s.removedBatchIds,s.addedBatchIds),await lu(n,s.Ls)}}function jN(r,t){const n=bt(r),s=n.Au.get(t);if(s&&s.hu)return Lt().add(s.key);{let o=Lt();const u=n.Iu.get(t);if(!u)return o;for(const f of u){const m=n.Tu.get(f);o=o.unionWith(m.view.nu)}return o}}function CS(r){const t=bt(r);return t.remoteStore.remoteSyncer.applyRemoteEvent=AS.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=jN.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=PN.bind(null,t),t.Pu.H_=AN.bind(null,t.eventManager),t.Pu.yu=bN.bind(null,t.eventManager),t}function qN(r){const t=bt(r);return t.remoteStore.remoteSyncer.applySuccessfulWrite=UN.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=kN.bind(null,t),t}class wh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=Gh(t.databaseInfo.databaseId),this.sharedClientState=this.Du(t),this.persistence=this.Cu(t),await this.persistence.start(),this.localStore=this.vu(t),this.gcScheduler=this.Fu(t,this.localStore),this.indexBackfillerScheduler=this.Mu(t,this.localStore)}Fu(t,n){return null}Mu(t,n){return null}vu(t){return HD(this.persistence,new BD,t.initialUser,this.serializer)}Cu(t){return new uS(bp.mi,this.serializer)}Du(t){return new $D}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}wh.provider={build:()=>new wh};class HN extends wh{constructor(t){super(),this.cacheSizeBytes=t}Fu(t,n){Ft(this.persistence.referenceDelegate instanceof Ah,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new wD(s,t.asyncQueue,n)}Cu(t){const n=this.cacheSizeBytes!==void 0?hn.withCacheSize(this.cacheSizeBytes):hn.DEFAULT;return new uS((s=>Ah.mi(s,n)),this.serializer)}}class Fm{async initialize(t,n){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>KE(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=BN.bind(null,this.syncEngine),await _N(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return(function(){return new EN})()}createDatastore(t){const n=Gh(t.databaseInfo.databaseId),s=(function(u){return new eN(u)})(t.databaseInfo);return(function(u,f,m,g){return new sN(u,f,m,g)})(t.authCredentials,t.appCheckCredentials,s,n)}createRemoteStore(t){return(function(s,o,u,f,m){return new oN(s,o,u,f,m)})(this.localStore,this.datastore,t.asyncQueue,(n=>KE(this.syncEngine,n,0)),(function(){return BE.v()?new BE:new JD})())}createSyncEngine(t,n){return(function(o,u,f,m,g,y,E){const S=new DN(o,u,f,m,g,y);return E&&(S.gu=!0),S})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,n)}async terminate(){await(async function(n){const s=bt(n);ot(Ks,"RemoteStore shutting down."),s.Ea.add(5),await ou(s),s.Aa.shutdown(),s.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}Fm.provider={build:()=>new Fm};class FN{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.Ou(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.Ou(this.observer.error,t):rr("Uncaught Error in snapshot listener:",t.toString()))}Nu(){this.muted=!0}Ou(t,n){setTimeout((()=>{this.muted||t(n)}),0)}}const rs="FirestoreClient";class GN{constructor(t,n,s,o,u){this.authCredentials=t,this.appCheckCredentials=n,this.asyncQueue=s,this.databaseInfo=o,this.user=Je.UNAUTHENTICATED,this.clientId=dp.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(s,(async f=>{ot(rs,"Received user=",f.uid),await this.authCredentialListener(f),this.user=f})),this.appCheckCredentials.start(s,(f=>(ot(rs,"Received new app check token=",f),this.appCheckCredentialListener(f,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new Jr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(n){const s=Mp(n,"Failed to shutdown persistence");t.reject(s)}})),t.promise}}async function ym(r,t){r.asyncQueue.verifyOperationInProgress(),ot(rs,"Initializing OfflineComponentProvider");const n=r.configuration;await t.initialize(n);let s=n.initialUser;r.setCredentialChangeListener((async o=>{s.isEqual(o)||(await cS(t.localStore,o),s=o)})),t.persistence.setDatabaseDeletedListener((()=>r.terminate())),r._offlineComponents=t}async function YE(r,t){r.asyncQueue.verifyOperationInProgress();const n=await KN(r);ot(rs,"Initializing OnlineComponentProvider"),await t.initialize(n,r.configuration),r.setCredentialChangeListener((s=>qE(t.remoteStore,s))),r.setAppCheckTokenChangeListener(((s,o)=>qE(t.remoteStore,o))),r._onlineComponents=t}async function KN(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){ot(rs,"Using user provided OfflineComponentProvider");try{await ym(r,r._uninitializedComponentsProvider._offline)}catch(t){const n=t;if(!(function(o){return o.name==="FirebaseError"?o.code===Z.FAILED_PRECONDITION||o.code===Z.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(n))throw n;to("Error using user provided cache. Falling back to memory cache: "+n),await ym(r,new wh)}}else ot(rs,"Using default OfflineComponentProvider"),await ym(r,new HN(void 0));return r._offlineComponents}async function IS(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(ot(rs,"Using user provided OnlineComponentProvider"),await YE(r,r._uninitializedComponentsProvider._online)):(ot(rs,"Using default OnlineComponentProvider"),await YE(r,new Fm))),r._onlineComponents}function QN(r){return IS(r).then((t=>t.syncEngine))}async function YN(r){const t=await IS(r),n=t.eventManager;return n.onListen=NN.bind(null,t.syncEngine),n.onUnlisten=VN.bind(null,t.syncEngine),n.onFirstRemoteStoreListen=ON.bind(null,t.syncEngine),n.onLastRemoteStoreUnlisten=xN.bind(null,t.syncEngine),n}function XN(r,t,n={}){const s=new Jr;return r.asyncQueue.enqueueAndForget((async()=>(function(u,f,m,g,y){const E=new FN({next:w=>{E.Nu(),f.enqueueAndForget((()=>SN(u,S))),w.fromCache&&g.source==="server"?y.reject(new at(Z.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):y.resolve(w)},error:w=>y.reject(w)}),S=new wN(m,E,{includeMetadataChanges:!0,qa:!0});return TN(u,S)})(await YN(r),r.asyncQueue,t,n,s))),s.promise}function DS(r){const t={};return r.timeoutSeconds!==void 0&&(t.timeoutSeconds=r.timeoutSeconds),t}const XE=new Map;const NS="firestore.googleapis.com",$E=!0;class JE{constructor(t){if(t.host===void 0){if(t.ssl!==void 0)throw new at(Z.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=NS,this.ssl=$E}else this.host=t.host,this.ssl=t.ssl??$E;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=lS;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<AD)throw new at(Z.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}o2("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=DS(t.experimentalLongPollingOptions??{}),(function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new at(Z.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new at(Z.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new at(Z.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&(function(s,o){return s.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class Yh{constructor(t,n,s,o){this._authCredentials=t,this._appCheckCredentials=n,this._databaseId=s,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new JE({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new at(Z.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new at(Z.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new JE(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=(function(s){if(!s)return new JI;switch(s.type){case"firstParty":return new e2(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new at(Z.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const s=XE.get(n);s&&(ot("ComponentProvider","Removing Datastore"),XE.delete(n),s.terminate())})(this),Promise.resolve()}}function $N(r,t,n,s={}){r=no(r,Yh);const o=co(t),u=r._getSettings(),f={...u,emulatorOptions:r._getEmulatorOptions()},m=`${t}:${n}`;o&&(wT(`https://${m}`),RT("Firestore",!0)),u.host!==NS&&u.host!==m&&to("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const g={...u,host:m,ssl:o,emulatorOptions:s};if(!qs(g,f)&&(r._setSettings(g),s.mockUserToken)){let y,E;if(typeof s.mockUserToken=="string")y=s.mockUserToken,E=Je.MOCK_USER;else{y=lw(s.mockUserToken,r._app?.options.projectId);const S=s.mockUserToken.sub||s.mockUserToken.user_id;if(!S)throw new at(Z.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");E=new Je(S)}r._authCredentials=new ZI(new _0(y,E))}}class vo{constructor(t,n,s){this.converter=n,this._query=s,this.type="query",this.firestore=t}withConverter(t){return new vo(this.firestore,t,this._query)}}class Ve{constructor(t,n,s){this.converter=n,this._key=s,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Zr(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new Ve(this.firestore,t,this._key)}toJSON(){return{type:Ve._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(t,n,s){if(iu(n,Ve._jsonSchema))return new Ve(t,s||null,new pt(te.fromString(n.referencePath)))}}Ve._jsonSchemaVersion="firestore/documentReference/1.0",Ve._jsonSchema={type:Ie("string",Ve._jsonSchemaVersion),referencePath:Ie("string")};class Zr extends vo{constructor(t,n,s){super(t,n,U0(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new Ve(this.firestore,null,new pt(t))}withConverter(t){return new Zr(this.firestore,t,this._path)}}function ZE(r,t,...n){if(r=ze(r),v0("collection","path",t),r instanceof Yh){const s=te.fromString(t,...n);return cE(s),new Zr(r,null,s)}{if(!(r instanceof Ve||r instanceof Zr))throw new at(Z.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(te.fromString(t,...n));return cE(s),new Zr(r.firestore,null,s)}}function OS(r,t,...n){if(r=ze(r),arguments.length===1&&(t=dp.newId()),v0("doc","path",t),r instanceof Yh){const s=te.fromString(t,...n);return uE(s),new Ve(r,null,new pt(s))}{if(!(r instanceof Ve||r instanceof Zr))throw new at(Z.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(te.fromString(t,...n));return uE(s),new Ve(r.firestore,r instanceof Zr?r.converter:null,new pt(s))}}const WE="AsyncQueue";class tT{constructor(t=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new fS(this,"async_queue_retry"),this._c=()=>{const s=gm();s&&ot(WE,"Visibility state changed to "+s.visibilityState),this.M_.w_()},this.ac=t;const n=gm();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.uc(),this.cc(t)}enterRestrictedMode(t){if(!this.ec){this.ec=!0,this.sc=t||!1;const n=gm();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(t){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new Jr;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(t().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(t){this.enqueueAndForget((()=>(this.Xu.push(t),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(t){if(!yo(t))throw t;ot(WE,"Operation failed with retryable error: "+t)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(t){const n=this.ac.then((()=>(this.rc=!0,t().catch((s=>{throw this.nc=s,this.rc=!1,rr("INTERNAL UNHANDLED ERROR: ",eT(s)),s})).then((s=>(this.rc=!1,s))))));return this.ac=n,n}enqueueAfterDelay(t,n,s){this.uc(),this.oc.indexOf(t)>-1&&(n=0);const o=Op.createAndSchedule(this,t,n,s,(u=>this.hc(u)));return this.tc.push(o),o}uc(){this.nc&&Et(47125,{Pc:eT(this.nc)})}verifyOperationInProgress(){}async Tc(){let t;do t=this.ac,await t;while(t!==this.ac)}Ic(t){for(const n of this.tc)if(n.timerId===t)return!0;return!1}Ec(t){return this.Tc().then((()=>{this.tc.sort(((n,s)=>n.targetTimeMs-s.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),t!=="all"&&n.timerId===t)break;return this.Tc()}))}dc(t){this.oc.push(t)}hc(t){const n=this.tc.indexOf(t);this.tc.splice(n,1)}}function eT(r){let t=r.message||"";return r.stack&&(t=r.stack.includes(r.message)?r.stack:r.message+`
`+r.stack),t}class Xh extends Yh{constructor(t,n,s,o){super(t,n,s,o),this.type="firestore",this._queue=new tT,this._persistenceKey=o?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new tT(t),this._firestoreClient=void 0,await t}}}function JN(r,t){const n=typeof r=="object"?r:DT(),s=typeof r=="string"?r:gh,o=np(n,"firestore").getImmediate({identifier:s});if(!o._initialized){const u=aw("firestore");u&&$N(o,...u)}return o}function MS(r){if(r._terminated)throw new at(Z.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||ZN(r),r._firestoreClient}function ZN(r){const t=r._freezeSettings(),n=(function(o,u,f,m){return new _2(o,u,f,m.host,m.ssl,m.experimentalForceLongPolling,m.experimentalAutoDetectLongPolling,DS(m.experimentalLongPollingOptions),m.useFetchStreams,m.isUsingEmulator)})(r._databaseId,r._app?.options.appId||"",r._persistenceKey,t);r._componentsProvider||t.localCache?._offlineComponentProvider&&t.localCache?._onlineComponentProvider&&(r._componentsProvider={_offline:t.localCache._offlineComponentProvider,_online:t.localCache._onlineComponentProvider}),r._firestoreClient=new GN(r._authCredentials,r._appCheckCredentials,r._queue,n,r._componentsProvider&&(function(o){const u=o?._online.build();return{_offline:o?._offline.build(u),_online:u}})(r._componentsProvider))}class Pn{constructor(t){this._byteString=t}static fromBase64String(t){try{return new Pn(Ye.fromBase64String(t))}catch(n){throw new at(Z.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(t){return new Pn(Ye.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}toJSON(){return{type:Pn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(t){if(iu(t,Pn._jsonSchema))return Pn.fromBase64String(t.bytes)}}Pn._jsonSchemaVersion="firestore/bytes/1.0",Pn._jsonSchema={type:Ie("string",Pn._jsonSchemaVersion),bytes:Ie("string")};class $h{constructor(...t){for(let n=0;n<t.length;++n)if(t[n].length===0)throw new at(Z.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Qe(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}class Pp{constructor(t){this._methodName=t}}class Di{constructor(t,n){if(!isFinite(t)||t<-90||t>90)throw new at(Z.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new at(Z.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}_compareTo(t){return xt(this._lat,t._lat)||xt(this._long,t._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Di._jsonSchemaVersion}}static fromJSON(t){if(iu(t,Di._jsonSchema))return new Di(t.latitude,t.longitude)}}Di._jsonSchemaVersion="firestore/geoPoint/1.0",Di._jsonSchema={type:Ie("string",Di._jsonSchemaVersion),latitude:Ie("number"),longitude:Ie("number")};class Ni{constructor(t){this._values=(t||[]).map((n=>n))}toArray(){return this._values.map((t=>t))}isEqual(t){return(function(s,o){if(s.length!==o.length)return!1;for(let u=0;u<s.length;++u)if(s[u]!==o[u])return!1;return!0})(this._values,t._values)}toJSON(){return{type:Ni._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(t){if(iu(t,Ni._jsonSchema)){if(Array.isArray(t.vectorValues)&&t.vectorValues.every((n=>typeof n=="number")))return new Ni(t.vectorValues);throw new at(Z.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Ni._jsonSchemaVersion="firestore/vectorValue/1.0",Ni._jsonSchema={type:Ie("string",Ni._jsonSchemaVersion),vectorValues:Ie("object")};const WN=/^__.*__$/;class tO{constructor(t,n,s){this.data=t,this.fieldMask=n,this.fieldTransforms=s}toMutation(t,n){return this.fieldMask!==null?new ls(t,this.data,this.fieldMask,n,this.fieldTransforms):new su(t,this.data,n,this.fieldTransforms)}}class VS{constructor(t,n,s){this.data=t,this.fieldMask=n,this.fieldTransforms=s}toMutation(t,n){return new ls(t,this.data,this.fieldMask,n,this.fieldTransforms)}}function xS(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Et(40011,{Ac:r})}}class Up{constructor(t,n,s,o,u,f){this.settings=t,this.databaseId=n,this.serializer=s,this.ignoreUndefinedProperties=o,u===void 0&&this.Rc(),this.fieldTransforms=u||[],this.fieldMask=f||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(t){return new Up({...this.settings,...t},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(t){const n=this.path?.child(t),s=this.Vc({path:n,fc:!1});return s.gc(t),s}yc(t){const n=this.path?.child(t),s=this.Vc({path:n,fc:!1});return s.Rc(),s}wc(t){return this.Vc({path:void 0,fc:!0})}Sc(t){return Rh(t,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(t){return this.fieldMask.find((n=>t.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>t.isPrefixOf(n.field)))!==void 0}Rc(){if(this.path)for(let t=0;t<this.path.length;t++)this.gc(this.path.get(t))}gc(t){if(t.length===0)throw this.Sc("Document fields must not be empty");if(xS(this.Ac)&&WN.test(t))throw this.Sc('Document fields cannot begin and end with "__"')}}class eO{constructor(t,n,s){this.databaseId=t,this.ignoreUndefinedProperties=n,this.serializer=s||Gh(t)}Cc(t,n,s,o=!1){return new Up({Ac:t,methodName:n,Dc:s,path:Qe.emptyPath(),fc:!1,bc:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function kp(r){const t=r._freezeSettings(),n=Gh(r._databaseId);return new eO(r._databaseId,!!t.ignoreUndefinedProperties,n)}function nO(r,t,n,s,o,u={}){const f=r.Cc(u.merge||u.mergeFields?2:0,t,n,o);zp("Data must be an object, but it was:",f,s);const m=LS(s,f);let g,y;if(u.merge)g=new Sn(f.fieldMask),y=f.fieldTransforms;else if(u.mergeFields){const E=[];for(const S of u.mergeFields){const w=Gm(t,S,n);if(!f.contains(w))throw new at(Z.INVALID_ARGUMENT,`Field '${w}' is specified in your field mask but missing from your input data.`);US(E,w)||E.push(w)}g=new Sn(E),y=f.fieldTransforms.filter((S=>g.covers(S.field)))}else g=null,y=f.fieldTransforms;return new tO(new fn(m),g,y)}class Jh extends Pp{_toFieldTransform(t){if(t.Ac!==2)throw t.Ac===1?t.Sc(`${this._methodName}() can only appear at the top level of your update data`):t.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof Jh}}function iO(r,t,n,s){const o=r.Cc(1,t,n);zp("Data must be an object, but it was:",o,s);const u=[],f=fn.empty();os(s,((g,y)=>{const E=Bp(t,g,n);y=ze(y);const S=o.yc(E);if(y instanceof Jh)u.push(E);else{const w=uu(y,S);w!=null&&(u.push(E),f.set(E,w))}}));const m=new Sn(u);return new VS(f,m,o.fieldTransforms)}function rO(r,t,n,s,o,u){const f=r.Cc(1,t,n),m=[Gm(t,s,n)],g=[o];if(u.length%2!=0)throw new at(Z.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let w=0;w<u.length;w+=2)m.push(Gm(t,u[w])),g.push(u[w+1]);const y=[],E=fn.empty();for(let w=m.length-1;w>=0;--w)if(!US(y,m[w])){const U=m[w];let G=g[w];G=ze(G);const J=f.yc(U);if(G instanceof Jh)y.push(U);else{const q=uu(G,J);q!=null&&(y.push(U),E.set(U,q))}}const S=new Sn(y);return new VS(E,S,f.fieldTransforms)}function sO(r,t,n,s=!1){return uu(n,r.Cc(s?4:3,t))}function uu(r,t){if(PS(r=ze(r)))return zp("Unsupported field value:",t,r),LS(r,t);if(r instanceof Pp)return(function(s,o){if(!xS(o.Ac))throw o.Sc(`${s._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Sc(`${s._methodName}() is not currently supported inside arrays`);const u=s._toFieldTransform(o);u&&o.fieldTransforms.push(u)})(r,t),null;if(r===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),r instanceof Array){if(t.settings.fc&&t.Ac!==4)throw t.Sc("Nested arrays are not supported");return(function(s,o){const u=[];let f=0;for(const m of s){let g=uu(m,o.wc(f));g==null&&(g={nullValue:"NULL_VALUE"}),u.push(g),f++}return{arrayValue:{values:u}}})(r,t)}return(function(s,o){if((s=ze(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return j2(o.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const u=ie.fromDate(s);return{timestampValue:Sh(o.serializer,u)}}if(s instanceof ie){const u=new ie(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:Sh(o.serializer,u)}}if(s instanceof Di)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof Pn)return{bytesValue:eS(o.serializer,s._byteString)};if(s instanceof Ve){const u=o.databaseId,f=s.firestore._databaseId;if(!f.isEqual(u))throw o.Sc(`Document reference is for database ${f.projectId}/${f.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:Sp(s.firestore._databaseId||o.databaseId,s._key.path)}}if(s instanceof Ni)return(function(f,m){return{mapValue:{fields:{[I0]:{stringValue:D0},[yh]:{arrayValue:{values:f.toArray().map((y=>{if(typeof y!="number")throw m.Sc("VectorValues must only contain numeric values.");return vp(m.serializer,y)}))}}}}}})(s,o);throw o.Sc(`Unsupported field value: ${Ph(s)}`)})(r,t)}function LS(r,t){const n={};return S0(r)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):os(r,((s,o)=>{const u=uu(o,t.mc(s));u!=null&&(n[s]=u)})),{mapValue:{fields:n}}}function PS(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof ie||r instanceof Di||r instanceof Pn||r instanceof Ve||r instanceof Pp||r instanceof Ni)}function zp(r,t,n){if(!PS(n)||!E0(n)){const s=Ph(n);throw s==="an object"?t.Sc(r+" a custom object"):t.Sc(r+" "+s)}}function Gm(r,t,n){if((t=ze(t))instanceof $h)return t._internalPath;if(typeof t=="string")return Bp(r,t);throw Rh("Field path arguments must be of type string or ",r,!1,void 0,n)}const aO=new RegExp("[~\\*/\\[\\]]");function Bp(r,t,n){if(t.search(aO)>=0)throw Rh(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,n);try{return new $h(...t.split("."))._internalPath}catch{throw Rh(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,n)}}function Rh(r,t,n,s,o){const u=s&&!s.isEmpty(),f=o!==void 0;let m=`Function ${t}() called with invalid data`;n&&(m+=" (via `toFirestore()`)"),m+=". ";let g="";return(u||f)&&(g+=" (found",u&&(g+=` in field ${s}`),f&&(g+=` in document ${o}`),g+=")"),new at(Z.INVALID_ARGUMENT,m+r+g)}function US(r,t){return r.some((n=>n.isEqual(t)))}class kS{constructor(t,n,s,o,u){this._firestore=t,this._userDataWriter=n,this._key=s,this._document=o,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new Ve(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new oO(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const n=this._document.data.field(jp("DocumentSnapshot.get",t));if(n!==null)return this._userDataWriter.convertValue(n)}}}class oO extends kS{data(){return super.data()}}function jp(r,t){return typeof t=="string"?Bp(r,t):t instanceof $h?t._internalPath:t._delegate._internalPath}function lO(r){if(r.limitType==="L"&&r.explicitOrderBy.length===0)throw new at(Z.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class qp{}class uO extends qp{}function cO(r,t,...n){let s=[];t instanceof qp&&s.push(t),s=s.concat(n),(function(u){const f=u.filter((g=>g instanceof Hp)).length,m=u.filter((g=>g instanceof Zh)).length;if(f>1||f>0&&m>0)throw new at(Z.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(s);for(const o of s)r=o._apply(r);return r}class Zh extends uO{constructor(t,n,s){super(),this._field=t,this._op=n,this._value=s,this.type="where"}static _create(t,n,s){return new Zh(t,n,s)}_apply(t){const n=this._parse(t);return zS(t._query,n),new vo(t.firestore,t.converter,xm(t._query,n))}_parse(t){const n=kp(t.firestore);return(function(u,f,m,g,y,E,S){let w;if(y.isKeyField()){if(E==="array-contains"||E==="array-contains-any")throw new at(Z.INVALID_ARGUMENT,`Invalid Query. You can't perform '${E}' queries on documentId().`);if(E==="in"||E==="not-in"){iT(S,E);const G=[];for(const J of S)G.push(nT(g,u,J));w={arrayValue:{values:G}}}else w=nT(g,u,S)}else E!=="in"&&E!=="not-in"&&E!=="array-contains-any"||iT(S,E),w=sO(m,f,S,E==="in"||E==="not-in");return Ce.create(y,E,w)})(t._query,"where",n,t.firestore._databaseId,this._field,this._op,this._value)}}function hO(r,t,n){const s=t,o=jp("where",r);return Zh._create(o,s,n)}class Hp extends qp{constructor(t,n){super(),this.type=t,this._queryConstraints=n}static _create(t,n){return new Hp(t,n)}_parse(t){const n=this._queryConstraints.map((s=>s._parse(t))).filter((s=>s.getFilters().length>0));return n.length===1?n[0]:ti.create(n,this._getOperator())}_apply(t){const n=this._parse(t);return n.getFilters().length===0?t:((function(o,u){let f=o;const m=u.getFlattenedFilters();for(const g of m)zS(f,g),f=xm(f,g)})(t._query,n),new vo(t.firestore,t.converter,xm(t._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function nT(r,t,n){if(typeof(n=ze(n))=="string"){if(n==="")throw new at(Z.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!k0(t)&&n.indexOf("/")!==-1)throw new at(Z.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const s=t.path.child(te.fromString(n));if(!pt.isDocumentKey(s))throw new at(Z.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return _E(r,new pt(s))}if(n instanceof Ve)return _E(r,n._key);throw new at(Z.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Ph(n)}.`)}function iT(r,t){if(!Array.isArray(r)||r.length===0)throw new at(Z.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function zS(r,t){const n=(function(o,u){for(const f of o)for(const m of f.getFlattenedFilters())if(u.indexOf(m.op)>=0)return m.op;return null})(r.filters,(function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(t.op));if(n!==null)throw n===t.op?new at(Z.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`):new at(Z.INVALID_ARGUMENT,`Invalid query. You cannot use '${t.op.toString()}' filters with '${n.toString()}' filters.`)}class fO{convertValue(t,n="none"){switch(ns(t)){case 0:return null;case 1:return t.booleanValue;case 2:return ge(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,n);case 5:return t.stringValue;case 6:return this.convertBytes(es(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,n);case 11:return this.convertObject(t.mapValue,n);case 10:return this.convertVectorValue(t.mapValue);default:throw Et(62114,{value:t})}}convertObject(t,n){return this.convertObjectMap(t.fields,n)}convertObjectMap(t,n="none"){const s={};return os(t,((o,u)=>{s[o]=this.convertValue(u,n)})),s}convertVectorValue(t){const n=t.fields?.[yh].arrayValue?.values?.map((s=>ge(s.doubleValue)));return new Ni(n)}convertGeoPoint(t){return new Di(ge(t.latitude),ge(t.longitude))}convertArray(t,n){return(t.values||[]).map((s=>this.convertValue(s,n)))}convertServerTimestamp(t,n){switch(n){case"previous":const s=zh(t);return s==null?null:this.convertValue(s,n);case"estimate":return this.convertTimestamp(Fl(t));default:return null}}convertTimestamp(t){const n=ts(t);return new ie(n.seconds,n.nanos)}convertDocumentKey(t,n){const s=te.fromString(t);Ft(oS(s),9688,{name:t});const o=new Gl(s.get(1),s.get(3)),u=new pt(s.popFirst(5));return o.isEqual(n)||rr(`Document ${u} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),u}}function dO(r,t,n){let s;return s=r?r.toFirestore(t):t,s}class Kc{constructor(t,n){this.hasPendingWrites=t,this.fromCache=n}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class Xa extends kS{constructor(t,n,s,o,u,f){super(t,n,s,o,f),this._firestore=t,this._firestoreImpl=t,this.metadata=u}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const n=new sh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,n={}){if(this._document){const s=this._document.data.field(jp("DocumentSnapshot.get",t));if(s!==null)return this._userDataWriter.convertValue(s,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new at(Z.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t=this._document,n={};return n.type=Xa._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!t||!t.isValidDocument()||!t.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(t.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}Xa._jsonSchemaVersion="firestore/documentSnapshot/1.0",Xa._jsonSchema={type:Ie("string",Xa._jsonSchemaVersion),bundleSource:Ie("string","DocumentSnapshot"),bundleName:Ie("string"),bundle:Ie("string")};class sh extends Xa{data(t={}){return super.data(t)}}class $a{constructor(t,n,s,o){this._firestore=t,this._userDataWriter=n,this._snapshot=o,this.metadata=new Kc(o.hasPendingWrites,o.fromCache),this.query=s}get docs(){const t=[];return this.forEach((n=>t.push(n))),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,n){this._snapshot.docs.forEach((s=>{t.call(n,new sh(this._firestore,this._userDataWriter,s.key,s,new Kc(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(t={}){const n=!!t.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new at(Z.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(o,u){if(o._snapshot.oldDocs.isEmpty()){let f=0;return o._snapshot.docChanges.map((m=>{const g=new sh(o._firestore,o._userDataWriter,m.doc.key,m.doc,new Kc(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);return m.doc,{type:"added",doc:g,oldIndex:-1,newIndex:f++}}))}{let f=o._snapshot.oldDocs;return o._snapshot.docChanges.filter((m=>u||m.type!==3)).map((m=>{const g=new sh(o._firestore,o._userDataWriter,m.doc.key,m.doc,new Kc(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);let y=-1,E=-1;return m.type!==0&&(y=f.indexOf(m.doc.key),f=f.delete(m.doc.key)),m.type!==1&&(f=f.add(m.doc),E=f.indexOf(m.doc.key)),{type:mO(m.type),doc:g,oldIndex:y,newIndex:E}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new at(Z.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t={};t.type=$a._jsonSchemaVersion,t.bundleSource="QuerySnapshot",t.bundleName=dp.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],s=[],o=[];return this.docs.forEach((u=>{u._document!==null&&(n.push(u._document),s.push(this._userDataWriter.convertObjectMap(u._document.data.value.mapValue.fields,"previous")),o.push(u.ref.path))})),t.bundle=(this._firestore,this.query._query,t.bundleName,"NOT SUPPORTED"),t}}function mO(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Et(61501,{type:r})}}$a._jsonSchemaVersion="firestore/querySnapshot/1.0",$a._jsonSchema={type:Ie("string",$a._jsonSchemaVersion),bundleSource:Ie("string","QuerySnapshot"),bundleName:Ie("string"),bundle:Ie("string")};class pO extends fO{constructor(t){super(),this.firestore=t}convertBytes(t){return new Pn(t)}convertReference(t){const n=this.convertDocumentKey(t,this.firestore._databaseId);return new Ve(this.firestore,null,n)}}function gO(r){r=no(r,vo);const t=no(r.firestore,Xh),n=MS(t),s=new pO(t);return lO(r._query),XN(n,r._query).then((o=>new $a(t,s,r,o)))}function yO(r,t,n,...s){r=no(r,Ve);const o=no(r.firestore,Xh),u=kp(o);let f;return f=typeof(t=ze(t))=="string"||t instanceof $h?rO(u,"updateDoc",r._key,t,n,s):iO(u,"updateDoc",r._key,t),BS(o,[f.toMutation(r._key,Ci.exists(!0))])}function _O(r,t){const n=no(r.firestore,Xh),s=OS(r),o=dO(r.converter,t);return BS(n,[nO(kp(r.firestore),"addDoc",s._key,o,r.converter!==null,{}).toMutation(s._key,Ci.exists(!1))]).then((()=>s))}function BS(r,t){return(function(s,o){const u=new Jr;return s.asyncQueue.enqueueAndForget((async()=>LN(await QN(s),o,u))),u.promise})(MS(r),t)}(function(t,n=!0){(function(o){po=o})(ho),Ja(new Hs("firestore",((s,{instanceIdentifier:o,options:u})=>{const f=s.getProvider("app").getImmediate(),m=new Xh(new WI(s.getProvider("auth-internal")),new n2(f,s.getProvider("app-check-internal")),(function(y,E){if(!Object.prototype.hasOwnProperty.apply(y.options,["projectId"]))throw new at(Z.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Gl(y.options.projectId,E)})(f,o),f);return u={useFetchStreams:n,...u},m._setSettings(u),m}),"PUBLIC").setMultipleInstances(!0)),Yr(sE,aE,t),Yr(sE,aE,"esm2020")})();function vO(){const r=Za().length?Za()[0]:Wl(Lh),t=JN(r),n=xh(r),[s,o]=F.useState(null),[u,f]=F.useState([]),[m,g]=F.useState([]),[y,E]=F.useState(""),[S,w]=F.useState(!1),[U,G]=F.useState(!1),[J,q]=F.useState("");F.useEffect(()=>{const ut=up(n,dt=>o(dt));return()=>ut()},[]),F.useEffect(()=>{(async()=>{G(!0);try{const b=((await(await fetch("https://dummyjson.com/todos?limit=10")).json()).todos??[]).map(R=>({id:String(R.id),title:R.todo,completed:!!R.completed}));g(b)}catch(dt){console.error(dt)}finally{G(!1)}})()},[]);const tt=async ut=>{w(!0),q("");try{const dt=cO(ZE(t,"todos"),hO("uid","==",ut)),b=(await gO(dt)).docs.map(R=>{const V=R.data();return{id:R.id,title:String(V.title??""),completed:!!V.completed}});f(b)}catch(dt){console.error(dt),q("Todo-listan haku eponnistui.")}finally{w(!1)}};F.useEffect(()=>{s?.uid?tt(s.uid):f([])},[s?.uid]);const et=async()=>{if(!s){q("Kirjaudu ensin sisn, jotta voit list tehtvi.");return}if(y.trim()){q("");try{const ut=await _O(ZE(t,"todos"),{uid:s.uid,title:y.trim(),completed:!1});f(dt=>[...dt,{id:ut.id,title:y.trim(),completed:!1}]),E("")}catch(ut){console.error(ut),q("Tehtvn lisys eponnistui.")}}},it=async ut=>{if(s)try{const dt=OS(t,"todos",ut.id);await yO(dt,{completed:!ut.completed}),f(C=>C.map(b=>b.id===ut.id?{...b,completed:!b.completed}:b))}catch(dt){console.error(dt),q("Pivitys eponnistui.")}},_t=F.useMemo(()=>{const ut=u.length,dt=u.filter(b=>b.completed).length,C=ut===0?0:Math.round(dt/ut*100);return{total:ut,done:dt,percent:C}},[u]);return ht.jsxs("div",{className:"card",children:[ht.jsx("h2",{children:"To Do"}),ht.jsx("p",{className:"muted",children:"Lis uusi tehtv ja seuraa edistymistsi!"}),J&&ht.jsx("p",{role:"alert","aria-live":"polite",children:J}),ht.jsx("h3",{children:"Omat tehtvt"}),!s&&ht.jsx("p",{className:"muted",children:"Kirjaudu sisn nhdksesi omat tehtvt."}),s&&ht.jsxs(ht.Fragment,{children:[ht.jsxs("p",{children:["Valmiina: ",ht.jsx("strong",{children:_t.done})," /"," ",ht.jsx("strong",{children:_t.total})," (",_t.percent,"%)"]}),ht.jsx("progress",{value:_t.done,max:Math.max(_t.total,1),style:{width:"100%"}}),ht.jsxs("div",{style:{marginTop:12},children:[ht.jsx("label",{htmlFor:"newtodo",children:"Uusi tehtv"}),ht.jsx("input",{id:"newtodo",type:"text",value:y,onChange:ut=>E(ut.target.value),placeholder:"Kirjoita tehtv..."}),ht.jsx("button",{type:"button",onClick:et,children:"Lis"})]}),S?ht.jsx("p",{className:"muted",children:"Haetaan..."}):ht.jsx("ul",{children:u.map(ut=>ht.jsx("li",{style:{margin:"8px 0"},children:ht.jsxs("label",{style:{display:"flex",gap:10,alignItems:"center"},children:[ht.jsx("input",{type:"checkbox",checked:ut.completed,onChange:()=>it(ut)}),ht.jsx("span",{children:ut.title})]})},ut.id))})]}),ht.jsx("h3",{children:"Esimerkki lista erilaisista tehtvist"}),U?ht.jsx("p",{className:"muted",children:"Haetaan..."}):ht.jsx("ul",{children:m.map(ut=>ht.jsxs("li",{className:"muted",children:[ut.completed?" ":" "," ",ut.title]},ut.id))})]})}function EO(){return ht.jsx(vO,{})}function TO({children:r}){const t=Za().length?Za()[0]:Wl(Lh),n=xh(t),[s,o]=F.useState(!0),[u,f]=F.useState(!1);return F.useEffect(()=>{const m=up(n,g=>{f(!!g),o(!1)});return()=>m()},[]),s?ht.jsx("p",{className:"muted",children:"Tarkistetaan kirjautuminen..."}):u?ht.jsx(ht.Fragment,{children:r}):ht.jsx(yb,{to:"/login",replace:!0})}function SO(){const r=Za().length?Za()[0]:Wl(Lh),t=xh(r),[n,s]=F.useState(null);F.useEffect(()=>{(window._mtm=window._mtm||[]).push({"mtm.startTime":new Date().getTime(),event:"mtm.Start"});const f=document,m=f.createElement("script"),g=f.getElementsByTagName("script")[0];m.async=!0,m.src="https://pilvipalvelut-matomo.2.rahtiapp.fi/js/container_vr3BHwDM.js",g?.parentNode&&g.parentNode.insertBefore(m,g)},[]),F.useEffect(()=>{const u=up(t,f=>s(f?.email??null));return()=>u()},[t]);const o=async()=>{await LC(t)};return ht.jsxs("div",{className:"container",children:[ht.jsx("h1",{children:"Do it!"}),ht.jsxs("nav",{className:"nav","aria-label":"Pvalikko",children:[ht.jsx(oh,{to:"/login",children:"Kirjautuminen"}),ht.jsx(oh,{to:"/todos",children:"Tehtvt"}),ht.jsx("span",{className:"muted",style:{marginLeft:"auto"},children:n?`Kirjautunut: ${n}`:"Ei kirjautunut"}),n&&ht.jsx("button",{type:"button",onClick:o,children:"Kirjaudu ulos"})]}),ht.jsxs(vb,{children:[ht.jsx(Qc,{path:"/login",element:ht.jsx(iE,{})}),ht.jsx(Qc,{path:"/todos",element:ht.jsx(TO,{children:ht.jsx(EO,{})})}),ht.jsx(Qc,{path:"*",element:ht.jsx(iE,{})})]})]})}R1.createRoot(document.getElementById("root")).render(ht.jsx(F.StrictMode,{children:ht.jsx(qb,{children:ht.jsx(SO,{})})}));
